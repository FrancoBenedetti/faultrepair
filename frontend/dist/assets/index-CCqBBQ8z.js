(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))f(l);new MutationObserver(l=>{for(const E of l)if(E.type==="childList")for(const h of E.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&f(h)}).observe(document,{childList:!0,subtree:!0});function c(l){const E={};return l.integrity&&(E.integrity=l.integrity),l.referrerPolicy&&(E.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?E.credentials="include":l.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function f(l){if(l.ep)return;l.ep=!0;const E=c(l);fetch(l.href,E)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function li(n){const t=Object.create(null);for(const c of n.split(","))t[c]=1;return c=>c in t}const mt={},Ts=[],R0=()=>{},Yo=()=>!1,rr=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),ai=n=>n.startsWith("onUpdate:"),Kt=Object.assign,ci=(n,t)=>{const c=n.indexOf(t);c>-1&&n.splice(c,1)},Xl=Object.prototype.hasOwnProperty,ft=(n,t)=>Xl.call(n,t),je=Array.isArray,Ps=n=>bn(n)==="[object Map]",Hs=n=>bn(n)==="[object Set]",Ji=n=>bn(n)==="[object Date]",Xe=n=>typeof n=="function",Tt=n=>typeof n=="string",N0=n=>typeof n=="symbol",bt=n=>n!==null&&typeof n=="object",Ko=n=>(bt(n)||Xe(n))&&Xe(n.then)&&Xe(n.catch),Zo=Object.prototype.toString,bn=n=>Zo.call(n),Yl=n=>bn(n).slice(8,-1),qo=n=>bn(n)==="[object Object]",di=n=>Tt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,rn=li(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ir=n=>{const t=Object.create(null);return(c=>t[c]||(t[c]=n(c)))},Kl=/-\w/g,m0=ir(n=>n.replace(Kl,t=>t.slice(1).toUpperCase())),Zl=/\B([A-Z])/g,As=ir(n=>n.replace(Zl,"-$1").toLowerCase()),or=ir(n=>n.charAt(0).toUpperCase()+n.slice(1)),Or=ir(n=>n?`on${or(n)}`:""),os=(n,t)=>!Object.is(n,t),Un=(n,...t)=>{for(let c=0;c<n.length;c++)n[c](...t)},Qo=(n,t,c,f=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:f,value:c})},Jn=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Xi;const xr=()=>Xi||(Xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gs(n){if(je(n)){const t={};for(let c=0;c<n.length;c++){const f=n[c],l=Tt(f)?ea(f):Gs(f);if(l)for(const E in l)t[E]=l[E]}return t}else if(Tt(n)||bt(n))return n}const ql=/;(?![^(]*\))/g,Ql=/:([^]+)/,$l=/\/\*[^]*?\*\//g;function ea(n){const t={};return n.replace($l,"").split(ql).forEach(c=>{if(c){const f=c.split(Ql);f.length>1&&(t[f[0].trim()]=f[1].trim())}}),t}function vt(n){let t="";if(Tt(n))t=n;else if(je(n))for(let c=0;c<n.length;c++){const f=vt(n[c]);f&&(t+=f+" ")}else if(bt(n))for(const c in n)n[c]&&(t+=c+" ");return t.trim()}const ta="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sa=li(ta);function $o(n){return!!n||n===""}function na(n,t){if(n.length!==t.length)return!1;let c=!0;for(let f=0;c&&f<n.length;f++)c=wn(n[f],t[f]);return c}function wn(n,t){if(n===t)return!0;let c=Ji(n),f=Ji(t);if(c||f)return c&&f?n.getTime()===t.getTime():!1;if(c=N0(n),f=N0(t),c||f)return n===t;if(c=je(n),f=je(t),c||f)return c&&f?na(n,t):!1;if(c=bt(n),f=bt(t),c||f){if(!c||!f)return!1;const l=Object.keys(n).length,E=Object.keys(t).length;if(l!==E)return!1;for(const h in n){const A=n.hasOwnProperty(h),w=t.hasOwnProperty(h);if(A&&!w||!A&&w||!wn(n[h],t[h]))return!1}}return String(n)===String(t)}function ui(n,t){return n.findIndex(c=>wn(c,t))}const ex=n=>!!(n&&n.__v_isRef===!0),O=n=>Tt(n)?n:n==null?"":je(n)||bt(n)&&(n.toString===Zo||!Xe(n.toString))?ex(n)?O(n.value):JSON.stringify(n,tx,2):String(n),tx=(n,t)=>ex(t)?tx(n,t.value):Ps(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((c,[f,l],E)=>(c[Mr(f,E)+" =>"]=l,c),{})}:Hs(t)?{[`Set(${t.size})`]:[...t.values()].map(c=>Mr(c))}:N0(t)?Mr(t):bt(t)&&!je(t)&&!qo(t)?String(t):t,Mr=(n,t="")=>{var c;return N0(n)?`Symbol(${(c=n.description)!=null?c:t})`:n};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let o0;class ra{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=o0,!t&&o0&&(this.index=(o0.scopes||(o0.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,c;if(this.scopes)for(t=0,c=this.scopes.length;t<c;t++)this.scopes[t].pause();for(t=0,c=this.effects.length;t<c;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,c;if(this.scopes)for(t=0,c=this.scopes.length;t<c;t++)this.scopes[t].resume();for(t=0,c=this.effects.length;t<c;t++)this.effects[t].resume()}}run(t){if(this._active){const c=o0;try{return o0=this,t()}finally{o0=c}}}on(){++this._on===1&&(this.prevScope=o0,o0=this)}off(){this._on>0&&--this._on===0&&(o0=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let c,f;for(c=0,f=this.effects.length;c<f;c++)this.effects[c].stop();for(this.effects.length=0,c=0,f=this.cleanups.length;c<f;c++)this.cleanups[c]();if(this.cleanups.length=0,this.scopes){for(c=0,f=this.scopes.length;c<f;c++)this.scopes[c].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0}}}function ia(){return o0}let Bt;const Lr=new WeakSet;class sx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,o0&&o0.active&&o0.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Lr.has(this)&&(Lr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rx(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yi(this),ix(this);const t=Bt,c=b0;Bt=this,b0=!0;try{return this.fn()}finally{ox(this),Bt=t,b0=c,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ei(t);this.deps=this.depsTail=void 0,Yi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Lr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Kr(this)&&this.run()}get dirty(){return Kr(this)}}let nx=0,on,xn;function rx(n,t=!1){if(n.flags|=8,t){n.next=xn,xn=n;return}n.next=on,on=n}function fi(){nx++}function hi(){if(--nx>0)return;if(xn){let t=xn;for(xn=void 0;t;){const c=t.next;t.next=void 0,t.flags&=-9,t=c}}let n;for(;on;){let t=on;for(on=void 0;t;){const c=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(f){n||(n=f)}t=c}}if(n)throw n}function ix(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ox(n){let t,c=n.depsTail,f=c;for(;f;){const l=f.prevDep;f.version===-1?(f===c&&(c=l),Ei(f),oa(f)):t=f,f.dep.activeLink=f.prevActiveLink,f.prevActiveLink=void 0,f=l}n.deps=t,n.depsTail=c}function Kr(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xx(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function xx(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===hn)||(n.globalVersion=hn,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Kr(n))))return;n.flags|=2;const t=n.dep,c=Bt,f=b0;Bt=n,b0=!0;try{ix(n);const l=n.fn(n._value);(t.version===0||os(l,n._value))&&(n.flags|=128,n._value=l,t.version++)}catch(l){throw t.version++,l}finally{Bt=c,b0=f,ox(n),n.flags&=-3}}function Ei(n,t=!1){const{dep:c,prevSub:f,nextSub:l}=n;if(f&&(f.nextSub=l,n.prevSub=void 0),l&&(l.prevSub=f,n.nextSub=void 0),c.subs===n&&(c.subs=f,!f&&c.computed)){c.computed.flags&=-5;for(let E=c.computed.deps;E;E=E.nextDep)Ei(E,!0)}!t&&!--c.sc&&c.map&&c.map.delete(c.key)}function oa(n){const{prevDep:t,nextDep:c}=n;t&&(t.nextDep=c,n.prevDep=void 0),c&&(c.prevDep=t,n.nextDep=void 0)}let b0=!0;const lx=[];function z0(){lx.push(b0),b0=!1}function J0(){const n=lx.pop();b0=n===void 0?!0:n}function Yi(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const c=Bt;Bt=void 0;try{t()}finally{Bt=c}}}let hn=0;class xa{constructor(t,c){this.sub=t,this.dep=c,this.version=c.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Bt||!b0||Bt===this.computed)return;let c=this.activeLink;if(c===void 0||c.sub!==Bt)c=this.activeLink=new xa(Bt,this),Bt.deps?(c.prevDep=Bt.depsTail,Bt.depsTail.nextDep=c,Bt.depsTail=c):Bt.deps=Bt.depsTail=c,ax(c);else if(c.version===-1&&(c.version=this.version,c.nextDep)){const f=c.nextDep;f.prevDep=c.prevDep,c.prevDep&&(c.prevDep.nextDep=f),c.prevDep=Bt.depsTail,c.nextDep=void 0,Bt.depsTail.nextDep=c,Bt.depsTail=c,Bt.deps===c&&(Bt.deps=f)}return c}trigger(t){this.version++,hn++,this.notify(t)}notify(t){fi();try{for(let c=this.subs;c;c=c.prevSub)c.sub.notify()&&c.sub.dep.notify()}finally{hi()}}}function ax(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let f=t.deps;f;f=f.nextDep)ax(f)}const c=n.dep.subs;c!==n&&(n.prevSub=c,c&&(c.nextSub=n)),n.dep.subs=n}}const Zr=new WeakMap,ms=Symbol(""),qr=Symbol(""),En=Symbol("");function Jt(n,t,c){if(b0&&Bt){let f=Zr.get(n);f||Zr.set(n,f=new Map);let l=f.get(c);l||(f.set(c,l=new gi),l.map=f,l.key=c),l.track()}}function j0(n,t,c,f,l,E){const h=Zr.get(n);if(!h){hn++;return}const A=w=>{w&&w.trigger()};if(fi(),t==="clear")h.forEach(A);else{const w=je(n),m=w&&di(c);if(w&&c==="length"){const F=Number(f);h.forEach((b,P)=>{(P==="length"||P===En||!N0(P)&&P>=F)&&A(b)})}else switch((c!==void 0||h.has(void 0))&&A(h.get(c)),m&&A(h.get(En)),t){case"add":w?m&&A(h.get("length")):(A(h.get(ms)),Ps(n)&&A(h.get(qr)));break;case"delete":w||(A(h.get(ms)),Ps(n)&&A(h.get(qr)));break;case"set":Ps(n)&&A(h.get(ms));break}}hi()}function ks(n){const t=ut(n);return t===n?t:(Jt(t,"iterate",En),C0(n)?t:t.map(Gt))}function lr(n){return Jt(n=ut(n),"iterate",En),n}const la={__proto__:null,[Symbol.iterator](){return Ur(this,Symbol.iterator,Gt)},concat(...n){return ks(this).concat(...n.map(t=>je(t)?ks(t):t))},entries(){return Ur(this,"entries",n=>(n[1]=Gt(n[1]),n))},every(n,t){return M0(this,"every",n,t,void 0,arguments)},filter(n,t){return M0(this,"filter",n,t,c=>c.map(Gt),arguments)},find(n,t){return M0(this,"find",n,t,Gt,arguments)},findIndex(n,t){return M0(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return M0(this,"findLast",n,t,Gt,arguments)},findLastIndex(n,t){return M0(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return M0(this,"forEach",n,t,void 0,arguments)},includes(...n){return jr(this,"includes",n)},indexOf(...n){return jr(this,"indexOf",n)},join(n){return ks(this).join(n)},lastIndexOf(...n){return jr(this,"lastIndexOf",n)},map(n,t){return M0(this,"map",n,t,void 0,arguments)},pop(){return Qs(this,"pop")},push(...n){return Qs(this,"push",n)},reduce(n,...t){return Ki(this,"reduce",n,t)},reduceRight(n,...t){return Ki(this,"reduceRight",n,t)},shift(){return Qs(this,"shift")},some(n,t){return M0(this,"some",n,t,void 0,arguments)},splice(...n){return Qs(this,"splice",n)},toReversed(){return ks(this).toReversed()},toSorted(n){return ks(this).toSorted(n)},toSpliced(...n){return ks(this).toSpliced(...n)},unshift(...n){return Qs(this,"unshift",n)},values(){return Ur(this,"values",Gt)}};function Ur(n,t,c){const f=lr(n),l=f[t]();return f!==n&&!C0(n)&&(l._next=l.next,l.next=()=>{const E=l._next();return E.value&&(E.value=c(E.value)),E}),l}const aa=Array.prototype;function M0(n,t,c,f,l,E){const h=lr(n),A=h!==n&&!C0(n),w=h[t];if(w!==aa[t]){const b=w.apply(n,E);return A?Gt(b):b}let m=c;h!==n&&(A?m=function(b,P){return c.call(this,Gt(b),P,n)}:c.length>2&&(m=function(b,P){return c.call(this,b,P,n)}));const F=w.call(h,m,f);return A&&l?l(F):F}function Ki(n,t,c,f){const l=lr(n);let E=c;return l!==n&&(C0(n)?c.length>3&&(E=function(h,A,w){return c.call(this,h,A,w,n)}):E=function(h,A,w){return c.call(this,h,Gt(A),w,n)}),l[t](E,...f)}function jr(n,t,c){const f=ut(n);Jt(f,"iterate",En);const l=f[t](...c);return(l===-1||l===!1)&&Ai(c[0])?(c[0]=ut(c[0]),f[t](...c)):l}function Qs(n,t,c=[]){z0(),fi();const f=ut(n)[t].apply(n,c);return hi(),J0(),f}const ca=li("__proto__,__v_isRef,__isVue"),cx=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(N0));function da(n){N0(n)||(n=String(n));const t=ut(this);return Jt(t,"has",n),t.hasOwnProperty(n)}class dx{constructor(t=!1,c=!1){this._isReadonly=t,this._isShallow=c}get(t,c,f){if(c==="__v_skip")return t.__v_skip;const l=this._isReadonly,E=this._isShallow;if(c==="__v_isReactive")return!l;if(c==="__v_isReadonly")return l;if(c==="__v_isShallow")return E;if(c==="__v_raw")return f===(l?E?Ba:Ex:E?hx:fx).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(f)?t:void 0;const h=je(t);if(!l){let w;if(h&&(w=la[c]))return w;if(c==="hasOwnProperty")return da}const A=Reflect.get(t,c,Yt(t)?t:f);return(N0(c)?cx.has(c):ca(c))||(l||Jt(t,"get",c),E)?A:Yt(A)?h&&di(c)?A:A.value:bt(A)?l?Cx(A):ar(A):A}}class ux extends dx{constructor(t=!1){super(!1,t)}set(t,c,f,l){let E=t[c];if(!this._isShallow){const w=xs(E);if(!C0(f)&&!xs(f)&&(E=ut(E),f=ut(f)),!je(t)&&Yt(E)&&!Yt(f))return w||(E.value=f),!0}const h=je(t)&&di(c)?Number(c)<t.length:ft(t,c),A=Reflect.set(t,c,f,Yt(t)?t:l);return t===ut(l)&&(h?os(f,E)&&j0(t,"set",c,f):j0(t,"add",c,f)),A}deleteProperty(t,c){const f=ft(t,c);t[c];const l=Reflect.deleteProperty(t,c);return l&&f&&j0(t,"delete",c,void 0),l}has(t,c){const f=Reflect.has(t,c);return(!N0(c)||!cx.has(c))&&Jt(t,"has",c),f}ownKeys(t){return Jt(t,"iterate",je(t)?"length":ms),Reflect.ownKeys(t)}}class ua extends dx{constructor(t=!1){super(!0,t)}set(t,c){return!0}deleteProperty(t,c){return!0}}const fa=new ux,ha=new ua,Ea=new ux(!0);const Qr=n=>n,Nn=n=>Reflect.getPrototypeOf(n);function ga(n,t,c){return function(...f){const l=this.__v_raw,E=ut(l),h=Ps(E),A=n==="entries"||n===Symbol.iterator&&h,w=n==="keys"&&h,m=l[n](...f),F=c?Qr:t?Xn:Gt;return!t&&Jt(E,"iterate",w?qr:ms),{next(){const{value:b,done:P}=m.next();return P?{value:b,done:P}:{value:A?[F(b[0]),F(b[1])]:F(b),done:P}},[Symbol.iterator](){return this}}}}function On(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function Ca(n,t){const c={get(l){const E=this.__v_raw,h=ut(E),A=ut(l);n||(os(l,A)&&Jt(h,"get",l),Jt(h,"get",A));const{has:w}=Nn(h),m=t?Qr:n?Xn:Gt;if(w.call(h,l))return m(E.get(l));if(w.call(h,A))return m(E.get(A));E!==h&&E.get(l)},get size(){const l=this.__v_raw;return!n&&Jt(ut(l),"iterate",ms),l.size},has(l){const E=this.__v_raw,h=ut(E),A=ut(l);return n||(os(l,A)&&Jt(h,"has",l),Jt(h,"has",A)),l===A?E.has(l):E.has(l)||E.has(A)},forEach(l,E){const h=this,A=h.__v_raw,w=ut(A),m=t?Qr:n?Xn:Gt;return!n&&Jt(w,"iterate",ms),A.forEach((F,b)=>l.call(E,m(F),m(b),h))}};return Kt(c,n?{add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear")}:{add(l){!t&&!C0(l)&&!xs(l)&&(l=ut(l));const E=ut(this);return Nn(E).has.call(E,l)||(E.add(l),j0(E,"add",l,l)),this},set(l,E){!t&&!C0(E)&&!xs(E)&&(E=ut(E));const h=ut(this),{has:A,get:w}=Nn(h);let m=A.call(h,l);m||(l=ut(l),m=A.call(h,l));const F=w.call(h,l);return h.set(l,E),m?os(E,F)&&j0(h,"set",l,E):j0(h,"add",l,E),this},delete(l){const E=ut(this),{has:h,get:A}=Nn(E);let w=h.call(E,l);w||(l=ut(l),w=h.call(E,l)),A&&A.call(E,l);const m=E.delete(l);return w&&j0(E,"delete",l,void 0),m},clear(){const l=ut(this),E=l.size!==0,h=l.clear();return E&&j0(l,"clear",void 0,void 0),h}}),["keys","values","entries",Symbol.iterator].forEach(l=>{c[l]=ga(l,n,t)}),c}function Ci(n,t){const c=Ca(n,t);return(f,l,E)=>l==="__v_isReactive"?!n:l==="__v_isReadonly"?n:l==="__v_raw"?f:Reflect.get(ft(c,l)&&l in f?c:f,l,E)}const ma={get:Ci(!1,!1)},Aa={get:Ci(!1,!0)},pa={get:Ci(!0,!1)};const fx=new WeakMap,hx=new WeakMap,Ex=new WeakMap,Ba=new WeakMap;function ba(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wa(n){return n.__v_skip||!Object.isExtensible(n)?0:ba(Yl(n))}function ar(n){return xs(n)?n:mi(n,!1,fa,ma,fx)}function gx(n){return mi(n,!1,Ea,Aa,hx)}function Cx(n){return mi(n,!0,ha,pa,Ex)}function mi(n,t,c,f,l){if(!bt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const E=wa(n);if(E===0)return n;const h=l.get(n);if(h)return h;const A=new Proxy(n,E===2?f:c);return l.set(n,A),A}function Rs(n){return xs(n)?Rs(n.__v_raw):!!(n&&n.__v_isReactive)}function xs(n){return!!(n&&n.__v_isReadonly)}function C0(n){return!!(n&&n.__v_isShallow)}function Ai(n){return n?!!n.__v_raw:!1}function ut(n){const t=n&&n.__v_raw;return t?ut(t):n}function Da(n){return!ft(n,"__v_skip")&&Object.isExtensible(n)&&Qo(n,"__v_skip",!0),n}const Gt=n=>bt(n)?ar(n):n,Xn=n=>bt(n)?Cx(n):n;function Yt(n){return n?n.__v_isRef===!0:!1}function Fa(n){return mx(n,!1)}function ya(n){return mx(n,!0)}function mx(n,t){return Yt(n)?n:new va(n,t)}class va{constructor(t,c){this.dep=new gi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=c?t:ut(t),this._value=c?t:Gt(t),this.__v_isShallow=c}get value(){return this.dep.track(),this._value}set value(t){const c=this._rawValue,f=this.__v_isShallow||C0(t)||xs(t);t=f?t:ut(t),os(t,c)&&(this._rawValue=t,this._value=f?t:Gt(t),this.dep.trigger())}}function Ns(n){return Yt(n)?n.value:n}const _a={get:(n,t,c)=>t==="__v_raw"?n:Ns(Reflect.get(n,t,c)),set:(n,t,c,f)=>{const l=n[t];return Yt(l)&&!Yt(c)?(l.value=c,!0):Reflect.set(n,t,c,f)}};function Ax(n){return Rs(n)?n:new Proxy(n,_a)}class ka{constructor(t,c,f){this.fn=t,this.setter=c,this._value=void 0,this.dep=new gi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!c,this.isSSR=f}notify(){if(this.flags|=16,!(this.flags&8)&&Bt!==this)return rx(this,!0),!0}get value(){const t=this.dep.track();return xx(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ia(n,t,c=!1){let f,l;return Xe(n)?f=n:(f=n.get,l=n.set),new ka(f,l,c)}const Mn={},Yn=new WeakMap;let Cs;function Sa(n,t=!1,c=Cs){if(c){let f=Yn.get(c);f||Yn.set(c,f=[]),f.push(n)}}function Ta(n,t,c=mt){const{immediate:f,deep:l,once:E,scheduler:h,augmentJob:A,call:w}=c,m=N=>l?N:C0(N)||l===!1||l===0?V0(N,1):V0(N);let F,b,P,S,V=!1,J=!1;if(Yt(n)?(b=()=>n.value,V=C0(n)):Rs(n)?(b=()=>m(n),V=!0):je(n)?(J=!0,V=n.some(N=>Rs(N)||C0(N)),b=()=>n.map(N=>{if(Yt(N))return N.value;if(Rs(N))return m(N);if(Xe(N))return w?w(N,2):N()})):Xe(n)?t?b=w?()=>w(n,2):n:b=()=>{if(P){z0();try{P()}finally{J0()}}const N=Cs;Cs=F;try{return w?w(n,3,[S]):n(S)}finally{Cs=N}}:b=R0,t&&l){const N=b,z=l===!0?1/0:l;b=()=>V0(N(),z)}const $=ia(),ne=()=>{F.stop(),$&&$.active&&ci($.effects,F)};if(E&&t){const N=t;t=(...z)=>{N(...z),ne()}}let te=J?new Array(n.length).fill(Mn):Mn;const U=N=>{if(!(!(F.flags&1)||!F.dirty&&!N))if(t){const z=F.run();if(l||V||(J?z.some((G,R)=>os(G,te[R])):os(z,te))){P&&P();const G=Cs;Cs=F;try{const R=[z,te===Mn?void 0:J&&te[0]===Mn?[]:te,S];te=z,w?w(t,3,R):t(...R)}finally{Cs=G}}}else F.run()};return A&&A(U),F=new sx(b),F.scheduler=h?()=>h(U,!1):U,S=N=>Sa(N,!1,F),P=F.onStop=()=>{const N=Yn.get(F);if(N){if(w)w(N,4);else for(const z of N)z();Yn.delete(F)}},t?f?U(!0):te=F.run():h?h(U.bind(null,!0),!0):F.run(),ne.pause=F.pause.bind(F),ne.resume=F.resume.bind(F),ne.stop=ne,ne}function V0(n,t=1/0,c){if(t<=0||!bt(n)||n.__v_skip||(c=c||new Map,(c.get(n)||0)>=t))return n;if(c.set(n,t),t--,Yt(n))V0(n.value,t,c);else if(je(n))for(let f=0;f<n.length;f++)V0(n[f],t,c);else if(Hs(n)||Ps(n))n.forEach(f=>{V0(f,t,c)});else if(qo(n)){for(const f in n)V0(n[f],t,c);for(const f of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,f)&&V0(n[f],t,c)}return n}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Dn(n,t,c,f){try{return f?n(...f):n()}catch(l){cr(l,t,c)}}function O0(n,t,c,f){if(Xe(n)){const l=Dn(n,t,c,f);return l&&Ko(l)&&l.catch(E=>{cr(E,t,c)}),l}if(je(n)){const l=[];for(let E=0;E<n.length;E++)l.push(O0(n[E],t,c,f));return l}}function cr(n,t,c,f=!0){const l=t?t.vnode:null,{errorHandler:E,throwUnhandledErrorInProduction:h}=t&&t.appContext.config||mt;if(t){let A=t.parent;const w=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${c}`;for(;A;){const F=A.ec;if(F){for(let b=0;b<F.length;b++)if(F[b](n,w,m)===!1)return}A=A.parent}if(E){z0(),Dn(E,null,10,[n,w,m]),J0();return}}Pa(n,c,l,f,h)}function Pa(n,t,c,f=!0,l=!1){if(l)throw n;console.error(n)}const $t=[];let S0=-1;const Os=[];let ss=null,Is=0;const px=Promise.resolve();let Kn=null;function pi(n){const t=Kn||px;return n?t.then(this?n.bind(this):n):t}function Ra(n){let t=S0+1,c=$t.length;for(;t<c;){const f=t+c>>>1,l=$t[f],E=gn(l);E<n||E===n&&l.flags&2?t=f+1:c=f}return t}function Bi(n){if(!(n.flags&1)){const t=gn(n),c=$t[$t.length-1];!c||!(n.flags&2)&&t>=gn(c)?$t.push(n):$t.splice(Ra(t),0,n),n.flags|=1,Bx()}}function Bx(){Kn||(Kn=px.then(wx))}function Na(n){je(n)?Os.push(...n):ss&&n.id===-1?ss.splice(Is+1,0,n):n.flags&1||(Os.push(n),n.flags|=1),Bx()}function Zi(n,t,c=S0+1){for(;c<$t.length;c++){const f=$t[c];if(f&&f.flags&2){if(n&&f.id!==n.uid)continue;$t.splice(c,1),c--,f.flags&4&&(f.flags&=-2),f(),f.flags&4||(f.flags&=-2)}}}function bx(n){if(Os.length){const t=[...new Set(Os)].sort((c,f)=>gn(c)-gn(f));if(Os.length=0,ss){ss.push(...t);return}for(ss=t,Is=0;Is<ss.length;Is++){const c=ss[Is];c.flags&4&&(c.flags&=-2),c.flags&8||c(),c.flags&=-2}ss=null,Is=0}}const gn=n=>n.id==null?n.flags&2?-1:1/0:n.id;function wx(n){try{for(S0=0;S0<$t.length;S0++){const t=$t[S0];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Dn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;S0<$t.length;S0++){const t=$t[S0];t&&(t.flags&=-2)}S0=-1,$t.length=0,bx(),Kn=null,($t.length||Os.length)&&wx()}}let a0=null,Dx=null;function Zn(n){const t=a0;return a0=n,Dx=n&&n.type.__scopeId||null,t}function P0(n,t=a0,c){if(!t||n._n)return n;const f=(...l)=>{f._d&&$n(-1);const E=Zn(t);let h;try{h=n(...l)}finally{Zn(E),f._d&&$n(1)}return h};return f._n=!0,f._c=!0,f._d=!0,f}function De(n,t){if(a0===null)return n;const c=Er(a0),f=n.dirs||(n.dirs=[]);for(let l=0;l<t.length;l++){let[E,h,A,w=mt]=t[l];E&&(Xe(E)&&(E={mounted:E,updated:E}),E.deep&&V0(h),f.push({dir:E,instance:c,value:h,oldValue:void 0,arg:A,modifiers:w}))}return n}function Es(n,t,c,f){const l=n.dirs,E=t&&t.dirs;for(let h=0;h<l.length;h++){const A=l[h];E&&(A.oldValue=E[h].value);let w=A.dir[f];w&&(z0(),O0(w,c,8,[n.el,A,n,t]),J0())}}const Oa=Symbol("_vte"),Ma=n=>n.__isTeleport,La=Symbol("_leaveCb");function bi(n,t){n.shapeFlag&6&&n.component?(n.transition=t,bi(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function Fx(n,t){return Xe(n)?Kt({name:n.name},t,{setup:n}):n}function yx(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const qn=new WeakMap;function ln(n,t,c,f,l=!1){if(je(n)){n.forEach((V,J)=>ln(V,t&&(je(t)?t[J]:t),c,f,l));return}if(an(f)&&!l){f.shapeFlag&512&&f.type.__asyncResolved&&f.component.subTree.component&&ln(n,t,c,f.component.subTree);return}const E=f.shapeFlag&4?Er(f.component):f.el,h=l?null:E,{i:A,r:w}=n,m=t&&t.r,F=A.refs===mt?A.refs={}:A.refs,b=A.setupState,P=ut(b),S=b===mt?Yo:V=>ft(P,V);if(m!=null&&m!==w){if(qi(t),Tt(m))F[m]=null,S(m)&&(b[m]=null);else if(Yt(m)){m.value=null;const V=t;V.k&&(F[V.k]=null)}}if(Xe(w))Dn(w,A,12,[h,F]);else{const V=Tt(w),J=Yt(w);if(V||J){const $=()=>{if(n.f){const ne=V?S(w)?b[w]:F[w]:w.value;if(l)je(ne)&&ci(ne,E);else if(je(ne))ne.includes(E)||ne.push(E);else if(V)F[w]=[E],S(w)&&(b[w]=F[w]);else{const te=[E];w.value=te,n.k&&(F[n.k]=te)}}else V?(F[w]=h,S(w)&&(b[w]=h)):J&&(w.value=h,n.k&&(F[n.k]=h))};if(h){const ne=()=>{$(),qn.delete(n)};ne.id=-1,qn.set(n,ne),l0(ne,c)}else qi(n),$()}}}function qi(n){const t=qn.get(n);t&&(t.flags|=8,qn.delete(n))}xr().requestIdleCallback;xr().cancelIdleCallback;const an=n=>!!n.type.__asyncLoader,vx=n=>n.type.__isKeepAlive;function Ua(n,t){_x(n,"a",t)}function ja(n,t){_x(n,"da",t)}function _x(n,t,c=Xt){const f=n.__wdc||(n.__wdc=()=>{let l=c;for(;l;){if(l.isDeactivated)return;l=l.parent}return n()});if(dr(t,f,c),c){let l=c.parent;for(;l&&l.parent;)vx(l.parent.vnode)&&Va(f,t,c,l),l=l.parent}}function Va(n,t,c,f){const l=dr(t,n,f,!0);kx(()=>{ci(f[t],l)},c)}function dr(n,t,c=Xt,f=!1){if(c){const l=c[n]||(c[n]=[]),E=t.__weh||(t.__weh=(...h)=>{z0();const A=Fn(c),w=O0(t,c,n,h);return A(),J0(),w});return f?l.unshift(E):l.push(E),E}}const X0=n=>(t,c=Xt)=>{(!mn||n==="sp")&&dr(n,(...f)=>t(...f),c)},Ha=X0("bm"),Ga=X0("m"),Wa=X0("bu"),za=X0("u"),Ja=X0("bum"),kx=X0("um"),Xa=X0("sp"),Ya=X0("rtg"),Ka=X0("rtc");function Za(n,t=Xt){dr("ec",n,t)}const qa="components";function H0(n,t){return $a(qa,n,!0,t)||n}const Qa=Symbol.for("v-ndc");function $a(n,t,c=!0,f=!1){const l=a0||Xt;if(l){const E=l.type;{const A=V1(E,!1);if(A&&(A===t||A===m0(t)||A===or(m0(t))))return E}const h=Qi(l[n]||E[n],t)||Qi(l.appContext[n],t);return!h&&f?E:h}}function Qi(n,t){return n&&(n[t]||n[m0(t)]||n[or(m0(t))])}function tt(n,t,c,f){let l;const E=c,h=je(n);if(h||Tt(n)){const A=h&&Rs(n);let w=!1,m=!1;A&&(w=!C0(n),m=xs(n),n=lr(n)),l=new Array(n.length);for(let F=0,b=n.length;F<b;F++)l[F]=t(w?m?Xn(Gt(n[F])):Gt(n[F]):n[F],F,void 0,E)}else if(typeof n=="number"){l=new Array(n);for(let A=0;A<n;A++)l[A]=t(A+1,A,void 0,E)}else if(bt(n))if(n[Symbol.iterator])l=Array.from(n,(A,w)=>t(A,w,void 0,E));else{const A=Object.keys(n);l=new Array(A.length);for(let w=0,m=A.length;w<m;w++){const F=A[w];l[w]=t(n[F],F,w,E)}}else l=[];return l}const $r=n=>n?Zx(n)?Er(n):$r(n.parent):null,cn=Kt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>$r(n.parent),$root:n=>$r(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Sx(n),$forceUpdate:n=>n.f||(n.f=()=>{Bi(n.update)}),$nextTick:n=>n.n||(n.n=pi.bind(n.proxy)),$watch:n=>p1.bind(n)}),Vr=(n,t)=>n!==mt&&!n.__isScriptSetup&&ft(n,t),e1={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:c,setupState:f,data:l,props:E,accessCache:h,type:A,appContext:w}=n;let m;if(t[0]!=="$"){const S=h[t];if(S!==void 0)switch(S){case 1:return f[t];case 2:return l[t];case 4:return c[t];case 3:return E[t]}else{if(Vr(f,t))return h[t]=1,f[t];if(l!==mt&&ft(l,t))return h[t]=2,l[t];if((m=n.propsOptions[0])&&ft(m,t))return h[t]=3,E[t];if(c!==mt&&ft(c,t))return h[t]=4,c[t];ei&&(h[t]=0)}}const F=cn[t];let b,P;if(F)return t==="$attrs"&&Jt(n.attrs,"get",""),F(n);if((b=A.__cssModules)&&(b=b[t]))return b;if(c!==mt&&ft(c,t))return h[t]=4,c[t];if(P=w.config.globalProperties,ft(P,t))return P[t]},set({_:n},t,c){const{data:f,setupState:l,ctx:E}=n;return Vr(l,t)?(l[t]=c,!0):f!==mt&&ft(f,t)?(f[t]=c,!0):ft(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(E[t]=c,!0)},has({_:{data:n,setupState:t,accessCache:c,ctx:f,appContext:l,propsOptions:E,type:h}},A){let w,m;return!!(c[A]||n!==mt&&A[0]!=="$"&&ft(n,A)||Vr(t,A)||(w=E[0])&&ft(w,A)||ft(f,A)||ft(cn,A)||ft(l.config.globalProperties,A)||(m=h.__cssModules)&&m[A])},defineProperty(n,t,c){return c.get!=null?n._.accessCache[t]=0:ft(c,"value")&&this.set(n,t,c.value,null),Reflect.defineProperty(n,t,c)}};function $i(n){return je(n)?n.reduce((t,c)=>(t[c]=null,t),{}):n}let ei=!0;function t1(n){const t=Sx(n),c=n.proxy,f=n.ctx;ei=!1,t.beforeCreate&&eo(t.beforeCreate,n,"bc");const{data:l,computed:E,methods:h,watch:A,provide:w,inject:m,created:F,beforeMount:b,mounted:P,beforeUpdate:S,updated:V,activated:J,deactivated:$,beforeDestroy:ne,beforeUnmount:te,destroyed:U,unmounted:N,render:z,renderTracked:G,renderTriggered:R,errorCaptured:re,serverPrefetch:W,expose:be,inheritAttrs:me,components:ae,directives:pe,filters:Fe}=t;if(m&&s1(m,f,null),h)for(const xe in h){const Se=h[xe];Xe(Se)&&(f[xe]=Se.bind(c))}if(l){const xe=l.call(c,c);bt(xe)&&(n.data=ar(xe))}if(ei=!0,E)for(const xe in E){const Se=E[xe],Je=Xe(Se)?Se.bind(c,c):Xe(Se.get)?Se.get.bind(c,c):R0,Ke=!Xe(Se)&&Xe(Se.set)?Se.set.bind(c):R0,ke=B0({get:Je,set:Ke});Object.defineProperty(f,xe,{enumerable:!0,configurable:!0,get:()=>ke.value,set:Me=>ke.value=Me})}if(A)for(const xe in A)Ix(A[xe],f,c,xe);if(w){const xe=Xe(w)?w.call(c):w;Reflect.ownKeys(xe).forEach(Se=>{jn(Se,xe[Se])})}F&&eo(F,n,"c");function ye(xe,Se){je(Se)?Se.forEach(Je=>xe(Je.bind(c))):Se&&xe(Se.bind(c))}if(ye(Ha,b),ye(Ga,P),ye(Wa,S),ye(za,V),ye(Ua,J),ye(ja,$),ye(Za,re),ye(Ka,G),ye(Ya,R),ye(Ja,te),ye(kx,N),ye(Xa,W),je(be))if(be.length){const xe=n.exposed||(n.exposed={});be.forEach(Se=>{Object.defineProperty(xe,Se,{get:()=>c[Se],set:Je=>c[Se]=Je,enumerable:!0})})}else n.exposed||(n.exposed={});z&&n.render===R0&&(n.render=z),me!=null&&(n.inheritAttrs=me),ae&&(n.components=ae),pe&&(n.directives=pe),W&&yx(n)}function s1(n,t,c=R0){je(n)&&(n=ti(n));for(const f in n){const l=n[f];let E;bt(l)?"default"in l?E=G0(l.from||f,l.default,!0):E=G0(l.from||f):E=G0(l),Yt(E)?Object.defineProperty(t,f,{enumerable:!0,configurable:!0,get:()=>E.value,set:h=>E.value=h}):t[f]=E}}function eo(n,t,c){O0(je(n)?n.map(f=>f.bind(t.proxy)):n.bind(t.proxy),t,c)}function Ix(n,t,c,f){let l=f.includes(".")?Wx(c,f):()=>c[f];if(Tt(n)){const E=t[n];Xe(E)&&Vn(l,E)}else if(Xe(n))Vn(l,n.bind(c));else if(bt(n))if(je(n))n.forEach(E=>Ix(E,t,c,f));else{const E=Xe(n.handler)?n.handler.bind(c):t[n.handler];Xe(E)&&Vn(l,E,n)}}function Sx(n){const t=n.type,{mixins:c,extends:f}=t,{mixins:l,optionsCache:E,config:{optionMergeStrategies:h}}=n.appContext,A=E.get(t);let w;return A?w=A:!l.length&&!c&&!f?w=t:(w={},l.length&&l.forEach(m=>Qn(w,m,h,!0)),Qn(w,t,h)),bt(t)&&E.set(t,w),w}function Qn(n,t,c,f=!1){const{mixins:l,extends:E}=t;E&&Qn(n,E,c,!0),l&&l.forEach(h=>Qn(n,h,c,!0));for(const h in t)if(!(f&&h==="expose")){const A=n1[h]||c&&c[h];n[h]=A?A(n[h],t[h]):t[h]}return n}const n1={data:to,props:so,emits:so,methods:sn,computed:sn,beforeCreate:Qt,created:Qt,beforeMount:Qt,mounted:Qt,beforeUpdate:Qt,updated:Qt,beforeDestroy:Qt,beforeUnmount:Qt,destroyed:Qt,unmounted:Qt,activated:Qt,deactivated:Qt,errorCaptured:Qt,serverPrefetch:Qt,components:sn,directives:sn,watch:i1,provide:to,inject:r1};function to(n,t){return t?n?function(){return Kt(Xe(n)?n.call(this,this):n,Xe(t)?t.call(this,this):t)}:t:n}function r1(n,t){return sn(ti(n),ti(t))}function ti(n){if(je(n)){const t={};for(let c=0;c<n.length;c++)t[n[c]]=n[c];return t}return n}function Qt(n,t){return n?[...new Set([].concat(n,t))]:t}function sn(n,t){return n?Kt(Object.create(null),n,t):t}function so(n,t){return n?je(n)&&je(t)?[...new Set([...n,...t])]:Kt(Object.create(null),$i(n),$i(t??{})):t}function i1(n,t){if(!n)return t;if(!t)return n;const c=Kt(Object.create(null),n);for(const f in t)c[f]=Qt(n[f],t[f]);return c}function Tx(){return{app:null,config:{isNativeTag:Yo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let o1=0;function x1(n,t){return function(f,l=null){Xe(f)||(f=Kt({},f)),l!=null&&!bt(l)&&(l=null);const E=Tx(),h=new WeakSet,A=[];let w=!1;const m=E.app={_uid:o1++,_component:f,_props:l,_container:null,_context:E,_instance:null,version:G1,get config(){return E.config},set config(F){},use(F,...b){return h.has(F)||(F&&Xe(F.install)?(h.add(F),F.install(m,...b)):Xe(F)&&(h.add(F),F(m,...b))),m},mixin(F){return E.mixins.includes(F)||E.mixins.push(F),m},component(F,b){return b?(E.components[F]=b,m):E.components[F]},directive(F,b){return b?(E.directives[F]=b,m):E.directives[F]},mount(F,b,P){if(!w){const S=m._ceVNode||_t(f,l);return S.appContext=E,P===!0?P="svg":P===!1&&(P=void 0),n(S,F,P),w=!0,m._container=F,F.__vue_app__=m,Er(S.component)}},onUnmount(F){A.push(F)},unmount(){w&&(O0(A,m._instance,16),n(null,m._container),delete m._container.__vue_app__)},provide(F,b){return E.provides[F]=b,m},runWithContext(F){const b=Ms;Ms=m;try{return F()}finally{Ms=b}}};return m}}let Ms=null;function jn(n,t){if(Xt){let c=Xt.provides;const f=Xt.parent&&Xt.parent.provides;f===c&&(c=Xt.provides=Object.create(f)),c[n]=t}}function G0(n,t,c=!1){const f=O1();if(f||Ms){let l=Ms?Ms._context.provides:f?f.parent==null||f.ce?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:void 0;if(l&&n in l)return l[n];if(arguments.length>1)return c&&Xe(t)?t.call(f&&f.proxy):t}}const Px={},Rx=()=>Object.create(Px),Nx=n=>Object.getPrototypeOf(n)===Px;function l1(n,t,c,f=!1){const l={},E=Rx();n.propsDefaults=Object.create(null),Ox(n,t,l,E);for(const h in n.propsOptions[0])h in l||(l[h]=void 0);c?n.props=f?l:gx(l):n.type.props?n.props=l:n.props=E,n.attrs=E}function a1(n,t,c,f){const{props:l,attrs:E,vnode:{patchFlag:h}}=n,A=ut(l),[w]=n.propsOptions;let m=!1;if((f||h>0)&&!(h&16)){if(h&8){const F=n.vnode.dynamicProps;for(let b=0;b<F.length;b++){let P=F[b];if(ur(n.emitsOptions,P))continue;const S=t[P];if(w)if(ft(E,P))S!==E[P]&&(E[P]=S,m=!0);else{const V=m0(P);l[V]=si(w,A,V,S,n,!1)}else S!==E[P]&&(E[P]=S,m=!0)}}}else{Ox(n,t,l,E)&&(m=!0);let F;for(const b in A)(!t||!ft(t,b)&&((F=As(b))===b||!ft(t,F)))&&(w?c&&(c[b]!==void 0||c[F]!==void 0)&&(l[b]=si(w,A,b,void 0,n,!0)):delete l[b]);if(E!==A)for(const b in E)(!t||!ft(t,b))&&(delete E[b],m=!0)}m&&j0(n.attrs,"set","")}function Ox(n,t,c,f){const[l,E]=n.propsOptions;let h=!1,A;if(t)for(let w in t){if(rn(w))continue;const m=t[w];let F;l&&ft(l,F=m0(w))?!E||!E.includes(F)?c[F]=m:(A||(A={}))[F]=m:ur(n.emitsOptions,w)||(!(w in f)||m!==f[w])&&(f[w]=m,h=!0)}if(E){const w=ut(c),m=A||mt;for(let F=0;F<E.length;F++){const b=E[F];c[b]=si(l,w,b,m[b],n,!ft(m,b))}}return h}function si(n,t,c,f,l,E){const h=n[c];if(h!=null){const A=ft(h,"default");if(A&&f===void 0){const w=h.default;if(h.type!==Function&&!h.skipFactory&&Xe(w)){const{propsDefaults:m}=l;if(c in m)f=m[c];else{const F=Fn(l);f=m[c]=w.call(null,t),F()}}else f=w;l.ce&&l.ce._setProp(c,f)}h[0]&&(E&&!A?f=!1:h[1]&&(f===""||f===As(c))&&(f=!0))}return f}const c1=new WeakMap;function Mx(n,t,c=!1){const f=c?c1:t.propsCache,l=f.get(n);if(l)return l;const E=n.props,h={},A=[];let w=!1;if(!Xe(n)){const F=b=>{w=!0;const[P,S]=Mx(b,t,!0);Kt(h,P),S&&A.push(...S)};!c&&t.mixins.length&&t.mixins.forEach(F),n.extends&&F(n.extends),n.mixins&&n.mixins.forEach(F)}if(!E&&!w)return bt(n)&&f.set(n,Ts),Ts;if(je(E))for(let F=0;F<E.length;F++){const b=m0(E[F]);no(b)&&(h[b]=mt)}else if(E)for(const F in E){const b=m0(F);if(no(b)){const P=E[F],S=h[b]=je(P)||Xe(P)?{type:P}:Kt({},P),V=S.type;let J=!1,$=!0;if(je(V))for(let ne=0;ne<V.length;++ne){const te=V[ne],U=Xe(te)&&te.name;if(U==="Boolean"){J=!0;break}else U==="String"&&($=!1)}else J=Xe(V)&&V.name==="Boolean";S[0]=J,S[1]=$,(J||ft(S,"default"))&&A.push(b)}}const m=[h,A];return bt(n)&&f.set(n,m),m}function no(n){return n[0]!=="$"&&!rn(n)}const wi=n=>n==="_"||n==="_ctx"||n==="$stable",Di=n=>je(n)?n.map(T0):[T0(n)],d1=(n,t,c)=>{if(t._n)return t;const f=P0((...l)=>Di(t(...l)),c);return f._c=!1,f},Lx=(n,t,c)=>{const f=n._ctx;for(const l in n){if(wi(l))continue;const E=n[l];if(Xe(E))t[l]=d1(l,E,f);else if(E!=null){const h=Di(E);t[l]=()=>h}}},Ux=(n,t)=>{const c=Di(t);n.slots.default=()=>c},jx=(n,t,c)=>{for(const f in t)(c||!wi(f))&&(n[f]=t[f])},u1=(n,t,c)=>{const f=n.slots=Rx();if(n.vnode.shapeFlag&32){const l=t._;l?(jx(f,t,c),c&&Qo(f,"_",l,!0)):Lx(t,f)}else t&&Ux(n,t)},f1=(n,t,c)=>{const{vnode:f,slots:l}=n;let E=!0,h=mt;if(f.shapeFlag&32){const A=t._;A?c&&A===1?E=!1:jx(l,t,c):(E=!t.$stable,Lx(t,l)),h=t}else t&&(Ux(n,t),h={default:1});if(E)for(const A in l)!wi(A)&&h[A]==null&&delete l[A]},l0=_1;function h1(n){return E1(n)}function E1(n,t){const c=xr();c.__VUE__=!0;const{insert:f,remove:l,patchProp:E,createElement:h,createText:A,createComment:w,setText:m,setElementText:F,parentNode:b,nextSibling:P,setScopeId:S=R0,insertStaticContent:V}=n,J=(T,I,H,ie=null,le=null,ee=null,ce=void 0,oe=null,Ae=!!I.dynamicChildren)=>{if(T===I)return;T&&!$s(T,I)&&(ie=se(T),Me(T,le,ee,!0),T=null),I.patchFlag===-2&&(Ae=!1,I.dynamicChildren=null);const{type:X,ref:Ne,shapeFlag:ve}=I;switch(X){case fr:$(T,I,H,ie);break;case ls:ne(T,I,H,ie);break;case Hn:T==null&&te(I,H,ie,ce);break;case ze:ae(T,I,H,ie,le,ee,ce,oe,Ae);break;default:ve&1?z(T,I,H,ie,le,ee,ce,oe,Ae):ve&6?pe(T,I,H,ie,le,ee,ce,oe,Ae):(ve&64||ve&128)&&X.process(T,I,H,ie,le,ee,ce,oe,Ae,Ie)}Ne!=null&&le?ln(Ne,T&&T.ref,ee,I||T,!I):Ne==null&&T&&T.ref!=null&&ln(T.ref,null,ee,T,!0)},$=(T,I,H,ie)=>{if(T==null)f(I.el=A(I.children),H,ie);else{const le=I.el=T.el;I.children!==T.children&&m(le,I.children)}},ne=(T,I,H,ie)=>{T==null?f(I.el=w(I.children||""),H,ie):I.el=T.el},te=(T,I,H,ie)=>{[T.el,T.anchor]=V(T.children,I,H,ie,T.el,T.anchor)},U=({el:T,anchor:I},H,ie)=>{let le;for(;T&&T!==I;)le=P(T),f(T,H,ie),T=le;f(I,H,ie)},N=({el:T,anchor:I})=>{let H;for(;T&&T!==I;)H=P(T),l(T),T=H;l(I)},z=(T,I,H,ie,le,ee,ce,oe,Ae)=>{I.type==="svg"?ce="svg":I.type==="math"&&(ce="mathml"),T==null?G(I,H,ie,le,ee,ce,oe,Ae):W(T,I,le,ee,ce,oe,Ae)},G=(T,I,H,ie,le,ee,ce,oe)=>{let Ae,X;const{props:Ne,shapeFlag:ve,transition:Pe,dirs:He}=T;if(Ae=T.el=h(T.type,ee,Ne&&Ne.is,Ne),ve&8?F(Ae,T.children):ve&16&&re(T.children,Ae,null,ie,le,Hr(T,ee),ce,oe),He&&Es(T,null,ie,"created"),R(Ae,T,T.scopeId,ce,ie),Ne){for(const ht in Ne)ht!=="value"&&!rn(ht)&&E(Ae,ht,null,Ne[ht],ee,ie);"value"in Ne&&E(Ae,"value",null,Ne.value,ee),(X=Ne.onVnodeBeforeMount)&&I0(X,ie,T)}He&&Es(T,null,ie,"beforeMount");const We=g1(le,Pe);We&&Pe.beforeEnter(Ae),f(Ae,I,H),((X=Ne&&Ne.onVnodeMounted)||We||He)&&l0(()=>{X&&I0(X,ie,T),We&&Pe.enter(Ae),He&&Es(T,null,ie,"mounted")},le)},R=(T,I,H,ie,le)=>{if(H&&S(T,H),ie)for(let ee=0;ee<ie.length;ee++)S(T,ie[ee]);if(le){let ee=le.subTree;if(I===ee||Jx(ee.type)&&(ee.ssContent===I||ee.ssFallback===I)){const ce=le.vnode;R(T,ce,ce.scopeId,ce.slotScopeIds,le.parent)}}},re=(T,I,H,ie,le,ee,ce,oe,Ae=0)=>{for(let X=Ae;X<T.length;X++){const Ne=T[X]=oe?ns(T[X]):T0(T[X]);J(null,Ne,I,H,ie,le,ee,ce,oe)}},W=(T,I,H,ie,le,ee,ce)=>{const oe=I.el=T.el;let{patchFlag:Ae,dynamicChildren:X,dirs:Ne}=I;Ae|=T.patchFlag&16;const ve=T.props||mt,Pe=I.props||mt;let He;if(H&&gs(H,!1),(He=Pe.onVnodeBeforeUpdate)&&I0(He,H,I,T),Ne&&Es(I,T,H,"beforeUpdate"),H&&gs(H,!0),(ve.innerHTML&&Pe.innerHTML==null||ve.textContent&&Pe.textContent==null)&&F(oe,""),X?be(T.dynamicChildren,X,oe,H,ie,Hr(I,le),ee):ce||Se(T,I,oe,null,H,ie,Hr(I,le),ee,!1),Ae>0){if(Ae&16)me(oe,ve,Pe,H,le);else if(Ae&2&&ve.class!==Pe.class&&E(oe,"class",null,Pe.class,le),Ae&4&&E(oe,"style",ve.style,Pe.style,le),Ae&8){const We=I.dynamicProps;for(let ht=0;ht<We.length;ht++){const $e=We[ht],at=ve[$e],Lt=Pe[$e];(Lt!==at||$e==="value")&&E(oe,$e,at,Lt,le,H)}}Ae&1&&T.children!==I.children&&F(oe,I.children)}else!ce&&X==null&&me(oe,ve,Pe,H,le);((He=Pe.onVnodeUpdated)||Ne)&&l0(()=>{He&&I0(He,H,I,T),Ne&&Es(I,T,H,"updated")},ie)},be=(T,I,H,ie,le,ee,ce)=>{for(let oe=0;oe<I.length;oe++){const Ae=T[oe],X=I[oe],Ne=Ae.el&&(Ae.type===ze||!$s(Ae,X)||Ae.shapeFlag&198)?b(Ae.el):H;J(Ae,X,Ne,null,ie,le,ee,ce,!0)}},me=(T,I,H,ie,le)=>{if(I!==H){if(I!==mt)for(const ee in I)!rn(ee)&&!(ee in H)&&E(T,ee,I[ee],null,le,ie);for(const ee in H){if(rn(ee))continue;const ce=H[ee],oe=I[ee];ce!==oe&&ee!=="value"&&E(T,ee,oe,ce,le,ie)}"value"in H&&E(T,"value",I.value,H.value,le)}},ae=(T,I,H,ie,le,ee,ce,oe,Ae)=>{const X=I.el=T?T.el:A(""),Ne=I.anchor=T?T.anchor:A("");let{patchFlag:ve,dynamicChildren:Pe,slotScopeIds:He}=I;He&&(oe=oe?oe.concat(He):He),T==null?(f(X,H,ie),f(Ne,H,ie),re(I.children||[],H,Ne,le,ee,ce,oe,Ae)):ve>0&&ve&64&&Pe&&T.dynamicChildren?(be(T.dynamicChildren,Pe,H,le,ee,ce,oe),(I.key!=null||le&&I===le.subTree)&&Vx(T,I,!0)):Se(T,I,H,Ne,le,ee,ce,oe,Ae)},pe=(T,I,H,ie,le,ee,ce,oe,Ae)=>{I.slotScopeIds=oe,T==null?I.shapeFlag&512?le.ctx.activate(I,H,ie,ce,Ae):Fe(I,H,ie,le,ee,ce,Ae):j(T,I,Ae)},Fe=(T,I,H,ie,le,ee,ce)=>{const oe=T.component=N1(T,ie,le);if(vx(T)&&(oe.ctx.renderer=Ie),M1(oe,!1,ce),oe.asyncDep){if(le&&le.registerDep(oe,ye,ce),!T.el){const Ae=oe.subTree=_t(ls);ne(null,Ae,I,H),T.placeholder=Ae.el}}else ye(oe,T,I,H,le,ee,ce)},j=(T,I,H)=>{const ie=I.component=T.component;if(y1(T,I,H))if(ie.asyncDep&&!ie.asyncResolved){xe(ie,I,H);return}else ie.next=I,ie.update();else I.el=T.el,ie.vnode=I},ye=(T,I,H,ie,le,ee,ce)=>{const oe=()=>{if(T.isMounted){let{next:ve,bu:Pe,u:He,parent:We,vnode:ht}=T;{const u0=Hx(T);if(u0){ve&&(ve.el=ht.el,xe(T,ve,ce)),u0.asyncDep.then(()=>{T.isUnmounted||oe()});return}}let $e=ve,at;gs(T,!1),ve?(ve.el=ht.el,xe(T,ve,ce)):ve=ht,Pe&&Un(Pe),(at=ve.props&&ve.props.onVnodeBeforeUpdate)&&I0(at,We,ve,ht),gs(T,!0);const Lt=io(T),Zt=T.subTree;T.subTree=Lt,J(Zt,Lt,b(Zt.el),se(Zt),T,le,ee),ve.el=Lt.el,$e===null&&v1(T,Lt.el),He&&l0(He,le),(at=ve.props&&ve.props.onVnodeUpdated)&&l0(()=>I0(at,We,ve,ht),le)}else{let ve;const{el:Pe,props:He}=I,{bm:We,m:ht,parent:$e,root:at,type:Lt}=T,Zt=an(I);gs(T,!1),We&&Un(We),!Zt&&(ve=He&&He.onVnodeBeforeMount)&&I0(ve,$e,I),gs(T,!0);{at.ce&&at.ce._def.shadowRoot!==!1&&at.ce._injectChildStyle(Lt);const u0=T.subTree=io(T);J(null,u0,H,ie,T,le,ee),I.el=u0.el}if(ht&&l0(ht,le),!Zt&&(ve=He&&He.onVnodeMounted)){const u0=I;l0(()=>I0(ve,$e,u0),le)}(I.shapeFlag&256||$e&&an($e.vnode)&&$e.vnode.shapeFlag&256)&&T.a&&l0(T.a,le),T.isMounted=!0,I=H=ie=null}};T.scope.on();const Ae=T.effect=new sx(oe);T.scope.off();const X=T.update=Ae.run.bind(Ae),Ne=T.job=Ae.runIfDirty.bind(Ae);Ne.i=T,Ne.id=T.uid,Ae.scheduler=()=>Bi(Ne),gs(T,!0),X()},xe=(T,I,H)=>{I.component=T;const ie=T.vnode.props;T.vnode=I,T.next=null,a1(T,I.props,ie,H),f1(T,I.children,H),z0(),Zi(T),J0()},Se=(T,I,H,ie,le,ee,ce,oe,Ae=!1)=>{const X=T&&T.children,Ne=T?T.shapeFlag:0,ve=I.children,{patchFlag:Pe,shapeFlag:He}=I;if(Pe>0){if(Pe&128){Ke(X,ve,H,ie,le,ee,ce,oe,Ae);return}else if(Pe&256){Je(X,ve,H,ie,le,ee,ce,oe,Ae);return}}He&8?(Ne&16&&we(X,le,ee),ve!==X&&F(H,ve)):Ne&16?He&16?Ke(X,ve,H,ie,le,ee,ce,oe,Ae):we(X,le,ee,!0):(Ne&8&&F(H,""),He&16&&re(ve,H,ie,le,ee,ce,oe,Ae))},Je=(T,I,H,ie,le,ee,ce,oe,Ae)=>{T=T||Ts,I=I||Ts;const X=T.length,Ne=I.length,ve=Math.min(X,Ne);let Pe;for(Pe=0;Pe<ve;Pe++){const He=I[Pe]=Ae?ns(I[Pe]):T0(I[Pe]);J(T[Pe],He,H,null,le,ee,ce,oe,Ae)}X>Ne?we(T,le,ee,!0,!1,ve):re(I,H,ie,le,ee,ce,oe,Ae,ve)},Ke=(T,I,H,ie,le,ee,ce,oe,Ae)=>{let X=0;const Ne=I.length;let ve=T.length-1,Pe=Ne-1;for(;X<=ve&&X<=Pe;){const He=T[X],We=I[X]=Ae?ns(I[X]):T0(I[X]);if($s(He,We))J(He,We,H,null,le,ee,ce,oe,Ae);else break;X++}for(;X<=ve&&X<=Pe;){const He=T[ve],We=I[Pe]=Ae?ns(I[Pe]):T0(I[Pe]);if($s(He,We))J(He,We,H,null,le,ee,ce,oe,Ae);else break;ve--,Pe--}if(X>ve){if(X<=Pe){const He=Pe+1,We=He<Ne?I[He].el:ie;for(;X<=Pe;)J(null,I[X]=Ae?ns(I[X]):T0(I[X]),H,We,le,ee,ce,oe,Ae),X++}}else if(X>Pe)for(;X<=ve;)Me(T[X],le,ee,!0),X++;else{const He=X,We=X,ht=new Map;for(X=We;X<=Pe;X++){const rt=I[X]=Ae?ns(I[X]):T0(I[X]);rt.key!=null&&ht.set(rt.key,X)}let $e,at=0;const Lt=Pe-We+1;let Zt=!1,u0=0;const At=new Array(Lt);for(X=0;X<Lt;X++)At[X]=0;for(X=He;X<=ve;X++){const rt=T[X];if(at>=Lt){Me(rt,le,ee,!0);continue}let et;if(rt.key!=null)et=ht.get(rt.key);else for($e=We;$e<=Pe;$e++)if(At[$e-We]===0&&$s(rt,I[$e])){et=$e;break}et===void 0?Me(rt,le,ee,!0):(At[et-We]=X+1,et>=u0?u0=et:Zt=!0,J(rt,I[et],H,null,le,ee,ce,oe,Ae),at++)}const Be=Zt?C1(At):Ts;for($e=Be.length-1,X=Lt-1;X>=0;X--){const rt=We+X,et=I[rt],wt=I[rt+1],Y0=rt+1<Ne?wt.el||wt.placeholder:ie;At[X]===0?J(null,et,H,Y0,le,ee,ce,oe,Ae):Zt&&($e<0||X!==Be[$e]?ke(et,H,Y0,2):$e--)}}},ke=(T,I,H,ie,le=null)=>{const{el:ee,type:ce,transition:oe,children:Ae,shapeFlag:X}=T;if(X&6){ke(T.component.subTree,I,H,ie);return}if(X&128){T.suspense.move(I,H,ie);return}if(X&64){ce.move(T,I,H,Ie);return}if(ce===ze){f(ee,I,H);for(let ve=0;ve<Ae.length;ve++)ke(Ae[ve],I,H,ie);f(T.anchor,I,H);return}if(ce===Hn){U(T,I,H);return}if(ie!==2&&X&1&&oe)if(ie===0)oe.beforeEnter(ee),f(ee,I,H),l0(()=>oe.enter(ee),le);else{const{leave:ve,delayLeave:Pe,afterLeave:He}=oe,We=()=>{T.ctx.isUnmounted?l(ee):f(ee,I,H)},ht=()=>{ee._isLeaving&&ee[La](!0),ve(ee,()=>{We(),He&&He()})};Pe?Pe(ee,We,ht):ht()}else f(ee,I,H)},Me=(T,I,H,ie=!1,le=!1)=>{const{type:ee,props:ce,ref:oe,children:Ae,dynamicChildren:X,shapeFlag:Ne,patchFlag:ve,dirs:Pe,cacheIndex:He}=T;if(ve===-2&&(le=!1),oe!=null&&(z0(),ln(oe,null,H,T,!0),J0()),He!=null&&(I.renderCache[He]=void 0),Ne&256){I.ctx.deactivate(T);return}const We=Ne&1&&Pe,ht=!an(T);let $e;if(ht&&($e=ce&&ce.onVnodeBeforeUnmount)&&I0($e,I,T),Ne&6)e0(T.component,H,ie);else{if(Ne&128){T.suspense.unmount(H,ie);return}We&&Es(T,null,I,"beforeUnmount"),Ne&64?T.type.remove(T,I,H,Ie,ie):X&&!X.hasOnce&&(ee!==ze||ve>0&&ve&64)?we(X,I,H,!1,!0):(ee===ze&&ve&384||!le&&Ne&16)&&we(Ae,I,H),ie&&lt(T)}(ht&&($e=ce&&ce.onVnodeUnmounted)||We)&&l0(()=>{$e&&I0($e,I,T),We&&Es(T,null,I,"unmounted")},H)},lt=T=>{const{type:I,el:H,anchor:ie,transition:le}=T;if(I===ze){Te(H,ie);return}if(I===Hn){N(T);return}const ee=()=>{l(H),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(T.shapeFlag&1&&le&&!le.persisted){const{leave:ce,delayLeave:oe}=le,Ae=()=>ce(H,ee);oe?oe(T.el,ee,Ae):Ae()}else ee()},Te=(T,I)=>{let H;for(;T!==I;)H=P(T),l(T),T=H;l(I)},e0=(T,I,H)=>{const{bum:ie,scope:le,job:ee,subTree:ce,um:oe,m:Ae,a:X}=T;ro(Ae),ro(X),ie&&Un(ie),le.stop(),ee&&(ee.flags|=8,Me(ce,T,I,H)),oe&&l0(oe,I),l0(()=>{T.isUnmounted=!0},I)},we=(T,I,H,ie=!1,le=!1,ee=0)=>{for(let ce=ee;ce<T.length;ce++)Me(T[ce],I,H,ie,le)},se=T=>{if(T.shapeFlag&6)return se(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const I=P(T.anchor||T.el),H=I&&I[Oa];return H?P(H):I};let Ee=!1;const Ce=(T,I,H)=>{T==null?I._vnode&&Me(I._vnode,null,null,!0):J(I._vnode||null,T,I,null,null,null,H),I._vnode=T,Ee||(Ee=!0,Zi(),bx(),Ee=!1)},Ie={p:J,um:Me,m:ke,r:lt,mt:Fe,mc:re,pc:Se,pbc:be,n:se,o:n};return{render:Ce,hydrate:void 0,createApp:x1(Ce)}}function Hr({type:n,props:t},c){return c==="svg"&&n==="foreignObject"||c==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:c}function gs({effect:n,job:t},c){c?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function g1(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Vx(n,t,c=!1){const f=n.children,l=t.children;if(je(f)&&je(l))for(let E=0;E<f.length;E++){const h=f[E];let A=l[E];A.shapeFlag&1&&!A.dynamicChildren&&((A.patchFlag<=0||A.patchFlag===32)&&(A=l[E]=ns(l[E]),A.el=h.el),!c&&A.patchFlag!==-2&&Vx(h,A)),A.type===fr&&A.patchFlag!==-1&&(A.el=h.el),A.type===ls&&!A.el&&(A.el=h.el)}}function C1(n){const t=n.slice(),c=[0];let f,l,E,h,A;const w=n.length;for(f=0;f<w;f++){const m=n[f];if(m!==0){if(l=c[c.length-1],n[l]<m){t[f]=l,c.push(f);continue}for(E=0,h=c.length-1;E<h;)A=E+h>>1,n[c[A]]<m?E=A+1:h=A;m<n[c[E]]&&(E>0&&(t[f]=c[E-1]),c[E]=f)}}for(E=c.length,h=c[E-1];E-- >0;)c[E]=h,h=t[h];return c}function Hx(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Hx(t)}function ro(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const m1=Symbol.for("v-scx"),A1=()=>G0(m1);function Vn(n,t,c){return Gx(n,t,c)}function Gx(n,t,c=mt){const{immediate:f,deep:l,flush:E,once:h}=c,A=Kt({},c),w=t&&f||!t&&E!=="post";let m;if(mn){if(E==="sync"){const S=A1();m=S.__watcherHandles||(S.__watcherHandles=[])}else if(!w){const S=()=>{};return S.stop=R0,S.resume=R0,S.pause=R0,S}}const F=Xt;A.call=(S,V,J)=>O0(S,F,V,J);let b=!1;E==="post"?A.scheduler=S=>{l0(S,F&&F.suspense)}:E!=="sync"&&(b=!0,A.scheduler=(S,V)=>{V?S():Bi(S)}),A.augmentJob=S=>{t&&(S.flags|=4),b&&(S.flags|=2,F&&(S.id=F.uid,S.i=F))};const P=Ta(n,t,A);return mn&&(m?m.push(P):w&&P()),P}function p1(n,t,c){const f=this.proxy,l=Tt(n)?n.includes(".")?Wx(f,n):()=>f[n]:n.bind(f,f);let E;Xe(t)?E=t:(E=t.handler,c=t);const h=Fn(this),A=Gx(l,E.bind(f),c);return h(),A}function Wx(n,t){const c=t.split(".");return()=>{let f=n;for(let l=0;l<c.length&&f;l++)f=f[c[l]];return f}}const B1=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${m0(t)}Modifiers`]||n[`${As(t)}Modifiers`];function b1(n,t,...c){if(n.isUnmounted)return;const f=n.vnode.props||mt;let l=c;const E=t.startsWith("update:"),h=E&&B1(f,t.slice(7));h&&(h.trim&&(l=c.map(F=>Tt(F)?F.trim():F)),h.number&&(l=c.map(Jn)));let A,w=f[A=Or(t)]||f[A=Or(m0(t))];!w&&E&&(w=f[A=Or(As(t))]),w&&O0(w,n,6,l);const m=f[A+"Once"];if(m){if(!n.emitted)n.emitted={};else if(n.emitted[A])return;n.emitted[A]=!0,O0(m,n,6,l)}}const w1=new WeakMap;function zx(n,t,c=!1){const f=c?w1:t.emitsCache,l=f.get(n);if(l!==void 0)return l;const E=n.emits;let h={},A=!1;if(!Xe(n)){const w=m=>{const F=zx(m,t,!0);F&&(A=!0,Kt(h,F))};!c&&t.mixins.length&&t.mixins.forEach(w),n.extends&&w(n.extends),n.mixins&&n.mixins.forEach(w)}return!E&&!A?(bt(n)&&f.set(n,null),null):(je(E)?E.forEach(w=>h[w]=null):Kt(h,E),bt(n)&&f.set(n,h),h)}function ur(n,t){return!n||!rr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ft(n,t[0].toLowerCase()+t.slice(1))||ft(n,As(t))||ft(n,t))}function io(n){const{type:t,vnode:c,proxy:f,withProxy:l,propsOptions:[E],slots:h,attrs:A,emit:w,render:m,renderCache:F,props:b,data:P,setupState:S,ctx:V,inheritAttrs:J}=n,$=Zn(n);let ne,te;try{if(c.shapeFlag&4){const N=l||f,z=N;ne=T0(m.call(z,N,F,b,S,P,V)),te=A}else{const N=t;ne=T0(N.length>1?N(b,{attrs:A,slots:h,emit:w}):N(b,null)),te=t.props?A:D1(A)}}catch(N){dn.length=0,cr(N,n,1),ne=_t(ls)}let U=ne;if(te&&J!==!1){const N=Object.keys(te),{shapeFlag:z}=U;N.length&&z&7&&(E&&N.some(ai)&&(te=F1(te,E)),U=Ls(U,te,!1,!0))}return c.dirs&&(U=Ls(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(c.dirs):c.dirs),c.transition&&bi(U,c.transition),ne=U,Zn($),ne}const D1=n=>{let t;for(const c in n)(c==="class"||c==="style"||rr(c))&&((t||(t={}))[c]=n[c]);return t},F1=(n,t)=>{const c={};for(const f in n)(!ai(f)||!(f.slice(9)in t))&&(c[f]=n[f]);return c};function y1(n,t,c){const{props:f,children:l,component:E}=n,{props:h,children:A,patchFlag:w}=t,m=E.emitsOptions;if(t.dirs||t.transition)return!0;if(c&&w>=0){if(w&1024)return!0;if(w&16)return f?oo(f,h,m):!!h;if(w&8){const F=t.dynamicProps;for(let b=0;b<F.length;b++){const P=F[b];if(h[P]!==f[P]&&!ur(m,P))return!0}}}else return(l||A)&&(!A||!A.$stable)?!0:f===h?!1:f?h?oo(f,h,m):!0:!!h;return!1}function oo(n,t,c){const f=Object.keys(t);if(f.length!==Object.keys(n).length)return!0;for(let l=0;l<f.length;l++){const E=f[l];if(t[E]!==n[E]&&!ur(c,E))return!0}return!1}function v1({vnode:n,parent:t},c){for(;t;){const f=t.subTree;if(f.suspense&&f.suspense.activeBranch===n&&(f.el=n.el),f===n)(n=t.vnode).el=c,t=t.parent;else break}}const Jx=n=>n.__isSuspense;function _1(n,t){t&&t.pendingBranch?je(n)?t.effects.push(...n):t.effects.push(n):Na(n)}const ze=Symbol.for("v-fgt"),fr=Symbol.for("v-txt"),ls=Symbol.for("v-cmt"),Hn=Symbol.for("v-stc"),dn=[];let c0=null;function _(n=!1){dn.push(c0=n?null:[])}function k1(){dn.pop(),c0=dn[dn.length-1]||null}let Cn=1;function $n(n,t=!1){Cn+=n,n<0&&c0&&t&&(c0.hasOnce=!0)}function Xx(n){return n.dynamicChildren=Cn>0?c0||Ts:null,k1(),Cn>0&&c0&&c0.push(n),n}function k(n,t,c,f,l,E){return Xx(a(n,t,c,f,l,E,!0))}function Yx(n,t,c,f,l){return Xx(_t(n,t,c,f,l,!0))}function er(n){return n?n.__v_isVNode===!0:!1}function $s(n,t){return n.type===t.type&&n.key===t.key}const Kx=({key:n})=>n??null,Gn=({ref:n,ref_key:t,ref_for:c})=>(typeof n=="number"&&(n=""+n),n!=null?Tt(n)||Yt(n)||Xe(n)?{i:a0,r:n,k:t,f:!!c}:n:null);function a(n,t=null,c=null,f=0,l=null,E=n===ze?0:1,h=!1,A=!1){const w={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Kx(t),ref:t&&Gn(t),scopeId:Dx,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:E,patchFlag:f,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:a0};return A?(Fi(w,c),E&128&&n.normalize(w)):c&&(w.shapeFlag|=Tt(c)?8:16),Cn>0&&!h&&c0&&(w.patchFlag>0||E&6)&&w.patchFlag!==32&&c0.push(w),w}const _t=I1;function I1(n,t=null,c=null,f=0,l=null,E=!1){if((!n||n===Qa)&&(n=ls),er(n)){const A=Ls(n,t,!0);return c&&Fi(A,c),Cn>0&&!E&&c0&&(A.shapeFlag&6?c0[c0.indexOf(n)]=A:c0.push(A)),A.patchFlag=-2,A}if(H1(n)&&(n=n.__vccOpts),t){t=S1(t);let{class:A,style:w}=t;A&&!Tt(A)&&(t.class=vt(A)),bt(w)&&(Ai(w)&&!je(w)&&(w=Kt({},w)),t.style=Gs(w))}const h=Tt(n)?1:Jx(n)?128:Ma(n)?64:bt(n)?4:Xe(n)?2:0;return a(n,t,c,f,l,h,E,!0)}function S1(n){return n?Ai(n)||Nx(n)?Kt({},n):n:null}function Ls(n,t,c=!1,f=!1){const{props:l,ref:E,patchFlag:h,children:A,transition:w}=n,m=t?T1(l||{},t):l,F={__v_isVNode:!0,__v_skip:!0,type:n.type,props:m,key:m&&Kx(m),ref:t&&t.ref?c&&E?je(E)?E.concat(Gn(t)):[E,Gn(t)]:Gn(t):E,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:A,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==ze?h===-1?16:h|16:h,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:w,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Ls(n.ssContent),ssFallback:n.ssFallback&&Ls(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return w&&f&&bi(F,w.clone(F)),F}function Z(n=" ",t=0){return _t(fr,null,n,t)}function hr(n,t){const c=_t(Hn,null,n);return c.staticCount=t,c}function fe(n="",t=!1){return t?(_(),Yx(ls,null,n)):_t(ls,null,n)}function T0(n){return n==null||typeof n=="boolean"?_t(ls):je(n)?_t(ze,null,n.slice()):er(n)?ns(n):_t(fr,null,String(n))}function ns(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Ls(n)}function Fi(n,t){let c=0;const{shapeFlag:f}=n;if(t==null)t=null;else if(je(t))c=16;else if(typeof t=="object")if(f&65){const l=t.default;l&&(l._c&&(l._d=!1),Fi(n,l()),l._c&&(l._d=!0));return}else{c=32;const l=t._;!l&&!Nx(t)?t._ctx=a0:l===3&&a0&&(a0.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Xe(t)?(t={default:t,_ctx:a0},c=32):(t=String(t),f&64?(c=16,t=[Z(t)]):c=8);n.children=t,n.shapeFlag|=c}function T1(...n){const t={};for(let c=0;c<n.length;c++){const f=n[c];for(const l in f)if(l==="class")t.class!==f.class&&(t.class=vt([t.class,f.class]));else if(l==="style")t.style=Gs([t.style,f.style]);else if(rr(l)){const E=t[l],h=f[l];h&&E!==h&&!(je(E)&&E.includes(h))&&(t[l]=E?[].concat(E,h):h)}else l!==""&&(t[l]=f[l])}return t}function I0(n,t,c,f=null){O0(n,t,7,[c,f])}const P1=Tx();let R1=0;function N1(n,t,c){const f=n.type,l=(t?t.appContext:n.appContext)||P1,E={uid:R1++,vnode:n,type:f,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ra(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mx(f,l),emitsOptions:zx(f,l),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:f.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return E.ctx={_:E},E.root=t?t.root:E,E.emit=b1.bind(null,E),n.ce&&n.ce(E),E}let Xt=null;const O1=()=>Xt||a0;let tr,ni;{const n=xr(),t=(c,f)=>{let l;return(l=n[c])||(l=n[c]=[]),l.push(f),E=>{l.length>1?l.forEach(h=>h(E)):l[0](E)}};tr=t("__VUE_INSTANCE_SETTERS__",c=>Xt=c),ni=t("__VUE_SSR_SETTERS__",c=>mn=c)}const Fn=n=>{const t=Xt;return tr(n),n.scope.on(),()=>{n.scope.off(),tr(t)}},xo=()=>{Xt&&Xt.scope.off(),tr(null)};function Zx(n){return n.vnode.shapeFlag&4}let mn=!1;function M1(n,t=!1,c=!1){t&&ni(t);const{props:f,children:l}=n.vnode,E=Zx(n);l1(n,f,E,t),u1(n,l,c||t);const h=E?L1(n,t):void 0;return t&&ni(!1),h}function L1(n,t){const c=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,e1);const{setup:f}=c;if(f){z0();const l=n.setupContext=f.length>1?j1(n):null,E=Fn(n),h=Dn(f,n,0,[n.props,l]),A=Ko(h);if(J0(),E(),(A||n.sp)&&!an(n)&&yx(n),A){if(h.then(xo,xo),t)return h.then(w=>{lo(n,w)}).catch(w=>{cr(w,n,0)});n.asyncDep=h}else lo(n,h)}else qx(n)}function lo(n,t,c){Xe(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:bt(t)&&(n.setupState=Ax(t)),qx(n)}function qx(n,t,c){const f=n.type;n.render||(n.render=f.render||R0);{const l=Fn(n);z0();try{t1(n)}finally{J0(),l()}}}const U1={get(n,t){return Jt(n,"get",""),n[t]}};function j1(n){const t=c=>{n.exposed=c||{}};return{attrs:new Proxy(n.attrs,U1),slots:n.slots,emit:n.emit,expose:t}}function Er(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Ax(Da(n.exposed)),{get(t,c){if(c in t)return t[c];if(c in cn)return cn[c](n)},has(t,c){return c in t||c in cn}})):n.proxy}function V1(n,t=!0){return Xe(n)?n.displayName||n.name:n.name||t&&n.__name}function H1(n){return Xe(n)&&"__vccOpts"in n}const B0=(n,t)=>Ia(n,t,mn);function Qx(n,t,c){const f=(E,h,A)=>{$n(-1);try{return _t(E,h,A)}finally{$n(1)}},l=arguments.length;return l===2?bt(t)&&!je(t)?er(t)?f(n,null,[t]):f(n,t):f(n,null,t):(l>3?c=Array.prototype.slice.call(arguments,2):l===3&&er(c)&&(c=[c]),f(n,t,c))}const G1="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ri;const ao=typeof window<"u"&&window.trustedTypes;if(ao)try{ri=ao.createPolicy("vue",{createHTML:n=>n})}catch{}const $x=ri?n=>ri.createHTML(n):n=>n,W1="http://www.w3.org/2000/svg",z1="http://www.w3.org/1998/Math/MathML",U0=typeof document<"u"?document:null,co=U0&&U0.createElement("template"),J1={insert:(n,t,c)=>{t.insertBefore(n,c||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,c,f)=>{const l=t==="svg"?U0.createElementNS(W1,n):t==="mathml"?U0.createElementNS(z1,n):c?U0.createElement(n,{is:c}):U0.createElement(n);return n==="select"&&f&&f.multiple!=null&&l.setAttribute("multiple",f.multiple),l},createText:n=>U0.createTextNode(n),createComment:n=>U0.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>U0.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,c,f,l,E){const h=c?c.previousSibling:t.lastChild;if(l&&(l===E||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),c),!(l===E||!(l=l.nextSibling)););else{co.innerHTML=$x(f==="svg"?`<svg>${n}</svg>`:f==="mathml"?`<math>${n}</math>`:n);const A=co.content;if(f==="svg"||f==="mathml"){const w=A.firstChild;for(;w.firstChild;)A.appendChild(w.firstChild);A.removeChild(w)}t.insertBefore(A,c)}return[h?h.nextSibling:t.firstChild,c?c.previousSibling:t.lastChild]}},X1=Symbol("_vtc");function Y1(n,t,c){const f=n[X1];f&&(t=(t?[t,...f]:[...f]).join(" ")),t==null?n.removeAttribute("class"):c?n.setAttribute("class",t):n.className=t}const sr=Symbol("_vod"),el=Symbol("_vsh"),Gr={name:"show",beforeMount(n,{value:t},{transition:c}){n[sr]=n.style.display==="none"?"":n.style.display,c&&t?c.beforeEnter(n):en(n,t)},mounted(n,{value:t},{transition:c}){c&&t&&c.enter(n)},updated(n,{value:t,oldValue:c},{transition:f}){!t!=!c&&(f?t?(f.beforeEnter(n),en(n,!0),f.enter(n)):f.leave(n,()=>{en(n,!1)}):en(n,t))},beforeUnmount(n,{value:t}){en(n,t)}};function en(n,t){n.style.display=t?n[sr]:"none",n[el]=!t}const K1=Symbol(""),Z1=/(?:^|;)\s*display\s*:/;function q1(n,t,c){const f=n.style,l=Tt(c);let E=!1;if(c&&!l){if(t)if(Tt(t))for(const h of t.split(";")){const A=h.slice(0,h.indexOf(":")).trim();c[A]==null&&Wn(f,A,"")}else for(const h in t)c[h]==null&&Wn(f,h,"");for(const h in c)h==="display"&&(E=!0),Wn(f,h,c[h])}else if(l){if(t!==c){const h=f[K1];h&&(c+=";"+h),f.cssText=c,E=Z1.test(c)}}else t&&n.removeAttribute("style");sr in n&&(n[sr]=E?f.display:"",n[el]&&(f.display="none"))}const uo=/\s*!important$/;function Wn(n,t,c){if(je(c))c.forEach(f=>Wn(n,t,f));else if(c==null&&(c=""),t.startsWith("--"))n.setProperty(t,c);else{const f=Q1(n,t);uo.test(c)?n.setProperty(As(f),c.replace(uo,""),"important"):n[f]=c}}const fo=["Webkit","Moz","ms"],Wr={};function Q1(n,t){const c=Wr[t];if(c)return c;let f=m0(t);if(f!=="filter"&&f in n)return Wr[t]=f;f=or(f);for(let l=0;l<fo.length;l++){const E=fo[l]+f;if(E in n)return Wr[t]=E}return t}const ho="http://www.w3.org/1999/xlink";function Eo(n,t,c,f,l,E=sa(t)){f&&t.startsWith("xlink:")?c==null?n.removeAttributeNS(ho,t.slice(6,t.length)):n.setAttributeNS(ho,t,c):c==null||E&&!$o(c)?n.removeAttribute(t):n.setAttribute(t,E?"":N0(c)?String(c):c)}function go(n,t,c,f,l){if(t==="innerHTML"||t==="textContent"){c!=null&&(n[t]=t==="innerHTML"?$x(c):c);return}const E=n.tagName;if(t==="value"&&E!=="PROGRESS"&&!E.includes("-")){const A=E==="OPTION"?n.getAttribute("value")||"":n.value,w=c==null?n.type==="checkbox"?"on":"":String(c);(A!==w||!("_value"in n))&&(n.value=w),c==null&&n.removeAttribute(t),n._value=c;return}let h=!1;if(c===""||c==null){const A=typeof n[t];A==="boolean"?c=$o(c):c==null&&A==="string"?(c="",h=!0):A==="number"&&(c=0,h=!0)}try{n[t]=c}catch{}h&&n.removeAttribute(l||t)}function is(n,t,c,f){n.addEventListener(t,c,f)}function $1(n,t,c,f){n.removeEventListener(t,c,f)}const Co=Symbol("_vei");function ec(n,t,c,f,l=null){const E=n[Co]||(n[Co]={}),h=E[t];if(f&&h)h.value=f;else{const[A,w]=tc(t);if(f){const m=E[t]=rc(f,l);is(n,A,m,w)}else h&&($1(n,A,h,w),E[t]=void 0)}}const mo=/(?:Once|Passive|Capture)$/;function tc(n){let t;if(mo.test(n)){t={};let f;for(;f=n.match(mo);)n=n.slice(0,n.length-f[0].length),t[f[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):As(n.slice(2)),t]}let zr=0;const sc=Promise.resolve(),nc=()=>zr||(sc.then(()=>zr=0),zr=Date.now());function rc(n,t){const c=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=c.attached)return;O0(ic(f,c.value),t,5,[f])};return c.value=n,c.attached=nc(),c}function ic(n,t){if(je(t)){const c=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{c.call(n),n._stopped=!0},t.map(f=>l=>!l._stopped&&f&&f(l))}else return t}const Ao=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,oc=(n,t,c,f,l,E)=>{const h=l==="svg";t==="class"?Y1(n,f,h):t==="style"?q1(n,c,f):rr(t)?ai(t)||ec(n,t,c,f,E):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xc(n,t,f,h))?(go(n,t,f),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Eo(n,t,f,h,E,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Tt(f))?go(n,m0(t),f,E,t):(t==="true-value"?n._trueValue=f:t==="false-value"&&(n._falseValue=f),Eo(n,t,f,h))};function xc(n,t,c,f){if(f)return!!(t==="innerHTML"||t==="textContent"||t in n&&Ao(t)&&Xe(c));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const l=n.tagName;if(l==="IMG"||l==="VIDEO"||l==="CANVAS"||l==="SOURCE")return!1}return Ao(t)&&Tt(c)?!1:t in n}const Us=n=>{const t=n.props["onUpdate:modelValue"]||!1;return je(t)?c=>Un(t,c):t};function lc(n){n.target.composing=!0}function po(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const W0=Symbol("_assign"),Oe={created(n,{modifiers:{lazy:t,trim:c,number:f}},l){n[W0]=Us(l);const E=f||l.props&&l.props.type==="number";is(n,t?"change":"input",h=>{if(h.target.composing)return;let A=n.value;c&&(A=A.trim()),E&&(A=Jn(A)),n[W0](A)}),c&&is(n,"change",()=>{n.value=n.value.trim()}),t||(is(n,"compositionstart",lc),is(n,"compositionend",po),is(n,"change",po))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:c,modifiers:{lazy:f,trim:l,number:E}},h){if(n[W0]=Us(h),n.composing)return;const A=(E||n.type==="number")&&!/^0\d/.test(n.value)?Jn(n.value):n.value,w=t??"";A!==w&&(document.activeElement===n&&n.type!=="range"&&(f&&t===c||l&&n.value.trim()===w)||(n.value=w))}},Bo={deep:!0,created(n,t,c){n[W0]=Us(c),is(n,"change",()=>{const f=n._modelValue,l=An(n),E=n.checked,h=n[W0];if(je(f)){const A=ui(f,l),w=A!==-1;if(E&&!w)h(f.concat(l));else if(!E&&w){const m=[...f];m.splice(A,1),h(m)}}else if(Hs(f)){const A=new Set(f);E?A.add(l):A.delete(l),h(A)}else h(tl(n,E))})},mounted:bo,beforeUpdate(n,t,c){n[W0]=Us(c),bo(n,t,c)}};function bo(n,{value:t,oldValue:c},f){n._modelValue=t;let l;if(je(t))l=ui(t,f.props.value)>-1;else if(Hs(t))l=t.has(f.props.value);else{if(t===c)return;l=wn(t,tl(n,!0))}n.checked!==l&&(n.checked=l)}const Ht={deep:!0,created(n,{value:t,modifiers:{number:c}},f){const l=Hs(t);is(n,"change",()=>{const E=Array.prototype.filter.call(n.options,h=>h.selected).map(h=>c?Jn(An(h)):An(h));n[W0](n.multiple?l?new Set(E):E:E[0]),n._assigning=!0,pi(()=>{n._assigning=!1})}),n[W0]=Us(f)},mounted(n,{value:t}){wo(n,t)},beforeUpdate(n,t,c){n[W0]=Us(c)},updated(n,{value:t}){n._assigning||wo(n,t)}};function wo(n,t){const c=n.multiple,f=je(t);if(!(c&&!f&&!Hs(t))){for(let l=0,E=n.options.length;l<E;l++){const h=n.options[l],A=An(h);if(c)if(f){const w=typeof A;w==="string"||w==="number"?h.selected=t.some(m=>String(m)===String(A)):h.selected=ui(t,A)>-1}else h.selected=t.has(A);else if(wn(An(h),t)){n.selectedIndex!==l&&(n.selectedIndex=l);return}}!c&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function An(n){return"_value"in n?n._value:n.value}function tl(n,t){const c=t?"_trueValue":"_falseValue";return c in n?n[c]:t}const ac=["ctrl","shift","alt","meta"],cc={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>ac.some(c=>n[`${c}Key`]&&!t.includes(c))},Ze=(n,t)=>{const c=n._withMods||(n._withMods={}),f=t.join(".");return c[f]||(c[f]=((l,...E)=>{for(let h=0;h<t.length;h++){const A=cc[t[h]];if(A&&A(l,t))return}return n(l,...E)}))},dc=Kt({patchProp:oc},J1);let Do;function uc(){return Do||(Do=h1(dc))}const fc=((...n)=>{const t=uc().createApp(...n),{mount:c}=t;return t.mount=f=>{const l=Ec(f);if(!l)return;const E=t._component;!Xe(E)&&!E.render&&!E.template&&(E.template=l.innerHTML),l.nodeType===1&&(l.textContent="");const h=c(l,!1,hc(l));return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),h},t});function hc(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Ec(n){return Tt(n)?document.querySelector(n):n}const d0=(n,t)=>{const c=n.__vccOpts||n;for(const[f,l]of t)c[f]=l;return c},gc={name:"App"},Cc={id:"app",class:"min-h-screen bg-white"};function mc(n,t,c,f,l,E){const h=H0("router-view");return _(),k("div",Cc,[_t(h)])}const Ac=d0(gc,[["render",mc]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ss=typeof document<"u";function sl(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function pc(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&sl(n.default)}const dt=Object.assign;function Jr(n,t){const c={};for(const f in t){const l=t[f];c[f]=w0(l)?l.map(n):n(l)}return c}const un=()=>{},w0=Array.isArray,nl=/#/g,Bc=/&/g,bc=/\//g,wc=/=/g,Dc=/\?/g,rl=/\+/g,Fc=/%5B/g,yc=/%5D/g,il=/%5E/g,vc=/%60/g,ol=/%7B/g,_c=/%7C/g,xl=/%7D/g,kc=/%20/g;function yi(n){return encodeURI(""+n).replace(_c,"|").replace(Fc,"[").replace(yc,"]")}function Ic(n){return yi(n).replace(ol,"{").replace(xl,"}").replace(il,"^")}function ii(n){return yi(n).replace(rl,"%2B").replace(kc,"+").replace(nl,"%23").replace(Bc,"%26").replace(vc,"`").replace(ol,"{").replace(xl,"}").replace(il,"^")}function Sc(n){return ii(n).replace(wc,"%3D")}function Tc(n){return yi(n).replace(nl,"%23").replace(Dc,"%3F")}function Pc(n){return n==null?"":Tc(n).replace(bc,"%2F")}function pn(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const Rc=/\/$/,Nc=n=>n.replace(Rc,"");function Xr(n,t,c="/"){let f,l={},E="",h="";const A=t.indexOf("#");let w=t.indexOf("?");return A<w&&A>=0&&(w=-1),w>-1&&(f=t.slice(0,w),E=t.slice(w+1,A>-1?A:t.length),l=n(E)),A>-1&&(f=f||t.slice(0,A),h=t.slice(A,t.length)),f=Uc(f??t,c),{fullPath:f+(E&&"?")+E+h,path:f,query:l,hash:pn(h)}}function Oc(n,t){const c=t.query?n(t.query):"";return t.path+(c&&"?")+c+(t.hash||"")}function Fo(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function Mc(n,t,c){const f=t.matched.length-1,l=c.matched.length-1;return f>-1&&f===l&&js(t.matched[f],c.matched[l])&&ll(t.params,c.params)&&n(t.query)===n(c.query)&&t.hash===c.hash}function js(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function ll(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const c in n)if(!Lc(n[c],t[c]))return!1;return!0}function Lc(n,t){return w0(n)?yo(n,t):w0(t)?yo(t,n):n===t}function yo(n,t){return w0(t)?n.length===t.length&&n.every((c,f)=>c===t[f]):n.length===1&&n[0]===t}function Uc(n,t){if(n.startsWith("/"))return n;if(!n)return t;const c=t.split("/"),f=n.split("/"),l=f[f.length-1];(l===".."||l===".")&&f.push("");let E=c.length-1,h,A;for(h=0;h<f.length;h++)if(A=f[h],A!==".")if(A==="..")E>1&&E--;else break;return c.slice(0,E).join("/")+"/"+f.slice(h).join("/")}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Bn;(function(n){n.pop="pop",n.push="push"})(Bn||(Bn={}));var fn;(function(n){n.back="back",n.forward="forward",n.unknown=""})(fn||(fn={}));function jc(n){if(!n)if(Ss){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Nc(n)}const Vc=/^[^#]+#/;function Hc(n,t){return n.replace(Vc,"#")+t}function Gc(n,t){const c=document.documentElement.getBoundingClientRect(),f=n.getBoundingClientRect();return{behavior:t.behavior,left:f.left-c.left-(t.left||0),top:f.top-c.top-(t.top||0)}}const gr=()=>({left:window.scrollX,top:window.scrollY});function Wc(n){let t;if("el"in n){const c=n.el,f=typeof c=="string"&&c.startsWith("#"),l=typeof c=="string"?f?document.getElementById(c.slice(1)):document.querySelector(c):c;if(!l)return;t=Gc(l,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function vo(n,t){return(history.state?history.state.position-t:-1)+n}const oi=new Map;function zc(n,t){oi.set(n,t)}function Jc(n){const t=oi.get(n);return oi.delete(n),t}let Xc=()=>location.protocol+"//"+location.host;function al(n,t){const{pathname:c,search:f,hash:l}=t,E=n.indexOf("#");if(E>-1){let A=l.includes(n.slice(E))?n.slice(E).length:1,w=l.slice(A);return w[0]!=="/"&&(w="/"+w),Fo(w,"")}return Fo(c,n)+f+l}function Yc(n,t,c,f){let l=[],E=[],h=null;const A=({state:P})=>{const S=al(n,location),V=c.value,J=t.value;let $=0;if(P){if(c.value=S,t.value=P,h&&h===V){h=null;return}$=J?P.position-J.position:0}else f(S);l.forEach(ne=>{ne(c.value,V,{delta:$,type:Bn.pop,direction:$?$>0?fn.forward:fn.back:fn.unknown})})};function w(){h=c.value}function m(P){l.push(P);const S=()=>{const V=l.indexOf(P);V>-1&&l.splice(V,1)};return E.push(S),S}function F(){const{history:P}=window;P.state&&P.replaceState(dt({},P.state,{scroll:gr()}),"")}function b(){for(const P of E)P();E=[],window.removeEventListener("popstate",A),window.removeEventListener("beforeunload",F)}return window.addEventListener("popstate",A),window.addEventListener("beforeunload",F,{passive:!0}),{pauseListeners:w,listen:m,destroy:b}}function _o(n,t,c,f=!1,l=!1){return{back:n,current:t,forward:c,replaced:f,position:window.history.length,scroll:l?gr():null}}function Kc(n){const{history:t,location:c}=window,f={value:al(n,c)},l={value:t.state};l.value||E(f.value,{back:null,current:f.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function E(w,m,F){const b=n.indexOf("#"),P=b>-1?(c.host&&document.querySelector("base")?n:n.slice(b))+w:Xc()+n+w;try{t[F?"replaceState":"pushState"](m,"",P),l.value=m}catch(S){console.error(S),c[F?"replace":"assign"](P)}}function h(w,m){const F=dt({},t.state,_o(l.value.back,w,l.value.forward,!0),m,{position:l.value.position});E(w,F,!0),f.value=w}function A(w,m){const F=dt({},l.value,t.state,{forward:w,scroll:gr()});E(F.current,F,!0);const b=dt({},_o(f.value,w,null),{position:F.position+1},m);E(w,b,!1),f.value=w}return{location:f,state:l,push:A,replace:h}}function Zc(n){n=jc(n);const t=Kc(n),c=Yc(n,t.state,t.location,t.replace);function f(E,h=!0){h||c.pauseListeners(),history.go(E)}const l=dt({location:"",base:n,go:f,createHref:Hc.bind(null,n)},t,c);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>t.state.value}),l}function qc(n){return typeof n=="string"||n&&typeof n=="object"}function cl(n){return typeof n=="string"||typeof n=="symbol"}const dl=Symbol("");var ko;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(ko||(ko={}));function Vs(n,t){return dt(new Error,{type:n,[dl]:!0},t)}function L0(n,t){return n instanceof Error&&dl in n&&(t==null||!!(n.type&t))}const Io="[^/]+?",Qc={sensitive:!1,strict:!1,start:!0,end:!0},$c=/[.+*?^${}()[\]/\\]/g;function ed(n,t){const c=dt({},Qc,t),f=[];let l=c.start?"^":"";const E=[];for(const m of n){const F=m.length?[]:[90];c.strict&&!m.length&&(l+="/");for(let b=0;b<m.length;b++){const P=m[b];let S=40+(c.sensitive?.25:0);if(P.type===0)b||(l+="/"),l+=P.value.replace($c,"\\$&"),S+=40;else if(P.type===1){const{value:V,repeatable:J,optional:$,regexp:ne}=P;E.push({name:V,repeatable:J,optional:$});const te=ne||Io;if(te!==Io){S+=10;try{new RegExp(`(${te})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${V}" (${te}): `+N.message)}}let U=J?`((?:${te})(?:/(?:${te}))*)`:`(${te})`;b||(U=$&&m.length<2?`(?:/${U})`:"/"+U),$&&(U+="?"),l+=U,S+=20,$&&(S+=-8),J&&(S+=-20),te===".*"&&(S+=-50)}F.push(S)}f.push(F)}if(c.strict&&c.end){const m=f.length-1;f[m][f[m].length-1]+=.7000000000000001}c.strict||(l+="/?"),c.end?l+="$":c.strict&&!l.endsWith("/")&&(l+="(?:/|$)");const h=new RegExp(l,c.sensitive?"":"i");function A(m){const F=m.match(h),b={};if(!F)return null;for(let P=1;P<F.length;P++){const S=F[P]||"",V=E[P-1];b[V.name]=S&&V.repeatable?S.split("/"):S}return b}function w(m){let F="",b=!1;for(const P of n){(!b||!F.endsWith("/"))&&(F+="/"),b=!1;for(const S of P)if(S.type===0)F+=S.value;else if(S.type===1){const{value:V,repeatable:J,optional:$}=S,ne=V in m?m[V]:"";if(w0(ne)&&!J)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const te=w0(ne)?ne.join("/"):ne;if(!te)if($)P.length<2&&(F.endsWith("/")?F=F.slice(0,-1):b=!0);else throw new Error(`Missing required param "${V}"`);F+=te}}return F||"/"}return{re:h,score:f,keys:E,parse:A,stringify:w}}function td(n,t){let c=0;for(;c<n.length&&c<t.length;){const f=t[c]-n[c];if(f)return f;c++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ul(n,t){let c=0;const f=n.score,l=t.score;for(;c<f.length&&c<l.length;){const E=td(f[c],l[c]);if(E)return E;c++}if(Math.abs(l.length-f.length)===1){if(So(f))return 1;if(So(l))return-1}return l.length-f.length}function So(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const sd={type:0,value:""},nd=/[a-zA-Z0-9_]/;function rd(n){if(!n)return[[]];if(n==="/")return[[sd]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(S){throw new Error(`ERR (${c})/"${m}": ${S}`)}let c=0,f=c;const l=[];let E;function h(){E&&l.push(E),E=[]}let A=0,w,m="",F="";function b(){m&&(c===0?E.push({type:0,value:m}):c===1||c===2||c===3?(E.length>1&&(w==="*"||w==="+")&&t(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),E.push({type:1,value:m,regexp:F,repeatable:w==="*"||w==="+",optional:w==="*"||w==="?"})):t("Invalid state to consume buffer"),m="")}function P(){m+=w}for(;A<n.length;){if(w=n[A++],w==="\\"&&c!==2){f=c,c=4;continue}switch(c){case 0:w==="/"?(m&&b(),h()):w===":"?(b(),c=1):P();break;case 4:P(),c=f;break;case 1:w==="("?c=2:nd.test(w)?P():(b(),c=0,w!=="*"&&w!=="?"&&w!=="+"&&A--);break;case 2:w===")"?F[F.length-1]=="\\"?F=F.slice(0,-1)+w:c=3:F+=w;break;case 3:b(),c=0,w!=="*"&&w!=="?"&&w!=="+"&&A--,F="";break;default:t("Unknown state");break}}return c===2&&t(`Unfinished custom RegExp for param "${m}"`),b(),h(),l}function id(n,t,c){const f=ed(rd(n.path),c),l=dt(f,{record:n,parent:t,children:[],alias:[]});return t&&!l.record.aliasOf==!t.record.aliasOf&&t.children.push(l),l}function od(n,t){const c=[],f=new Map;t=No({strict:!1,end:!0,sensitive:!1},t);function l(b){return f.get(b)}function E(b,P,S){const V=!S,J=Po(b);J.aliasOf=S&&S.record;const $=No(t,b),ne=[J];if("alias"in b){const N=typeof b.alias=="string"?[b.alias]:b.alias;for(const z of N)ne.push(Po(dt({},J,{components:S?S.record.components:J.components,path:z,aliasOf:S?S.record:J})))}let te,U;for(const N of ne){const{path:z}=N;if(P&&z[0]!=="/"){const G=P.record.path,R=G[G.length-1]==="/"?"":"/";N.path=P.record.path+(z&&R+z)}if(te=id(N,P,$),S?S.alias.push(te):(U=U||te,U!==te&&U.alias.push(te),V&&b.name&&!Ro(te)&&h(b.name)),fl(te)&&w(te),J.children){const G=J.children;for(let R=0;R<G.length;R++)E(G[R],te,S&&S.children[R])}S=S||te}return U?()=>{h(U)}:un}function h(b){if(cl(b)){const P=f.get(b);P&&(f.delete(b),c.splice(c.indexOf(P),1),P.children.forEach(h),P.alias.forEach(h))}else{const P=c.indexOf(b);P>-1&&(c.splice(P,1),b.record.name&&f.delete(b.record.name),b.children.forEach(h),b.alias.forEach(h))}}function A(){return c}function w(b){const P=ad(b,c);c.splice(P,0,b),b.record.name&&!Ro(b)&&f.set(b.record.name,b)}function m(b,P){let S,V={},J,$;if("name"in b&&b.name){if(S=f.get(b.name),!S)throw Vs(1,{location:b});$=S.record.name,V=dt(To(P.params,S.keys.filter(U=>!U.optional).concat(S.parent?S.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),b.params&&To(b.params,S.keys.map(U=>U.name))),J=S.stringify(V)}else if(b.path!=null)J=b.path,S=c.find(U=>U.re.test(J)),S&&(V=S.parse(J),$=S.record.name);else{if(S=P.name?f.get(P.name):c.find(U=>U.re.test(P.path)),!S)throw Vs(1,{location:b,currentLocation:P});$=S.record.name,V=dt({},P.params,b.params),J=S.stringify(V)}const ne=[];let te=S;for(;te;)ne.unshift(te.record),te=te.parent;return{name:$,path:J,params:V,matched:ne,meta:ld(ne)}}n.forEach(b=>E(b));function F(){c.length=0,f.clear()}return{addRoute:E,resolve:m,removeRoute:h,clearRoutes:F,getRoutes:A,getRecordMatcher:l}}function To(n,t){const c={};for(const f of t)f in n&&(c[f]=n[f]);return c}function Po(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:xd(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function xd(n){const t={},c=n.props||!1;if("component"in n)t.default=c;else for(const f in n.components)t[f]=typeof c=="object"?c[f]:c;return t}function Ro(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function ld(n){return n.reduce((t,c)=>dt(t,c.meta),{})}function No(n,t){const c={};for(const f in n)c[f]=f in t?t[f]:n[f];return c}function ad(n,t){let c=0,f=t.length;for(;c!==f;){const E=c+f>>1;ul(n,t[E])<0?f=E:c=E+1}const l=cd(n);return l&&(f=t.lastIndexOf(l,f-1)),f}function cd(n){let t=n;for(;t=t.parent;)if(fl(t)&&ul(n,t)===0)return t}function fl({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function dd(n){const t={};if(n===""||n==="?")return t;const f=(n[0]==="?"?n.slice(1):n).split("&");for(let l=0;l<f.length;++l){const E=f[l].replace(rl," "),h=E.indexOf("="),A=pn(h<0?E:E.slice(0,h)),w=h<0?null:pn(E.slice(h+1));if(A in t){let m=t[A];w0(m)||(m=t[A]=[m]),m.push(w)}else t[A]=w}return t}function Oo(n){let t="";for(let c in n){const f=n[c];if(c=Sc(c),f==null){f!==void 0&&(t+=(t.length?"&":"")+c);continue}(w0(f)?f.map(E=>E&&ii(E)):[f&&ii(f)]).forEach(E=>{E!==void 0&&(t+=(t.length?"&":"")+c,E!=null&&(t+="="+E))})}return t}function ud(n){const t={};for(const c in n){const f=n[c];f!==void 0&&(t[c]=w0(f)?f.map(l=>l==null?null:""+l):f==null?f:""+f)}return t}const fd=Symbol(""),Mo=Symbol(""),vi=Symbol(""),hl=Symbol(""),xi=Symbol("");function tn(){let n=[];function t(f){return n.push(f),()=>{const l=n.indexOf(f);l>-1&&n.splice(l,1)}}function c(){n=[]}return{add:t,list:()=>n.slice(),reset:c}}function rs(n,t,c,f,l,E=h=>h()){const h=f&&(f.enterCallbacks[l]=f.enterCallbacks[l]||[]);return()=>new Promise((A,w)=>{const m=P=>{P===!1?w(Vs(4,{from:c,to:t})):P instanceof Error?w(P):qc(P)?w(Vs(2,{from:t,to:P})):(h&&f.enterCallbacks[l]===h&&typeof P=="function"&&h.push(P),A())},F=E(()=>n.call(f&&f.instances[l],t,c,m));let b=Promise.resolve(F);n.length<3&&(b=b.then(m)),b.catch(P=>w(P))})}function Yr(n,t,c,f,l=E=>E()){const E=[];for(const h of n)for(const A in h.components){let w=h.components[A];if(!(t!=="beforeRouteEnter"&&!h.instances[A]))if(sl(w)){const F=(w.__vccOpts||w)[t];F&&E.push(rs(F,c,f,h,A,l))}else{let m=w();E.push(()=>m.then(F=>{if(!F)throw new Error(`Couldn't resolve component "${A}" at "${h.path}"`);const b=pc(F)?F.default:F;h.mods[A]=F,h.components[A]=b;const S=(b.__vccOpts||b)[t];return S&&rs(S,c,f,h,A,l)()}))}}return E}function Lo(n){const t=G0(vi),c=G0(hl),f=B0(()=>{const w=Ns(n.to);return t.resolve(w)}),l=B0(()=>{const{matched:w}=f.value,{length:m}=w,F=w[m-1],b=c.matched;if(!F||!b.length)return-1;const P=b.findIndex(js.bind(null,F));if(P>-1)return P;const S=Uo(w[m-2]);return m>1&&Uo(F)===S&&b[b.length-1].path!==S?b.findIndex(js.bind(null,w[m-2])):P}),E=B0(()=>l.value>-1&&md(c.params,f.value.params)),h=B0(()=>l.value>-1&&l.value===c.matched.length-1&&ll(c.params,f.value.params));function A(w={}){if(Cd(w)){const m=t[Ns(n.replace)?"replace":"push"](Ns(n.to)).catch(un);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:f,href:B0(()=>f.value.href),isActive:E,isExactActive:h,navigate:A}}function hd(n){return n.length===1?n[0]:n}const Ed=Fx({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Lo,setup(n,{slots:t}){const c=ar(Lo(n)),{options:f}=G0(vi),l=B0(()=>({[jo(n.activeClass,f.linkActiveClass,"router-link-active")]:c.isActive,[jo(n.exactActiveClass,f.linkExactActiveClass,"router-link-exact-active")]:c.isExactActive}));return()=>{const E=t.default&&hd(t.default(c));return n.custom?E:Qx("a",{"aria-current":c.isExactActive?n.ariaCurrentValue:null,href:c.href,onClick:c.navigate,class:l.value},E)}}}),gd=Ed;function Cd(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function md(n,t){for(const c in t){const f=t[c],l=n[c];if(typeof f=="string"){if(f!==l)return!1}else if(!w0(l)||l.length!==f.length||f.some((E,h)=>E!==l[h]))return!1}return!0}function Uo(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const jo=(n,t,c)=>n??t??c,Ad=Fx({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:c}){const f=G0(xi),l=B0(()=>n.route||f.value),E=G0(Mo,0),h=B0(()=>{let m=Ns(E);const{matched:F}=l.value;let b;for(;(b=F[m])&&!b.components;)m++;return m}),A=B0(()=>l.value.matched[h.value]);jn(Mo,B0(()=>h.value+1)),jn(fd,A),jn(xi,l);const w=Fa();return Vn(()=>[w.value,A.value,n.name],([m,F,b],[P,S,V])=>{F&&(F.instances[b]=m,S&&S!==F&&m&&m===P&&(F.leaveGuards.size||(F.leaveGuards=S.leaveGuards),F.updateGuards.size||(F.updateGuards=S.updateGuards))),m&&F&&(!S||!js(F,S)||!P)&&(F.enterCallbacks[b]||[]).forEach(J=>J(m))},{flush:"post"}),()=>{const m=l.value,F=n.name,b=A.value,P=b&&b.components[F];if(!P)return Vo(c.default,{Component:P,route:m});const S=b.props[F],V=S?S===!0?m.params:typeof S=="function"?S(m):S:null,$=Qx(P,dt({},V,t,{onVnodeUnmounted:ne=>{ne.component.isUnmounted&&(b.instances[F]=null)},ref:w}));return Vo(c.default,{Component:$,route:m})||$}}});function Vo(n,t){if(!n)return null;const c=n(t);return c.length===1?c[0]:c}const pd=Ad;function Bd(n){const t=od(n.routes,n),c=n.parseQuery||dd,f=n.stringifyQuery||Oo,l=n.history,E=tn(),h=tn(),A=tn(),w=ya(ts);let m=ts;Ss&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const F=Jr.bind(null,se=>""+se),b=Jr.bind(null,Pc),P=Jr.bind(null,pn);function S(se,Ee){let Ce,Ie;return cl(se)?(Ce=t.getRecordMatcher(se),Ie=Ee):Ie=se,t.addRoute(Ie,Ce)}function V(se){const Ee=t.getRecordMatcher(se);Ee&&t.removeRoute(Ee)}function J(){return t.getRoutes().map(se=>se.record)}function $(se){return!!t.getRecordMatcher(se)}function ne(se,Ee){if(Ee=dt({},Ee||w.value),typeof se=="string"){const H=Xr(c,se,Ee.path),ie=t.resolve({path:H.path},Ee),le=l.createHref(H.fullPath);return dt(H,ie,{params:P(ie.params),hash:pn(H.hash),redirectedFrom:void 0,href:le})}let Ce;if(se.path!=null)Ce=dt({},se,{path:Xr(c,se.path,Ee.path).path});else{const H=dt({},se.params);for(const ie in H)H[ie]==null&&delete H[ie];Ce=dt({},se,{params:b(H)}),Ee.params=b(Ee.params)}const Ie=t.resolve(Ce,Ee),Ve=se.hash||"";Ie.params=F(P(Ie.params));const T=Oc(f,dt({},se,{hash:Ic(Ve),path:Ie.path})),I=l.createHref(T);return dt({fullPath:T,hash:Ve,query:f===Oo?ud(se.query):se.query||{}},Ie,{redirectedFrom:void 0,href:I})}function te(se){return typeof se=="string"?Xr(c,se,w.value.path):dt({},se)}function U(se,Ee){if(m!==se)return Vs(8,{from:Ee,to:se})}function N(se){return R(se)}function z(se){return N(dt(te(se),{replace:!0}))}function G(se){const Ee=se.matched[se.matched.length-1];if(Ee&&Ee.redirect){const{redirect:Ce}=Ee;let Ie=typeof Ce=="function"?Ce(se):Ce;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=te(Ie):{path:Ie},Ie.params={}),dt({query:se.query,hash:se.hash,params:Ie.path!=null?{}:se.params},Ie)}}function R(se,Ee){const Ce=m=ne(se),Ie=w.value,Ve=se.state,T=se.force,I=se.replace===!0,H=G(Ce);if(H)return R(dt(te(H),{state:typeof H=="object"?dt({},Ve,H.state):Ve,force:T,replace:I}),Ee||Ce);const ie=Ce;ie.redirectedFrom=Ee;let le;return!T&&Mc(f,Ie,Ce)&&(le=Vs(16,{to:ie,from:Ie}),ke(Ie,Ie,!0,!1)),(le?Promise.resolve(le):be(ie,Ie)).catch(ee=>L0(ee)?L0(ee,2)?ee:Ke(ee):Se(ee,ie,Ie)).then(ee=>{if(ee){if(L0(ee,2))return R(dt({replace:I},te(ee.to),{state:typeof ee.to=="object"?dt({},Ve,ee.to.state):Ve,force:T}),Ee||ie)}else ee=ae(ie,Ie,!0,I,Ve);return me(ie,Ie,ee),ee})}function re(se,Ee){const Ce=U(se,Ee);return Ce?Promise.reject(Ce):Promise.resolve()}function W(se){const Ee=Te.values().next().value;return Ee&&typeof Ee.runWithContext=="function"?Ee.runWithContext(se):se()}function be(se,Ee){let Ce;const[Ie,Ve,T]=bd(se,Ee);Ce=Yr(Ie.reverse(),"beforeRouteLeave",se,Ee);for(const H of Ie)H.leaveGuards.forEach(ie=>{Ce.push(rs(ie,se,Ee))});const I=re.bind(null,se,Ee);return Ce.push(I),we(Ce).then(()=>{Ce=[];for(const H of E.list())Ce.push(rs(H,se,Ee));return Ce.push(I),we(Ce)}).then(()=>{Ce=Yr(Ve,"beforeRouteUpdate",se,Ee);for(const H of Ve)H.updateGuards.forEach(ie=>{Ce.push(rs(ie,se,Ee))});return Ce.push(I),we(Ce)}).then(()=>{Ce=[];for(const H of T)if(H.beforeEnter)if(w0(H.beforeEnter))for(const ie of H.beforeEnter)Ce.push(rs(ie,se,Ee));else Ce.push(rs(H.beforeEnter,se,Ee));return Ce.push(I),we(Ce)}).then(()=>(se.matched.forEach(H=>H.enterCallbacks={}),Ce=Yr(T,"beforeRouteEnter",se,Ee,W),Ce.push(I),we(Ce))).then(()=>{Ce=[];for(const H of h.list())Ce.push(rs(H,se,Ee));return Ce.push(I),we(Ce)}).catch(H=>L0(H,8)?H:Promise.reject(H))}function me(se,Ee,Ce){A.list().forEach(Ie=>W(()=>Ie(se,Ee,Ce)))}function ae(se,Ee,Ce,Ie,Ve){const T=U(se,Ee);if(T)return T;const I=Ee===ts,H=Ss?history.state:{};Ce&&(Ie||I?l.replace(se.fullPath,dt({scroll:I&&H&&H.scroll},Ve)):l.push(se.fullPath,Ve)),w.value=se,ke(se,Ee,Ce,I),Ke()}let pe;function Fe(){pe||(pe=l.listen((se,Ee,Ce)=>{if(!e0.listening)return;const Ie=ne(se),Ve=G(Ie);if(Ve){R(dt(Ve,{replace:!0,force:!0}),Ie).catch(un);return}m=Ie;const T=w.value;Ss&&zc(vo(T.fullPath,Ce.delta),gr()),be(Ie,T).catch(I=>L0(I,12)?I:L0(I,2)?(R(dt(te(I.to),{force:!0}),Ie).then(H=>{L0(H,20)&&!Ce.delta&&Ce.type===Bn.pop&&l.go(-1,!1)}).catch(un),Promise.reject()):(Ce.delta&&l.go(-Ce.delta,!1),Se(I,Ie,T))).then(I=>{I=I||ae(Ie,T,!1),I&&(Ce.delta&&!L0(I,8)?l.go(-Ce.delta,!1):Ce.type===Bn.pop&&L0(I,20)&&l.go(-1,!1)),me(Ie,T,I)}).catch(un)}))}let j=tn(),ye=tn(),xe;function Se(se,Ee,Ce){Ke(se);const Ie=ye.list();return Ie.length?Ie.forEach(Ve=>Ve(se,Ee,Ce)):console.error(se),Promise.reject(se)}function Je(){return xe&&w.value!==ts?Promise.resolve():new Promise((se,Ee)=>{j.add([se,Ee])})}function Ke(se){return xe||(xe=!se,Fe(),j.list().forEach(([Ee,Ce])=>se?Ce(se):Ee()),j.reset()),se}function ke(se,Ee,Ce,Ie){const{scrollBehavior:Ve}=n;if(!Ss||!Ve)return Promise.resolve();const T=!Ce&&Jc(vo(se.fullPath,0))||(Ie||!Ce)&&history.state&&history.state.scroll||null;return pi().then(()=>Ve(se,Ee,T)).then(I=>I&&Wc(I)).catch(I=>Se(I,se,Ee))}const Me=se=>l.go(se);let lt;const Te=new Set,e0={currentRoute:w,listening:!0,addRoute:S,removeRoute:V,clearRoutes:t.clearRoutes,hasRoute:$,getRoutes:J,resolve:ne,options:n,push:N,replace:z,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:E.add,beforeResolve:h.add,afterEach:A.add,onError:ye.add,isReady:Je,install(se){const Ee=this;se.component("RouterLink",gd),se.component("RouterView",pd),se.config.globalProperties.$router=Ee,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>Ns(w)}),Ss&&!lt&&w.value===ts&&(lt=!0,N(l.location).catch(Ve=>{}));const Ce={};for(const Ve in ts)Object.defineProperty(Ce,Ve,{get:()=>w.value[Ve],enumerable:!0});se.provide(vi,Ee),se.provide(hl,gx(Ce)),se.provide(xi,w);const Ie=se.unmount;Te.add(se),se.unmount=function(){Te.delete(se),Te.size<1&&(m=ts,pe&&pe(),pe=null,w.value=ts,lt=!1,xe=!1),Ie()}}};function we(se){return se.reduce((Ee,Ce)=>Ee.then(()=>W(Ce)),Promise.resolve())}return e0}function bd(n,t){const c=[],f=[],l=[],E=Math.max(t.matched.length,n.matched.length);for(let h=0;h<E;h++){const A=t.matched[h];A&&(n.matched.find(m=>js(m,A))?f.push(A):c.push(A));const w=n.matched[h];w&&(t.matched.find(m=>js(m,w))||l.push(w))}return[c,f,l]}const wd={name:"Home"},Dd={class:"home max-w-2xl mx-auto px-6 py-12 text-center"},Fd={class:"bg-white rounded-xl shadow-lg border border-gray-200 mb-8 overflow-hidden"},yd={class:"px-6 py-4"},vd={class:"flex flex-col sm:flex-row justify-center gap-4"},_d={class:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden"},kd={class:"px-6 py-4"},Id={class:"flex flex-col sm:flex-row justify-center gap-4"};function Sd(n,t,c,f,l,E){const h=H0("router-link");return _(),k("div",Dd,[t[6]||(t[6]=a("h1",{class:"text-4xl font-bold text-gray-900 mb-4"},"Jobsnapper",-1)),t[7]||(t[7]=a("p",{class:"text-lg text-gray-700 mb-12"}," Welcome to the Jobsnapper. Login or register below: ",-1)),a("div",Fd,[t[2]||(t[2]=a("div",{class:"px-6 py-4 border-b border-gray-200"},[a("h2",{class:"text-xl font-semibold text-gray-900 mb-0 flex items-center justify-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"business"),Z(" For Clients ")])],-1)),a("div",yd,[a("div",vd,[_t(h,{to:"/client-registration",class:"bg-blue-600 text-white font-medium px-6 py-2.5 rounded-full shadow-lg hover:bg-blue-700 hover:shadow-xl active:bg-blue-800 active:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 transition-all duration-200 ease-out"},{default:P0(()=>[...t[0]||(t[0]=[Z(" Register as Client ",-1)])]),_:1}),_t(h,{to:"/client-signin",class:"bg-transparent text-blue-600 border-2 border-blue-600 font-medium px-6 py-2.5 rounded-full hover:bg-blue-50 hover:shadow-lg active:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 transition-all duration-200 ease-out"},{default:P0(()=>[...t[1]||(t[1]=[Z(" Sign In as Client ",-1)])]),_:1})])])]),a("div",_d,[t[5]||(t[5]=a("div",{class:"px-6 py-4 border-b border-gray-200"},[a("h2",{class:"text-xl font-semibold text-gray-900 mb-0 flex items-center justify-center gap-3"},[a("span",{class:"material-icon text-pink-600"},"engineering"),Z(" For Service Providers ")])],-1)),a("div",kd,[a("div",Id,[_t(h,{to:"/service-provider-registration",class:"bg-blue-600 text-white font-medium px-6 py-2.5 rounded-full shadow-lg hover:bg-blue-700 hover:shadow-xl active:bg-blue-800 active:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 transition-all duration-200 ease-out"},{default:P0(()=>[...t[3]||(t[3]=[Z(" Register as Service Provider ",-1)])]),_:1}),_t(h,{to:"/service-provider-signin",class:"bg-transparent text-blue-600 border-2 border-blue-600 font-medium px-6 py-2.5 rounded-full hover:bg-blue-50 hover:shadow-lg active:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 transition-all duration-200 ease-out"},{default:P0(()=>[...t[4]||(t[4]=[Z(" Sign In as Service Provider ",-1)])]),_:1})])])])])}const Td=d0(wd,[["render",Sd]]),Pd={name:"ClientRegistration",data(){return{loading:!1,form:{clientName:"",address:"",username:"",email:"",password:""}}},methods:{async register(){this.loading=!0;try{const n=await fetch("/backend/api/register-client.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await n.json();n.ok?(alert("Registration successful! You can now sign in."),this.$router.push("/client-signin")):alert(t.error)}catch{alert("Registration failed. Please try again.")}finally{this.loading=!1}}}},Rd={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},Nd={class:"max-w-md w-full space-y-8"},Od={class:"card"},Md=["disabled"],Ld={key:0,class:"material-icon-sm animate-spin"},Ud={key:1,class:"material-icon-sm"},jd={class:"mt-6 text-center"},Vd={class:"text-sm text-gray-600"};function Hd(n,t,c,f,l,E){const h=H0("router-link");return _(),k("div",Rd,[a("div",Nd,[t[13]||(t[13]=hr('<div class="text-center"><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100"><span class="material-icon text-blue-600">business</span></div><h2 class="mt-6 text-3xl font-bold text-gray-900">Create your account</h2><p class="mt-2 text-sm text-gray-600"> Join our platform to manage your maintenance requests </p></div>',1)),a("div",Od,[a("form",{onSubmit:t[5]||(t[5]=Ze((...A)=>E.register&&E.register(...A),["prevent"])),class:"space-y-6"},[a("div",null,[t[6]||(t[6]=a("label",{for:"clientName",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"business"),Z(" Company Name ")],-1)),De(a("input",{type:"text",id:"clientName","onUpdate:modelValue":t[0]||(t[0]=A=>l.form.clientName=A),required:"",class:"form-input",placeholder:"Enter your company name"},null,512),[[Oe,l.form.clientName]])]),a("div",null,[t[7]||(t[7]=a("label",{for:"address",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"location_on"),Z(" Address ")],-1)),De(a("textarea",{id:"address","onUpdate:modelValue":t[1]||(t[1]=A=>l.form.address=A),required:"",rows:"3",class:"form-input resize-none",placeholder:"Enter your company address"},null,512),[[Oe,l.form.address]])]),a("div",null,[t[8]||(t[8]=a("label",{for:"username",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"person"),Z(" Username ")],-1)),De(a("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=A=>l.form.username=A),required:"",class:"form-input",placeholder:"Choose a username"},null,512),[[Oe,l.form.username]])]),a("div",null,[t[9]||(t[9]=a("label",{for:"email",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"email"),Z(" Email Address ")],-1)),De(a("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=A=>l.form.email=A),required:"",class:"form-input",placeholder:"Enter your email address"},null,512),[[Oe,l.form.email]])]),a("div",null,[t[10]||(t[10]=a("label",{for:"password",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"lock"),Z(" Password ")],-1)),De(a("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=A=>l.form.password=A),required:"",class:"form-input",placeholder:"Create a secure password"},null,512),[[Oe,l.form.password]])]),a("div",null,[a("button",{type:"submit",class:"btn-filled w-full flex items-center justify-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",Ld,"refresh")):(_(),k("span",Ud,"person_add")),Z(" "+O(l.loading?"Creating Account...":"Create Account"),1)],8,Md)])],32),a("div",jd,[a("p",Vd,[t[12]||(t[12]=Z(" Already have an account? ",-1)),_t(h,{to:"/client-signin",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:P0(()=>[...t[11]||(t[11]=[Z(" Sign in here ",-1)])]),_:1})])])])])])}const Gd=d0(Pd,[["render",Hd]]),Wd={name:"ClientSignin",data(){return{loading:!1,form:{username:"",password:""},showSwitchUser:!1}},mounted(){const n=localStorage.getItem("token");if(n)try{JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))).entity_type==="client"?this.$router.push("/client-dashboard"):this.showSwitchUser=!0}catch{localStorage.removeItem("token")}},methods:{signOut(){localStorage.removeItem("token"),this.showSwitchUser=!1},async signin(){this.loading=!0;try{const n=await fetch("/backend/api/auth.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await n.json();n.ok?(localStorage.setItem("token",t.token),this.$router.push("/client-dashboard")):alert(t.error)}catch{alert("Sign in failed")}finally{this.loading=!1}}}},zd={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},Jd={class:"max-w-md w-full space-y-8"},Xd={key:0,class:"card"},Yd={class:"text-center"},Kd={key:1,class:"card"},Zd=["disabled"],qd={key:0,class:"material-icon-sm animate-spin"},Qd={key:1,class:"material-icon-sm"},$d={class:"mt-6 text-center"},eu={class:"text-sm text-gray-600"};function tu(n,t,c,f,l,E){const h=H0("router-link");return _(),k("div",zd,[a("div",Jd,[t[12]||(t[12]=hr('<div class="text-center"><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100"><span class="material-icon text-blue-600">login</span></div><h2 class="mt-6 text-3xl font-bold text-gray-900">Sign in to your account</h2><p class="mt-2 text-sm text-gray-600"> Access your maintenance dashboard </p></div>',1)),l.showSwitchUser?(_(),k("div",Xd,[a("div",Yd,[t[5]||(t[5]=a("div",{class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-yellow-100 mb-4"},[a("span",{class:"material-icon text-yellow-600"},"warning")],-1)),t[6]||(t[6]=a("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Switch Account Type",-1)),t[7]||(t[7]=a("p",{class:"text-sm text-gray-600 mb-6"}," You are currently signed in as a service provider. To sign in as a client, you need to sign out first. ",-1)),a("button",{onClick:t[0]||(t[0]=(...A)=>E.signOut&&E.signOut(...A)),class:"btn-filled w-full flex items-center justify-center gap-2"},[...t[4]||(t[4]=[a("span",{class:"material-icon-sm"},"logout",-1),Z(" Sign Out & Continue ",-1)])])])])):(_(),k("div",Kd,[a("form",{onSubmit:t[3]||(t[3]=Ze((...A)=>E.signin&&E.signin(...A),["prevent"])),class:"space-y-6"},[a("div",null,[t[8]||(t[8]=a("label",{for:"username",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"person"),Z(" Username ")],-1)),De(a("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=A=>l.form.username=A),required:"",class:"form-input",placeholder:"Enter your username"},null,512),[[Oe,l.form.username]])]),a("div",null,[t[9]||(t[9]=a("label",{for:"password",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"lock"),Z(" Password ")],-1)),De(a("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=A=>l.form.password=A),required:"",class:"form-input",placeholder:"Enter your password"},null,512),[[Oe,l.form.password]])]),a("div",null,[a("button",{type:"submit",class:"btn-filled w-full flex items-center justify-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",qd,"refresh")):(_(),k("span",Qd,"login")),Z(" "+O(l.loading?"Signing In...":"Sign In"),1)],8,Zd)])],32),a("div",$d,[a("p",eu,[t[11]||(t[11]=Z(" Don't have an account? ",-1)),_t(h,{to:"/client-registration",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:P0(()=>[...t[10]||(t[10]=[Z(" Register here ",-1)])]),_:1})])])]))])])}const su=d0(Wd,[["render",tu]]),nu={name:"ImageUpload",props:{jobId:{type:Number,default:null},maxImages:{type:Number,default:10},maxFileSize:{type:Number,default:10*1024*1024}},data(){return{images:[],showCamera:!1,cameraStream:null,cameraSupported:!1,uploading:!1,uploadProgress:0,error:null}},mounted(){this.checkCameraSupport()},beforeUnmount(){this.stopCamera()},methods:{checkCameraSupport(){const n=!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),t=location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1";this.cameraSupported=n&&t,console.log(n?t?"Camera potentially supported - will request permission when used":"Camera not supported: Not in secure context (HTTPS required)":"Camera not supported: MediaDevices API not available")},triggerFileInput(){this.$refs.fileInput.click()},handleFileSelection(n){const t=Array.from(n.target.files);this.addImages(t),n.target.value=""},addImages(n){const t=[],c=[];if(n.forEach(f=>{if(!f.type.startsWith("image/")){c.push(`${f.name} is not an image file`);return}if(f.size>this.maxFileSize){c.push(`${f.name} is too large (max ${this.formatFileSize(this.maxFileSize)})`);return}t.push(f)}),this.images.length+t.length>this.maxImages){c.push(`Cannot add ${t.length} images. Maximum ${this.maxImages} images allowed.`);return}if(c.length>0){this.error=c.join(". ");return}this.error=null,t.forEach(f=>{const l=new FileReader;l.onload=E=>{this.images.push({file:f,name:f.name,size:f.size,type:f.type,preview:E.target.result})},l.readAsDataURL(f)}),this.$emit("images-changed",this.images)},removeImage(n){this.images.splice(n,1),this.$emit("images-changed",this.images)},async openCamera(){try{this.error=null;let n={video:{facingMode:"environment"}};try{this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}catch(c){console.log("Back camera not available, trying any camera:",c.message),n={video:!0},this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}this.showCamera=!0,await this.$nextTick();const t=this.$refs.cameraVideo;if(t)t.srcObject=this.cameraStream,console.log("Camera opened successfully");else throw new Error("Video element not found")}catch(n){console.error("Error accessing camera:",n);let t="Unable to access camera.";n.name==="NotAllowedError"?t+=" Camera permission was denied. Please allow camera access and try again.":n.name==="NotFoundError"?t+=" No camera found on this device.":n.name==="NotReadableError"?t+=" Camera is already in use by another application.":n.name==="OverconstrainedError"?t+=" Camera constraints cannot be satisfied.":t+=` ${n.message}`,this.error=t}},closeCamera(){this.stopCamera(),this.showCamera=!1},stopCamera(){this.cameraStream&&(this.cameraStream.getTracks().forEach(n=>n.stop()),this.cameraStream=null)},capturePhoto(){if(!this.cameraStream)return;const n=this.$refs.cameraVideo,t=this.$refs.cameraCanvas,c=t.getContext("2d");t.width=n.videoWidth,t.height=n.videoHeight,c.drawImage(n,0,0,t.width,t.height),t.toBlob(f=>{const l=new File([f],`photo_${Date.now()}.jpg`,{type:"image/jpeg"});this.addImages([l]),this.closeCamera()},"image/jpeg",.8)},async uploadImages(){if(!this.jobId||this.images.length===0)return;this.uploading=!0,this.uploadProgress=0,this.error=null;const n=localStorage.getItem("token");let t=0;for(let c=0;c<this.images.length;c++){const f=this.images[c],l=new FormData;l.append("image",f.file),l.append("job_id",this.jobId.toString());try{const E=await fetch("/backend/api/upload-job-image.php",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:l});if(E.ok)t++;else{const h=await E.json();throw new Error(h.error||"Upload failed")}}catch(E){console.error("Upload error:",E),this.error=`Failed to upload ${f.name}: ${E.message}`;break}this.uploadProgress=Math.round((c+1)/this.images.length*100)}this.uploading=!1,t===this.images.length&&(this.images=[],this.$emit("upload-complete",t))},formatFileSize(n){if(n===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,f)).toFixed(2))+" "+c[f]}}},ru={class:"image-upload border border-gray-300 rounded-xl p-6 bg-gray-50"},iu={class:"upload-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6"},ou={class:"upload-actions flex gap-3"},xu={key:0,class:"modal-overlay"},lu={class:"modal-content max-w-md"},au={class:"modal-header"},cu={class:"modal-body p-6"},du={ref:"cameraVideo",autoplay:"",playsinline:"",class:"camera-video w-full rounded-lg bg-black"},uu={ref:"cameraCanvas",class:"hidden"},fu={class:"modal-footer"},hu=["disabled"],Eu={key:1,class:"image-preview-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-6"},gu={class:"image-container relative h-32 overflow-hidden"},Cu=["src","alt"],mu={class:"image-overlay absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center opacity-0 hover:opacity-100"},Au=["onClick"],pu={class:"image-info p-3"},Bu={class:"image-name block text-sm font-medium text-gray-900 truncate"},bu={class:"image-size block text-xs text-gray-600"},wu={key:2,class:"upload-progress mb-4"},Du={class:"progress-bar w-full h-2 bg-gray-200 rounded-full overflow-hidden mb-2"},Fu={class:"text-base text-gray-900"},yu={key:3,class:"error-message bg-red-50 border border-red-200 rounded-lg p-4 text-red-700"};function vu(n,t,c,f,l,E){return _(),k("div",ru,[a("div",iu,[t[9]||(t[9]=a("h4",{class:"text-lg font-semibold text-gray-900 mb-0"},"Attach Images",-1)),a("div",ou,[a("button",{type:"button",onClick:t[0]||(t[0]=Ze((...h)=>E.triggerFileInput&&E.triggerFileInput(...h),["stop"])),class:"btn-outlined btn-small"},[...t[7]||(t[7]=[a("span",{class:"material-icon-sm mr-2"},"upload_file",-1),Z(" Choose Files ",-1)])]),a("button",{type:"button",onClick:t[1]||(t[1]=Ze((...h)=>E.openCamera&&E.openCamera(...h),["stop"])),class:"btn-filled btn-small"},[...t[8]||(t[8]=[a("span",{class:"material-icon-sm mr-2"},"photo_camera",-1),Z(" Take Photo ",-1)])])])]),a("input",{ref:"fileInput",type:"file",accept:"image/*",multiple:"",onChange:t[2]||(t[2]=(...h)=>E.handleFileSelection&&E.handleFileSelection(...h)),class:"hidden"},null,544),a("input",{ref:"cameraInput",type:"file",accept:"image/*",capture:"environment",onChange:t[3]||(t[3]=(...h)=>E.handleFileSelection&&E.handleFileSelection(...h)),class:"hidden"},null,544),l.showCamera?(_(),k("div",xu,[a("div",lu,[a("div",au,[t[10]||(t[10]=a("h3",{class:"text-xl font-semibold text-gray-900 mb-0"},"Take Photo",-1)),a("button",{type:"button",onClick:t[4]||(t[4]=(...h)=>E.closeCamera&&E.closeCamera(...h)),class:"text-gray-500 hover:text-gray-700 text-2xl"},"×")]),a("div",cu,[a("video",du,null,512),a("canvas",uu,null,512)]),a("div",fu,[a("button",{type:"button",onClick:t[5]||(t[5]=(...h)=>E.closeCamera&&E.closeCamera(...h)),class:"btn-outlined"},"Cancel"),a("button",{type:"button",onClick:t[6]||(t[6]=(...h)=>E.capturePhoto&&E.capturePhoto(...h)),class:"btn-filled",disabled:!l.cameraStream},[...t[11]||(t[11]=[a("span",{class:"material-icon-sm mr-2"},"camera",-1),Z(" Capture ",-1)])],8,hu)])])])):fe("",!0),l.images.length>0?(_(),k("div",Eu,[(_(!0),k(ze,null,tt(l.images,(h,A)=>(_(),k("div",{key:A,class:"image-preview-item border border-gray-200 rounded-lg overflow-hidden bg-white"},[a("div",gu,[a("img",{src:h.preview,alt:h.name,class:"preview-image w-full h-full object-cover"},null,8,Cu),a("div",mu,[a("button",{onClick:w=>E.removeImage(A),class:"remove-image-btn bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-700 transition-colors",title:"Remove image"},[...t[12]||(t[12]=[a("span",{class:"material-icon-sm"},"delete",-1)])],8,Au)])]),a("div",pu,[a("span",Bu,O(h.name),1),a("span",bu,O(E.formatFileSize(h.size)),1)])]))),128))])):fe("",!0),l.uploading?(_(),k("div",wu,[a("div",Du,[a("div",{class:"progress-fill h-full bg-blue-600 transition-all duration-300 ease-out",style:Gs({width:l.uploadProgress+"%"})},null,4)]),a("p",Fu,"Uploading images... "+O(l.uploadProgress)+"%",1)])):fe("",!0),l.error?(_(),k("div",yu,[t[13]||(t[13]=a("span",{class:"material-icon-sm mr-2"},"error",-1)),Z(" "+O(l.error),1)])):fe("",!0)])}const _u=d0(nu,[["render",vu]]);var Nt;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Nt||(Nt={}));Nt.QR_CODE,Nt.AZTEC,Nt.CODABAR,Nt.CODE_39,Nt.CODE_93,Nt.CODE_128,Nt.DATA_MATRIX,Nt.MAXICODE,Nt.ITF,Nt.EAN_13,Nt.EAN_8,Nt.PDF_417,Nt.RSS_14,Nt.RSS_EXPANDED,Nt.UPC_A,Nt.UPC_E,Nt.UPC_EAN_EXTENSION;var Ho;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(Ho||(Ho={}));var nr;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(nr||(nr={}));var ku=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[nr.SCAN_TYPE_CAMERA,nr.SCAN_TYPE_FILE],n})(),Go;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Go||(Go={}));var Ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Iu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nn={exports:{}},Su=nn.exports,Wo;function Tu(){return Wo||(Wo=1,(function(n,t){(function(c,f){f(t)})(Su,(function(c){function f(p){return p==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,e){p.__proto__=e}||function(p,e){for(var s in e)e.hasOwnProperty(s)&&(p[s]=e[s])};function E(p,e){l(p,e);function s(){this.constructor=p}p.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}function h(p,e){var s=Object.setPrototypeOf;s?s(p,e):p.__proto__=e}function A(p,e){e===void 0&&(e=p.constructor);var s=Error.captureStackTrace;s&&s(p,e)}var w=(function(p){E(e,p);function e(s){var r=this.constructor,i=p.call(this,s)||this;return Object.defineProperty(i,"name",{value:r.name,enumerable:!1}),h(i,r.prototype),A(i),i}return e})(Error);class m extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}m.kind="Exception";class F extends m{}F.kind="ArgumentException";class b extends m{}b.kind="IllegalArgumentException";class P{constructor(e){if(this.binarizer=e,e===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,s){return this.binarizer.getBlackRow(e,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,s,r,i){const o=this.binarizer.getLuminanceSource().crop(e,s,r,i);return new P(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new P(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new P(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends m{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class V{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class J{static arraycopy(e,s,r,i,o){for(;o--;)r[i++]=e[s++]}static currentTimeMillis(){return Date.now()}}class $ extends m{}$.kind="IndexOutOfBoundsException";class ne extends ${constructor(e=void 0,s=void 0){super(s),this.index=e,this.message=s}}ne.kind="ArrayIndexOutOfBoundsException";class te{static fill(e,s){for(let r=0,i=e.length;r<i;r++)e[r]=s}static fillWithin(e,s,r,i){te.rangeCheck(e.length,s,r);for(let o=s;o<r;o++)e[o]=i}static rangeCheck(e,s,r){if(s>r)throw new b("fromIndex("+s+") > toIndex("+r+")");if(s<0)throw new ne(s);if(r>e)throw new ne(r)}static asList(...e){return e}static create(e,s,r){return Array.from({length:e}).map(o=>Array.from({length:s}).fill(r))}static createInt32Array(e,s,r){return Array.from({length:e}).map(o=>Int32Array.from({length:s}).fill(r))}static equals(e,s){if(!e||!s||!e.length||!s.length||e.length!==s.length)return!1;for(let r=0,i=e.length;r<i;r++)if(e[r]!==s[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let s=1;for(const r of e)s=31*s+r;return s}static fillUint8Array(e,s){for(let r=0;r!==e.length;r++)e[r]=s}static copyOf(e,s){return e.slice(0,s)}static copyOfUint8Array(e,s){if(e.length<=s){const r=new Uint8Array(s);return r.set(e),r}return e.slice(0,s)}static copyOfRange(e,s,r){const i=r-s,o=new Int32Array(i);return J.arraycopy(e,s,o,0,i),o}static binarySearch(e,s,r){r===void 0&&(r=te.numberComparator);let i=0,o=e.length-1;for(;i<=o;){const x=o+i>>1,d=r(s,e[x]);if(d>0)i=x+1;else if(d<0)o=x-1;else return x}return-i-1}static numberComparator(e,s){return e-s}}class U{static numberOfTrailingZeros(e){let s;if(e===0)return 32;let r=31;return s=e<<16,s!==0&&(r-=16,e=s),s=e<<8,s!==0&&(r-=8,e=s),s=e<<4,s!==0&&(r-=4,e=s),s=e<<2,s!==0&&(r-=2,e=s),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let s=1;return e>>>16||(s+=16,e<<=16),e>>>24||(s+=8,e<<=8),e>>>28||(s+=4,e<<=4),e>>>30||(s+=2,e<<=2),s-=e>>>31,s}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,s){return Math.trunc(e/s)}static parseInt(e,s=void 0){return parseInt(e,s)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class N{constructor(e,s){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,s==null?this.bits=N.makeArray(e):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const s=N.makeArray(e);J.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const s=this.size;if(e>=s)return s;const r=this.bits;let i=Math.floor(e/32),o=r[i];o&=~((1<<(e&31))-1);const x=r.length;for(;o===0;){if(++i===x)return s;o=r[i]}const d=i*32+U.numberOfTrailingZeros(o);return d>s?s:d}getNextUnset(e){const s=this.size;if(e>=s)return s;const r=this.bits;let i=Math.floor(e/32),o=~r[i];o&=~((1<<(e&31))-1);const x=r.length;for(;o===0;){if(++i===x)return s;o=~r[i]}const d=i*32+U.numberOfTrailingZeros(o);return d>s?s:d}setBulk(e,s){this.bits[Math.floor(e/32)]=s}setRange(e,s){if(s<e||e<0||s>this.size)throw new b;if(s===e)return;s--;const r=Math.floor(e/32),i=Math.floor(s/32),o=this.bits;for(let x=r;x<=i;x++){const d=x>r?0:e&31,g=(2<<(x<i?31:s&31))-(1<<d);o[x]|=g}}clear(){const e=this.bits.length,s=this.bits;for(let r=0;r<e;r++)s[r]=0}isRange(e,s,r){if(s<e||e<0||s>this.size)throw new b;if(s===e)return!0;s--;const i=Math.floor(e/32),o=Math.floor(s/32),x=this.bits;for(let d=i;d<=o;d++){const u=d>i?0:e&31,C=(2<<(d<o?31:s&31))-(1<<u)&4294967295;if((x[d]&C)!==(r?C:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,s){if(s<0||s>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let r=s;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const s=e.size;this.ensureCapacity(this.size+s);for(let r=0;r<s;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new b("Sizes don't match");const s=this.bits;for(let r=0,i=s.length;r<i;r++)s[r]^=e.bits[r]}toBytes(e,s,r,i){for(let o=0;o<i;o++){let x=0;for(let d=0;d<8;d++)this.get(e)&&(x|=1<<7-d),e++;s[r+o]=x}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),r=s+1,i=this.bits;for(let o=0;o<r;o++){let x=i[o];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,e[s-o]=x}if(this.size!==r*32){const o=r*32-this.size;let x=e[0]>>>o;for(let d=1;d<r;d++){const u=e[d];x|=u<<32-o,e[d-1]=x,x=u>>>o}e[r-1]=x}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof N))return!1;const s=e;return this.size===s.size&&te.equals(this.bits,s.bits)}hashCode(){return 31*this.size+te.hashCode(this.bits)}toString(){let e="";for(let s=0,r=this.size;s<r;s++)(s&7)===0&&(e+=" "),e+=this.get(s)?"X":".";return e}clone(){return new N(this.size,this.bits.slice())}}var z;(function(p){p[p.OTHER=0]="OTHER",p[p.PURE_BARCODE=1]="PURE_BARCODE",p[p.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",p[p.TRY_HARDER=3]="TRY_HARDER",p[p.CHARACTER_SET=4]="CHARACTER_SET",p[p.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",p[p.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",p[p.ASSUME_GS1=7]="ASSUME_GS1",p[p.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",p[p.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",p[p.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var G=z;class R extends m{static getFormatInstance(){return new R}}R.kind="FormatException";var re;(function(p){p[p.Cp437=0]="Cp437",p[p.ISO8859_1=1]="ISO8859_1",p[p.ISO8859_2=2]="ISO8859_2",p[p.ISO8859_3=3]="ISO8859_3",p[p.ISO8859_4=4]="ISO8859_4",p[p.ISO8859_5=5]="ISO8859_5",p[p.ISO8859_6=6]="ISO8859_6",p[p.ISO8859_7=7]="ISO8859_7",p[p.ISO8859_8=8]="ISO8859_8",p[p.ISO8859_9=9]="ISO8859_9",p[p.ISO8859_10=10]="ISO8859_10",p[p.ISO8859_11=11]="ISO8859_11",p[p.ISO8859_13=12]="ISO8859_13",p[p.ISO8859_14=13]="ISO8859_14",p[p.ISO8859_15=14]="ISO8859_15",p[p.ISO8859_16=15]="ISO8859_16",p[p.SJIS=16]="SJIS",p[p.Cp1250=17]="Cp1250",p[p.Cp1251=18]="Cp1251",p[p.Cp1252=19]="Cp1252",p[p.Cp1256=20]="Cp1256",p[p.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",p[p.UTF8=22]="UTF8",p[p.ASCII=23]="ASCII",p[p.Big5=24]="Big5",p[p.GB18030=25]="GB18030",p[p.EUC_KR=26]="EUC_KR"})(re||(re={}));class W{constructor(e,s,r,...i){this.valueIdentifier=e,this.name=r,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=i,W.VALUE_IDENTIFIER_TO_ECI.set(e,this),W.NAME_TO_ECI.set(r,this);const o=this.values;for(let x=0,d=o.length;x!==d;x++){const u=o[x];W.VALUES_TO_ECI.set(u,this)}for(const x of i)W.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new R("incorect value");const s=W.VALUES_TO_ECI.get(e);if(s===void 0)throw new R("incorect value");return s}static getCharacterSetECIByName(e){const s=W.NAME_TO_ECI.get(e);if(s===void 0)throw new R("incorect value");return s}equals(e){if(!(e instanceof W))return!1;const s=e;return this.getName()===s.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(re.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(re.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(re.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(re.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(re.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(re.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(re.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(re.Big5,28,"Big5"),W.GB18030=new W(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(re.EUC_KR,30,"EUC_KR","EUC-KR");class be extends m{}be.kind="UnsupportedOperationException";class me{static decode(e,s){const r=this.encodingName(s);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!me.isBrowser()&&e==="ISO-8859-1"}static encode(e,s){const r=this.encodingName(s);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof W?e:W.getCharacterSetECIByName(e)}static decodeFallback(e,s){const r=this.encodingCharacterSet(s);if(me.isDecodeFallbackSupported(r)){let i="";for(let o=0,x=e.length;o<x;o++){let d=e[o].toString(16);d.length<2&&(d="0"+d),i+="%"+d}return decodeURIComponent(i)}if(r.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new be(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(W.UTF8)||e.equals(W.ISO8859_1)||e.equals(W.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),i=[];for(let o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)}}class ae{static castAsNonUtf8Char(e,s=null){const r=s?s.getName():this.ISO88591;return me.decode(new Uint8Array([e]),r)}static guessEncoding(e,s){if(s!=null&&s.get(G.CHARACTER_SET)!==void 0)return s.get(G.CHARACTER_SET).toString();const r=e.length;let i=!0,o=!0,x=!0,d=0,u=0,g=0,C=0,B=0,D=0,v=0,M=0,L=0,Y=0,Q=0;const he=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ge=0;ge<r&&(i||o||x);ge++){const ue=e[ge]&255;x&&(d>0?(ue&128)===0?x=!1:d--:(ue&128)!==0&&((ue&64)===0?x=!1:(d++,(ue&32)===0?u++:(d++,(ue&16)===0?g++:(d++,(ue&8)===0?C++:x=!1))))),i&&(ue>127&&ue<160?i=!1:ue>159&&(ue<192||ue===215||ue===247)&&Q++),o&&(B>0?ue<64||ue===127||ue>252?o=!1:B--:ue===128||ue===160||ue>239?o=!1:ue>160&&ue<224?(D++,M=0,v++,v>L&&(L=v)):ue>127?(B++,v=0,M++,M>Y&&(Y=M)):(v=0,M=0))}return x&&d>0&&(x=!1),o&&B>0&&(o=!1),x&&(he||u+g+C>0)?ae.UTF8:o&&(ae.ASSUME_SHIFT_JIS||L>=3||Y>=3)?ae.SHIFT_JIS:i&&o?L===2&&D===2||Q*10>=r?ae.SHIFT_JIS:ae.ISO88591:i?ae.ISO88591:o?ae.SHIFT_JIS:x?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(e,...s){let r=-1;function i(x,d,u,g,C,B){if(x==="%%")return"%";if(s[++r]===void 0)return;x=g?parseInt(g.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,v;switch(B){case"s":v=s[r];break;case"c":v=s[r][0];break;case"f":v=parseFloat(s[r]).toFixed(x);break;case"p":v=parseFloat(s[r]).toPrecision(x);break;case"e":v=parseFloat(s[r]).toExponential(x);break;case"x":v=parseInt(s[r]).toString(D||16);break;case"d":v=parseFloat(parseInt(s[r],D||10).toPrecision(x)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(D);let M=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;v.length<M;)v=d!==void 0?v+L:L+v;return v}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)}static getBytes(e,s){return me.encode(e,s)}static getCharCode(e,s=0){return e.charCodeAt(s)}static getCharAt(e){return String.fromCharCode(e)}}ae.SHIFT_JIS=W.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=W.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=W.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class pe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,s,r){for(let i=s;s<s+r;i++)this.append(e[i]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,s){this.value=this.value.substr(0,e)+s+this.value.substr(e+1)}substring(e,s){return this.value.substring(e,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,s){this.value=this.value.substr(0,e)+s+this.value.substr(e+s.length)}}class Fe{constructor(e,s,r,i){if(this.width=e,this.height=s,this.rowSize=r,this.bits=i,s==null&&(s=e),this.height=s,e<1||s<1)throw new b("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const s=e.length,r=e[0].length,i=new Fe(r,s);for(let o=0;o<s;o++){const x=e[o];for(let d=0;d<r;d++)x[d]&&i.set(d,o)}return i}static parseFromString(e,s,r){if(e===null)throw new b("stringRepresentation cannot be null");const i=new Array(e.length);let o=0,x=0,d=-1,u=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(o>x){if(d===-1)d=o-x;else if(o-x!==d)throw new b("row lengths do not match");x=o,u++}g++}else if(e.substring(g,g+s.length)===s)g+=s.length,i[o]=!0,o++;else if(e.substring(g,g+r.length)===r)g+=r.length,i[o]=!1,o++;else throw new b("illegal character encountered: "+e.substring(g));if(o>x){if(d===-1)d=o-x;else if(o-x!==d)throw new b("row lengths do not match");u++}const C=new Fe(d,u);for(let B=0;B<o;B++)i[B]&&C.set(Math.floor(B%d),Math.floor(B/d));return C}get(e,s){const r=s*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,s){const r=s*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,s){const r=s*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,s){const r=s*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new b("input matrix dimensions do not match");const s=new N(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits;for(let o=0,x=this.height;o<x;o++){const d=o*r,u=e.getRow(o,s).getBitArray();for(let g=0;g<r;g++)i[d+g]^=u[g]}}clear(){const e=this.bits,s=e.length;for(let r=0;r<s;r++)e[r]=0}setRegion(e,s,r,i){if(s<0||e<0)throw new b("Left and top must be nonnegative");if(i<1||r<1)throw new b("Height and width must be at least 1");const o=e+r,x=s+i;if(x>this.height||o>this.width)throw new b("The region must fit inside the matrix");const d=this.rowSize,u=this.bits;for(let g=s;g<x;g++){const C=g*d;for(let B=e;B<o;B++)u[C+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(e,s){s==null||s.getSize()<this.width?s=new N(this.width):s.clear();const r=this.rowSize,i=this.bits,o=e*r;for(let x=0;x<r;x++)s.setBulk(x*32,i[o+x]);return s}setRow(e,s){J.arraycopy(s.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),s=this.getHeight();let r=new N(e),i=new N(e);for(let o=0,x=Math.floor((s+1)/2);o<x;o++)r=this.getRow(o,r),i=this.getRow(s-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(s-1-o,r)}getEnclosingRectangle(){const e=this.width,s=this.height,r=this.rowSize,i=this.bits;let o=e,x=s,d=-1,u=-1;for(let g=0;g<s;g++)for(let C=0;C<r;C++){const B=i[g*r+C];if(B!==0){if(g<x&&(x=g),g>u&&(u=g),C*32<o){let D=0;for(;(B<<31-D&4294967295)===0;)D++;C*32+D<o&&(o=C*32+D)}if(C*32+31>d){let D=31;for(;!(B>>>D);)D--;C*32+D>d&&(d=C*32+D)}}}return d<o||u<x?null:Int32Array.from([o,x,d-o+1,u-x+1])}getTopLeftOnBit(){const e=this.rowSize,s=this.bits;let r=0;for(;r<s.length&&s[r]===0;)r++;if(r===s.length)return null;const i=r/e;let o=r%e*32;const x=s[r];let d=0;for(;(x<<31-d&4294967295)===0;)d++;return o+=d,Int32Array.from([o,i])}getBottomRightOnBit(){const e=this.rowSize,s=this.bits;let r=s.length-1;for(;r>=0&&s[r]===0;)r--;if(r<0)return null;const i=Math.floor(r/e);let o=Math.floor(r%e)*32;const x=s[r];let d=31;for(;!(x>>>d);)d--;return o+=d,Int32Array.from([o,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Fe))return!1;const s=e;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&te.equals(this.bits,s.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+te.hashCode(this.bits),e}toString(e="X ",s="  ",r=`
`){return this.buildToString(e,s,r)}buildToString(e,s,r){let i=new pe;for(let o=0,x=this.height;o<x;o++){for(let d=0,u=this.width;d<u;d++)i.append(this.get(d,o)?e:s);i.append(r)}return i.toString()}clone(){return new Fe(this.width,this.height,this.rowSize,this.bits.slice())}}class j extends m{static getNotFoundInstance(){return new j}}j.kind="NotFoundException";class ye extends V{constructor(e){super(e),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(e,s){const r=this.getLuminanceSource(),i=r.getWidth();s==null||s.getSize()<i?s=new N(i):s.clear(),this.initArrays(i);const o=r.getRow(e,this.luminances),x=this.buckets;for(let u=0;u<i;u++)x[(o[u]&255)>>ye.LUMINANCE_SHIFT]++;const d=ye.estimateBlackPoint(x);if(i<3)for(let u=0;u<i;u++)(o[u]&255)<d&&s.set(u);else{let u=o[0]&255,g=o[1]&255;for(let C=1;C<i-1;C++){const B=o[C+1]&255;(g*4-u-B)/2<d&&s.set(C),u=g,g=B}}return s}getBlackMatrix(){const e=this.getLuminanceSource(),s=e.getWidth(),r=e.getHeight(),i=new Fe(s,r);this.initArrays(s);const o=this.buckets;for(let u=1;u<5;u++){const g=Math.floor(r*u/5),C=e.getRow(g,this.luminances),B=Math.floor(s*4/5);for(let D=Math.floor(s/5);D<B;D++){const v=C[D]&255;o[v>>ye.LUMINANCE_SHIFT]++}}const x=ye.estimateBlackPoint(o),d=e.getMatrix();for(let u=0;u<r;u++){const g=u*s;for(let C=0;C<s;C++)(d[g+C]&255)<x&&i.set(C,u)}return i}createBinarizer(e){return new ye(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const s=this.buckets;for(let r=0;r<ye.LUMINANCE_BUCKETS;r++)s[r]=0}static estimateBlackPoint(e){const s=e.length;let r=0,i=0,o=0;for(let C=0;C<s;C++)e[C]>o&&(i=C,o=e[C]),e[C]>r&&(r=e[C]);let x=0,d=0;for(let C=0;C<s;C++){const B=C-i,D=e[C]*B*B;D>d&&(x=C,d=D)}if(i>x){const C=i;i=x,x=C}if(x-i<=s/16)throw new j;let u=x-1,g=-1;for(let C=x-1;C>i;C--){const B=C-i,D=B*B*(x-C)*(r-e[C]);D>g&&(u=C,g=D)}return u<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class xe extends ye{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),s=e.getWidth(),r=e.getHeight();if(s>=xe.MINIMUM_DIMENSION&&r>=xe.MINIMUM_DIMENSION){const i=e.getMatrix();let o=s>>xe.BLOCK_SIZE_POWER;(s&xe.BLOCK_SIZE_MASK)!==0&&o++;let x=r>>xe.BLOCK_SIZE_POWER;(r&xe.BLOCK_SIZE_MASK)!==0&&x++;const d=xe.calculateBlackPoints(i,o,x,s,r),u=new Fe(s,r);xe.calculateThresholdForBlock(i,o,x,s,r,d,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new xe(e)}static calculateThresholdForBlock(e,s,r,i,o,x,d){const u=o-xe.BLOCK_SIZE,g=i-xe.BLOCK_SIZE;for(let C=0;C<r;C++){let B=C<<xe.BLOCK_SIZE_POWER;B>u&&(B=u);const D=xe.cap(C,2,r-3);for(let v=0;v<s;v++){let M=v<<xe.BLOCK_SIZE_POWER;M>g&&(M=g);const L=xe.cap(v,2,s-3);let Y=0;for(let he=-2;he<=2;he++){const ge=x[D+he];Y+=ge[L-2]+ge[L-1]+ge[L]+ge[L+1]+ge[L+2]}const Q=Y/25;xe.thresholdBlock(e,M,B,Q,i,d)}}}static cap(e,s,r){return e<s?s:e>r?r:e}static thresholdBlock(e,s,r,i,o,x){for(let d=0,u=r*o+s;d<xe.BLOCK_SIZE;d++,u+=o)for(let g=0;g<xe.BLOCK_SIZE;g++)(e[u+g]&255)<=i&&x.set(s+g,r+d)}static calculateBlackPoints(e,s,r,i,o){const x=o-xe.BLOCK_SIZE,d=i-xe.BLOCK_SIZE,u=new Array(r);for(let g=0;g<r;g++){u[g]=new Int32Array(s);let C=g<<xe.BLOCK_SIZE_POWER;C>x&&(C=x);for(let B=0;B<s;B++){let D=B<<xe.BLOCK_SIZE_POWER;D>d&&(D=d);let v=0,M=255,L=0;for(let Q=0,he=C*i+D;Q<xe.BLOCK_SIZE;Q++,he+=i){for(let ge=0;ge<xe.BLOCK_SIZE;ge++){const ue=e[he+ge]&255;v+=ue,ue<M&&(M=ue),ue>L&&(L=ue)}if(L-M>xe.MIN_DYNAMIC_RANGE)for(Q++,he+=i;Q<xe.BLOCK_SIZE;Q++,he+=i)for(let ge=0;ge<xe.BLOCK_SIZE;ge++)v+=e[he+ge]&255}let Y=v>>xe.BLOCK_SIZE_POWER*2;if(L-M<=xe.MIN_DYNAMIC_RANGE&&(Y=M/2,g>0&&B>0)){const Q=(u[g-1][B]+2*u[g][B-1]+u[g-1][B-1])/4;M<Q&&(Y=Q)}u[g][B]=Y}}return u}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class Se{constructor(e,s){this.width=e,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,s,r,i){throw new be("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new be("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new be("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let s=new pe;for(let r=0;r<this.height;r++){const i=this.getRow(r,e);for(let o=0;o<this.width;o++){const x=i[o]&255;let d;x<64?d="#":x<128?d="+":x<192?d=".":d=" ",s.append(d)}s.append(`
`)}return s.toString()}}class Je extends Se{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,s){const r=this.delegate.getRow(e,s),i=this.getWidth();for(let o=0;o<i;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(s);for(let i=0;i<s;i++)r[i]=255-(e[i]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,s,r,i){return new Je(this.delegate.crop(e,s,r,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Je(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Je(this.delegate.rotateCounterClockwise45())}}class Ke extends Se{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ke.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const s=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ke.toGrayscaleBuffer(s.data,e.width,e.height)}static toGrayscaleBuffer(e,s,r){const i=new Uint8ClampedArray(s*r);for(let o=0,x=0,d=e.length;o<d;o+=4,x++){let u;if(e[o+3]===0)u=255;else{const C=e[o],B=e[o+1],D=e[o+2];u=306*C+601*B+117*D+512>>10}i[x]=u}return i}getRow(e,s){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth(),i=e*r;return s===null?s=this.buffer.slice(i,i+r):(s.length<r&&(s=new Uint8ClampedArray(r)),s.set(this.buffer.slice(i,i+r))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,s,r,i){return super.crop(e,s,r,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const s=this.getTempCanvasElement(),r=s.getContext("2d"),i=e*Ke.DEGREE_TO_RADIANS,o=this.canvas.width,x=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*x),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*x);return s.width=d,s.height=u,r.translate(d/2,u/2),r.rotate(i),r.drawImage(this.canvas,o/-2,x/-2),this.buffer=Ke.makeBufferFromCanvasImageData(s),this}invert(){return new Je(this)}}Ke.DEGREE_TO_RADIANS=Math.PI/180;class ke{constructor(e,s,r){this.deviceId=e,this.label=s,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Me=(globalThis||Ln||self||window||void 0)&&(globalThis||Ln||self||window||void 0).__awaiter||function(p,e,s,r){function i(o){return o instanceof s?o:new s(function(x){x(o)})}return new(s||(s=Promise))(function(o,x){function d(C){try{g(r.next(C))}catch(B){x(B)}}function u(C){try{g(r.throw(C))}catch(B){x(B)}}function g(C){C.done?o(C.value):i(C.value).then(d,u)}g((r=r.apply(p,e||[])).next())})};class lt{constructor(e,s=500,r){this.reader=e,this.timeBetweenScansMillis=s,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Me(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const r of e){const i=r.kind==="video"?"videoinput":r.kind;if(i!=="videoinput")continue;const o=r.deviceId||r.id,x=r.label||`Video device ${s.length+1}`,d=r.groupId,u={deviceId:o,label:x,kind:i,groupId:d};s.push(u)}return s})}getVideoInputDevices(){return Me(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new ke(s.deviceId,s.label))})}findDeviceById(e){return Me(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,s){return Me(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,s)})}decodeOnceFromVideoDevice(e,s){return Me(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const i={video:r};return yield this.decodeOnceFromConstraints(i,s)})}decodeOnceFromConstraints(e,s){return Me(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,s)})}decodeOnceFromStream(e,s){return Me(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,s);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,s,r){return Me(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,s,r)})}decodeFromVideoDevice(e,s,r){return Me(this,void 0,void 0,function*(){let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeFromConstraints(o,s,r)})}decodeFromConstraints(e,s,r){return Me(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(i,s,r)})}decodeFromStream(e,s,r){return Me(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,s);return yield this.decodeContinuously(i,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,s){return Me(this,void 0,void 0,function*(){const r=this.prepareVideoElement(s);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((s,r)=>this.playVideoOnLoad(e,()=>s()))}playVideoOnLoad(e,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",s),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Me(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,s){const r=document.getElementById(e);if(!r)throw new F(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==s.toLowerCase())throw new F(`element with id '${e}' must be an ${s} element`);return r}decodeFromImage(e,s){if(!e&&!s)throw new F("either imageElement with a src set or an url must be provided");return s&&!e?this.decodeFromImageUrl(s):this.decodeFromImageElement(e)}decodeFromVideo(e,s){if(!e&&!s)throw new F("Either an element with a src set or an URL must be provided");return s&&!e?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,s,r){if(e===void 0&&s===void 0)throw new F("Either an element with a src set or an URL must be provided");return s&&!e?this.decodeFromVideoUrlContinuously(s,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new F("An image element must be provided.");this.reset();const s=this.prepareImageElement(e);this.imageElement=s;let r;return this.isImageLoaded(s)?r=this.decodeOnce(s,!1,!0):r=this._decodeOnLoadImage(s),r}decodeFromVideoElement(e){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(e,s){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,s)}_decodeFromVideoElementSetup(e){if(!e)throw new F("A video element must be provided.");this.reset();const s=this.prepareVideoElement(e);return this.videoElement=s,s}decodeFromImageUrl(e){if(!e)throw new F("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const r=this._decodeOnLoadImage(s);return s.src=e,r}decodeFromVideoUrl(e){if(!e)throw new F("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),r=this.decodeFromVideoElement(s);return s.src=e,r}decodeFromVideoUrlContinuously(e,s){if(!e)throw new F("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,s);return r.src=e,i}_decodeOnLoadImage(e){return new Promise((s,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(s,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Me(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,s){return Me(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,s)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let s;return typeof e>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof e=="string"&&(s=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(s=e),s}prepareVideoElement(e){let s;return!e&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof e=="string"&&(s=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(s=e),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(e,s=!0,r=!0){this._stopAsyncDecode=!1;const i=(o,x)=>{if(this._stopAsyncDecode){x(new j("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(e);o(d)}catch(d){const u=s&&d instanceof j,C=(d instanceof S||d instanceof R)&&r;if(u||C)return setTimeout(i,this._timeBetweenDecodingAttempts,o,x);x(d)}};return new Promise((o,x)=>i(o,x))}decodeContinuously(e,s){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const i=this.decode(e);s(i,null),setTimeout(r,this.timeBetweenScansMillis)}catch(i){s(null,i);const o=i instanceof S||i instanceof R,x=i instanceof j;(o||x)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const s=this.createBinaryBitmap(e);return this.decodeBitmap(s)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,s,r){s||(s={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(e,s,r=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const s=this.getCaptureCanvas(e),r=new Ke(s),i=new xe(r);return new P(i)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const s=this.createCaptureCanvas(e);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),s.style.width=r+"px",s.style.height=i+"px",s.width=r,s.height=i,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,s){try{e.srcObject=s}catch{e.src=URL.createObjectURL(s)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Te{constructor(e,s,r=s==null?0:8*s.length,i,o,x=J.currentTimeMillis()){this.text=e,this.rawBytes=s,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=x,this.text=e,this.rawBytes=s,r==null?this.numBits=s==null?0:8*s.length:this.numBits=r,this.resultPoints=i,this.format=o,this.resultMetadata=null,x==null?this.timestamp=J.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,s)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const s=this.resultPoints;if(s===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(s.length+e.length);J.arraycopy(s,0,r,0,s.length),J.arraycopy(e,0,r,s.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var e0;(function(p){p[p.AZTEC=0]="AZTEC",p[p.CODABAR=1]="CODABAR",p[p.CODE_39=2]="CODE_39",p[p.CODE_93=3]="CODE_93",p[p.CODE_128=4]="CODE_128",p[p.DATA_MATRIX=5]="DATA_MATRIX",p[p.EAN_8=6]="EAN_8",p[p.EAN_13=7]="EAN_13",p[p.ITF=8]="ITF",p[p.MAXICODE=9]="MAXICODE",p[p.PDF_417=10]="PDF_417",p[p.QR_CODE=11]="QR_CODE",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(e0||(e0={}));var we=e0,se;(function(p){p[p.OTHER=0]="OTHER",p[p.ORIENTATION=1]="ORIENTATION",p[p.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",p[p.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",p[p.ISSUE_NUMBER=4]="ISSUE_NUMBER",p[p.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",p[p.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",p[p.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",p[p.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",p[p.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",p[p.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(se||(se={}));var Ee=se;class Ce{constructor(e,s,r,i,o=-1,x=-1){this.rawBytes=e,this.text=s,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=x,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ie{exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}static addOrSubtract(e,s){return e^s}}class Ve{constructor(e,s){if(s.length===0)throw new b;this.field=e;const r=s.length;if(r>1&&s[0]===0){let i=1;for(;i<r&&s[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),J.arraycopy(s,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const s=this.coefficients;let r;if(e===1){r=0;for(let x=0,d=s.length;x!==d;x++){const u=s[x];r=Ie.addOrSubtract(r,u)}return r}r=s[0];const i=s.length,o=this.field;for(let x=1;x<i;x++)r=Ie.addOrSubtract(o.multiply(e,r),s[x]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let s=this.coefficients,r=e.coefficients;if(s.length>r.length){const x=s;s=r,r=x}let i=new Int32Array(r.length);const o=r.length-s.length;J.arraycopy(r,0,i,0,o);for(let x=o;x<r.length;x++)i[x]=Ie.addOrSubtract(s[x-o],r[x]);return new Ve(this.field,i)}multiply(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const s=this.coefficients,r=s.length,i=e.coefficients,o=i.length,x=new Int32Array(r+o-1),d=this.field;for(let u=0;u<r;u++){const g=s[u];for(let C=0;C<o;C++)x[u+C]=Ie.addOrSubtract(x[u+C],d.multiply(g,i[C]))}return new Ve(d,x)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const s=this.coefficients.length,r=this.field,i=new Int32Array(s),o=this.coefficients;for(let x=0;x<s;x++)i[x]=r.multiply(o[x],e);return new Ve(r,i)}multiplyByMonomial(e,s){if(e<0)throw new b;if(s===0)return this.field.getZero();const r=this.coefficients,i=r.length,o=new Int32Array(i+e),x=this.field;for(let d=0;d<i;d++)o[d]=x.multiply(r[d],s);return new Ve(x,o)}divide(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new b("Divide by 0");const s=this.field;let r=s.getZero(),i=this;const o=e.getCoefficient(e.getDegree()),x=s.inverse(o);for(;i.getDegree()>=e.getDegree()&&!i.isZero();){const d=i.getDegree()-e.getDegree(),u=s.multiply(i.getCoefficient(i.getDegree()),x),g=e.multiplyByMonomial(d,u),C=s.buildMonomial(d,u);r=r.addOrSubtract(C),i=i.addOrSubtract(g)}return[r,i]}toString(){let e="";for(let s=this.getDegree();s>=0;s--){let r=this.getCoefficient(s);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),s===0||r!==1){const i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}s!==0&&(s===1?e+="x":(e+="x^",e+=s))}}return e}}class T extends m{}T.kind="ArithmeticException";class I extends Ie{constructor(e,s,r){super(),this.primitive=e,this.size=s,this.generatorBase=r;const i=new Int32Array(s);let o=1;for(let d=0;d<s;d++)i[d]=o,o*=2,o>=s&&(o^=e,o&=s-1);this.expTable=i;const x=new Int32Array(s);for(let d=0;d<s-1;d++)x[i[d]]=d;this.logTable=x,this.zero=new Ve(this,Int32Array.from([0])),this.one=new Ve(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,s){if(e<0)throw new b;if(s===0)return this.zero;const r=new Int32Array(e+1);return r[0]=s,new Ve(this,r)}inverse(e){if(e===0)throw new T;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,s){return e===0||s===0?0:this.expTable[(this.logTable[e]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}I.AZTEC_DATA_12=new I(4201,4096,1),I.AZTEC_DATA_10=new I(1033,1024,1),I.AZTEC_DATA_6=new I(67,64,1),I.AZTEC_PARAM=new I(19,16,1),I.QR_CODE_FIELD_256=new I(285,256,0),I.DATA_MATRIX_FIELD_256=new I(301,256,1),I.AZTEC_DATA_8=I.DATA_MATRIX_FIELD_256,I.MAXICODE_FIELD_64=I.AZTEC_DATA_6;class H extends m{}H.kind="ReedSolomonException";class ie extends m{}ie.kind="IllegalStateException";class le{constructor(e){this.field=e}decode(e,s){const r=this.field,i=new Ve(r,e),o=new Int32Array(s);let x=!0;for(let v=0;v<s;v++){const M=i.evaluateAt(r.exp(v+r.getGeneratorBase()));o[o.length-1-v]=M,M!==0&&(x=!1)}if(x)return;const d=new Ve(r,o),u=this.runEuclideanAlgorithm(r.buildMonomial(s,1),d,s),g=u[0],C=u[1],B=this.findErrorLocations(g),D=this.findErrorMagnitudes(C,B);for(let v=0;v<B.length;v++){const M=e.length-1-r.log(B[v]);if(M<0)throw new H("Bad error location");e[M]=I.addOrSubtract(e[M],D[v])}}runEuclideanAlgorithm(e,s,r){if(e.getDegree()<s.getDegree()){const v=e;e=s,s=v}const i=this.field;let o=e,x=s,d=i.getZero(),u=i.getOne();for(;x.getDegree()>=(r/2|0);){let v=o,M=d;if(o=x,d=u,o.isZero())throw new H("r_{i-1} was zero");x=v;let L=i.getZero();const Y=o.getCoefficient(o.getDegree()),Q=i.inverse(Y);for(;x.getDegree()>=o.getDegree()&&!x.isZero();){const he=x.getDegree()-o.getDegree(),ge=i.multiply(x.getCoefficient(x.getDegree()),Q);L=L.addOrSubtract(i.buildMonomial(he,ge)),x=x.addOrSubtract(o.multiplyByMonomial(he,ge))}if(u=L.multiply(d).addOrSubtract(M),x.getDegree()>=o.getDegree())throw new ie("Division algorithm failed to reduce polynomial?")}const g=u.getCoefficient(0);if(g===0)throw new H("sigmaTilde(0) was zero");const C=i.inverse(g),B=u.multiplyScalar(C),D=x.multiplyScalar(C);return[B,D]}findErrorLocations(e){const s=e.getDegree();if(s===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(s);let i=0;const o=this.field;for(let x=1;x<o.getSize()&&i<s;x++)e.evaluateAt(x)===0&&(r[i]=o.inverse(x),i++);if(i!==s)throw new H("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,s){const r=s.length,i=new Int32Array(r),o=this.field;for(let x=0;x<r;x++){const d=o.inverse(s[x]);let u=1;for(let g=0;g<r;g++)if(x!==g){const C=o.multiply(s[g],d),B=(C&1)===0?C|1:C&-2;u=o.multiply(u,B)}i[x]=o.multiply(e.evaluateAt(d),o.inverse(u)),o.getGeneratorBase()!==0&&(i[x]=o.multiply(i[x],d))}return i}}var ee;(function(p){p[p.UPPER=0]="UPPER",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.DIGIT=3]="DIGIT",p[p.PUNCT=4]="PUNCT",p[p.BINARY=5]="BINARY"})(ee||(ee={}));class ce{decode(e){this.ddata=e;let s=e.getBits(),r=this.extractBits(s),i=this.correctBits(r),o=ce.convertBoolArrayToByteArray(i),x=ce.getEncodedData(i),d=new Ce(o,x,null,null);return d.setNumBits(i.length),d}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let s=e.length,r=ee.UPPER,i=ee.UPPER,o="",x=0;for(;x<s;)if(i===ee.BINARY){if(s-x<5)break;let d=ce.readCode(e,x,5);if(x+=5,d===0){if(s-x<11)break;d=ce.readCode(e,x,11)+31,x+=11}for(let u=0;u<d;u++){if(s-x<8){x=s;break}const g=ce.readCode(e,x,8);o+=ae.castAsNonUtf8Char(g),x+=8}i=r}else{let d=i===ee.DIGIT?4:5;if(s-x<d)break;let u=ce.readCode(e,x,d);x+=d;let g=ce.getCharacter(i,u);g.startsWith("CTRL_")?(r=i,i=ce.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=i)):(o+=g,i=r)}return o}static getTable(e){switch(e){case"L":return ee.LOWER;case"P":return ee.PUNCT;case"M":return ee.MIXED;case"D":return ee.DIGIT;case"B":return ee.BINARY;case"U":default:return ee.UPPER}}static getCharacter(e,s){switch(e){case ee.UPPER:return ce.UPPER_TABLE[s];case ee.LOWER:return ce.LOWER_TABLE[s];case ee.MIXED:return ce.MIXED_TABLE[s];case ee.PUNCT:return ce.PUNCT_TABLE[s];case ee.DIGIT:return ce.DIGIT_TABLE[s];default:throw new ie("Bad table")}}correctBits(e){let s,r;this.ddata.getNbLayers()<=2?(r=6,s=I.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,s=I.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,s=I.AZTEC_DATA_10):(r=12,s=I.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new R;let x=e.length%r,d=new Int32Array(o);for(let D=0;D<o;D++,x+=r)d[D]=ce.readCode(e,x,r);try{new le(s).decode(d,o-i)}catch(D){throw new R(D)}let u=(1<<r)-1,g=0;for(let D=0;D<i;D++){let v=d[D];if(v===0||v===u)throw new R;(v===1||v===u-1)&&g++}let C=new Array(i*r-g),B=0;for(let D=0;D<i;D++){let v=d[D];if(v===1||v===u-1)C.fill(v>1,B,B+r-1),B+=r-1;else for(let M=r-1;M>=0;--M)C[B++]=(v&1<<M)!==0}return C}extractBits(e){let s=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(s?11:14)+r*4,o=new Int32Array(i),x=new Array(this.totalBitsInLayer(r,s));if(s)for(let d=0;d<o.length;d++)o[d]=d;else{let d=i+1+2*U.truncDivision(U.truncDivision(i,2)-1,15),u=i/2,g=U.truncDivision(d,2);for(let C=0;C<u;C++){let B=C+U.truncDivision(C,15);o[u-C-1]=g-B-1,o[u+C]=g+B+1}}for(let d=0,u=0;d<r;d++){let g=(r-d)*4+(s?9:12),C=d*2,B=i-1-C;for(let D=0;D<g;D++){let v=D*2;for(let M=0;M<2;M++)x[u+v+M]=e.get(o[C+M],o[C+D]),x[u+2*g+v+M]=e.get(o[C+D],o[B-M]),x[u+4*g+v+M]=e.get(o[B-M],o[B-D]),x[u+6*g+v+M]=e.get(o[B-D],o[C+M])}u+=g*8}return x}static readCode(e,s,r){let i=0;for(let o=s;o<s+r;o++)i<<=1,e[o]&&(i|=1);return i}static readByte(e,s){let r=e.length-s;return r>=8?ce.readCode(e,s,8):ce.readCode(e,s,r)<<8-r}static convertBoolArrayToByteArray(e){let s=new Uint8Array((e.length+7)/8);for(let r=0;r<s.length;r++)s[r]=ce.readByte(e,8*r);return s}totalBitsInLayer(e,s){return((s?88:112)+16*e)*e}}ce.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ce.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ce.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ce.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ce.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class oe{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,s,r,i){const o=e-r,x=s-i;return Math.sqrt(o*o+x*x)}static sum(e){let s=0;for(let r=0,i=e.length;r!==i;r++){const o=e[r];s+=o}return s}}class Ae{static floatToIntBits(e){return e}}Ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class X{constructor(e,s){this.x=e,this.y=s}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof X){const s=e;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Ae.floatToIntBits(this.x)+Ae.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const s=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);let o,x,d;if(r>=s&&r>=i?(x=e[0],o=e[1],d=e[2]):i>=r&&i>=s?(x=e[1],o=e[0],d=e[2]):(x=e[2],o=e[0],d=e[1]),this.crossProductZ(o,x,d)<0){const u=o;o=d,d=u}e[0]=o,e[1]=x,e[2]=d}static distance(e,s){return oe.distance(e.x,e.y,s.x,s.y)}static crossProductZ(e,s,r){const i=s.x,o=s.y;return(r.x-i)*(e.y-o)-(r.y-o)*(e.x-i)}}class Ne{constructor(e,s){this.bits=e,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class ve extends Ne{constructor(e,s,r,i,o){super(e,s),this.compact=r,this.nbDatablocks=i,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pe{constructor(e,s,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),s==null&&(s=Pe.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);const o=s/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let e=this.leftInit,s=this.rightInit,r=this.upInit,i=this.downInit,o=!1,x=!0,d=!1,u=!1,g=!1,C=!1,B=!1;const D=this.width,v=this.height;for(;x;){x=!1;let M=!0;for(;(M||!u)&&s<D;)M=this.containsBlackPoint(r,i,s,!1),M?(s++,x=!0,u=!0):u||s++;if(s>=D){o=!0;break}let L=!0;for(;(L||!g)&&i<v;)L=this.containsBlackPoint(e,s,i,!0),L?(i++,x=!0,g=!0):g||i++;if(i>=v){o=!0;break}let Y=!0;for(;(Y||!C)&&e>=0;)Y=this.containsBlackPoint(r,i,e,!1),Y?(e--,x=!0,C=!0):C||e--;if(e<0){o=!0;break}let Q=!0;for(;(Q||!B)&&r>=0;)Q=this.containsBlackPoint(e,s,r,!0),Q?(r--,x=!0,B=!0):B||r--;if(r<0){o=!0;break}x&&(d=!0)}if(!o&&d){const M=s-e;let L=null;for(let ge=1;L===null&&ge<M;ge++)L=this.getBlackPointOnSegment(e,i-ge,e+ge,i);if(L==null)throw new j;let Y=null;for(let ge=1;Y===null&&ge<M;ge++)Y=this.getBlackPointOnSegment(e,r+ge,e+ge,r);if(Y==null)throw new j;let Q=null;for(let ge=1;Q===null&&ge<M;ge++)Q=this.getBlackPointOnSegment(s,r+ge,s-ge,r);if(Q==null)throw new j;let he=null;for(let ge=1;he===null&&ge<M;ge++)he=this.getBlackPointOnSegment(s,i-ge,s-ge,i);if(he==null)throw new j;return this.centerEdges(he,L,Q,Y)}else throw new j}getBlackPointOnSegment(e,s,r,i){const o=oe.round(oe.distance(e,s,r,i)),x=(r-e)/o,d=(i-s)/o,u=this.image;for(let g=0;g<o;g++){const C=oe.round(e+g*x),B=oe.round(s+g*d);if(u.get(C,B))return new X(C,B)}return null}centerEdges(e,s,r,i){const o=e.getX(),x=e.getY(),d=s.getX(),u=s.getY(),g=r.getX(),C=r.getY(),B=i.getX(),D=i.getY(),v=Pe.CORR;return o<this.width/2?[new X(B-v,D+v),new X(d+v,u+v),new X(g-v,C-v),new X(o+v,x-v)]:[new X(B+v,D+v),new X(d+v,u-v),new X(g-v,C+v),new X(o-v,x-v)]}containsBlackPoint(e,s,r,i){const o=this.image;if(i){for(let x=e;x<=s;x++)if(o.get(x,r))return!0}else for(let x=e;x<=s;x++)if(o.get(r,x))return!0;return!1}}Pe.INIT_SIZE=10,Pe.CORR=1;class He{static checkAndNudgePoints(e,s){const r=e.getWidth(),i=e.getHeight();let o=!0;for(let x=0;x<s.length&&o;x+=2){const d=Math.floor(s[x]),u=Math.floor(s[x+1]);if(d<-1||d>r||u<-1||u>i)throw new j;o=!1,d===-1?(s[x]=0,o=!0):d===r&&(s[x]=r-1,o=!0),u===-1?(s[x+1]=0,o=!0):u===i&&(s[x+1]=i-1,o=!0)}o=!0;for(let x=s.length-2;x>=0&&o;x-=2){const d=Math.floor(s[x]),u=Math.floor(s[x+1]);if(d<-1||d>r||u<-1||u>i)throw new j;o=!1,d===-1?(s[x]=0,o=!0):d===r&&(s[x]=r-1,o=!0),u===-1?(s[x+1]=0,o=!0):u===i&&(s[x+1]=i-1,o=!0)}}}class We{constructor(e,s,r,i,o,x,d,u,g){this.a11=e,this.a21=s,this.a31=r,this.a12=i,this.a22=o,this.a32=x,this.a13=d,this.a23=u,this.a33=g}static quadrilateralToQuadrilateral(e,s,r,i,o,x,d,u,g,C,B,D,v,M,L,Y){const Q=We.quadrilateralToSquare(e,s,r,i,o,x,d,u);return We.squareToQuadrilateral(g,C,B,D,v,M,L,Y).times(Q)}transformPoints(e){const s=e.length,r=this.a11,i=this.a12,o=this.a13,x=this.a21,d=this.a22,u=this.a23,g=this.a31,C=this.a32,B=this.a33;for(let D=0;D<s;D+=2){const v=e[D],M=e[D+1],L=o*v+u*M+B;e[D]=(r*v+x*M+g)/L,e[D+1]=(i*v+d*M+C)/L}}transformPointsWithValues(e,s){const r=this.a11,i=this.a12,o=this.a13,x=this.a21,d=this.a22,u=this.a23,g=this.a31,C=this.a32,B=this.a33,D=e.length;for(let v=0;v<D;v++){const M=e[v],L=s[v],Y=o*M+u*L+B;e[v]=(r*M+x*L+g)/Y,s[v]=(i*M+d*L+C)/Y}}static squareToQuadrilateral(e,s,r,i,o,x,d,u){const g=e-r+o-d,C=s-i+x-u;if(g===0&&C===0)return new We(r-e,o-r,e,i-s,x-i,s,0,0,1);{const B=r-o,D=d-o,v=i-x,M=u-x,L=B*M-D*v,Y=(g*M-D*C)/L,Q=(B*C-g*v)/L;return new We(r-e+Y*r,d-e+Q*d,e,i-s+Y*i,u-s+Q*u,s,Y,Q,1)}}static quadrilateralToSquare(e,s,r,i,o,x,d,u){return We.squareToQuadrilateral(e,s,r,i,o,x,d,u).buildAdjoint()}buildAdjoint(){return new We(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new We(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class ht extends He{sampleGrid(e,s,r,i,o,x,d,u,g,C,B,D,v,M,L,Y,Q,he,ge){const ue=We.quadrilateralToQuadrilateral(i,o,x,d,u,g,C,B,D,v,M,L,Y,Q,he,ge);return this.sampleGridWithTransform(e,s,r,ue)}sampleGridWithTransform(e,s,r,i){if(s<=0||r<=0)throw new j;const o=new Fe(s,r),x=new Float32Array(2*s);for(let d=0;d<r;d++){const u=x.length,g=d+.5;for(let C=0;C<u;C+=2)x[C]=C/2+.5,x[C+1]=g;i.transformPoints(x),He.checkAndNudgePoints(e,x);try{for(let C=0;C<u;C+=2)e.get(Math.floor(x[C]),Math.floor(x[C+1]))&&o.set(C/2,d)}catch{throw new j}}return o}}class $e{static setGridSampler(e){$e.gridSampler=e}static getInstance(){return $e.gridSampler}}$e.gridSampler=new ht;class at{constructor(e,s){this.x=e,this.y=s}toResultPoint(){return new X(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Lt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let s=this.getMatrixCenter(),r=this.getBullsEyeCorners(s);if(e){let x=r[0];r[0]=r[2],r[2]=x}this.extractParameters(r);let i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new ve(i,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new j;let s=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],s),this.sampleLine(e[1],e[2],s),this.sampleLine(e[2],e[3],s),this.sampleLine(e[3],e[0],s)]);this.shift=this.getRotation(r,s);let i=0;for(let x=0;x<4;x++){let d=r[(this.shift+x)%4];this.compact?(i<<=7,i+=d>>1&127):(i<<=10,i+=(d>>2&992)+(d>>1&31))}let o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,s){let r=0;e.forEach((i,o,x)=>{let d=(i>>s-2<<1)+(i&1);r=(r<<3)+d}),r=((r&1)<<11)+(r>>1);for(let i=0;i<4;i++)if(U.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new j}getCorrectedParameterData(e,s){let r,i;s?(r=7,i=2):(r=10,i=4);let o=r-i,x=new Int32Array(r);for(let u=r-1;u>=0;--u)x[u]=e&15,e>>=4;try{new le(I.AZTEC_PARAM).decode(x,o)}catch{throw new j}let d=0;for(let u=0;u<i;u++)d=(d<<4)+x[u];return d}getBullsEyeCorners(e){let s=e,r=e,i=e,o=e,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(s,x,1,-1),D=this.getFirstDifferent(r,x,1,1),v=this.getFirstDifferent(i,x,-1,1),M=this.getFirstDifferent(o,x,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(M,B)*this.nbCenterLayers/(this.distancePoint(o,s)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(B,D,v,M))break}s=B,r=D,i=v,o=M,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;let d=new X(s.getX()+.5,s.getY()-.5),u=new X(r.getX()+.5,r.getY()+.5),g=new X(i.getX()-.5,i.getY()+.5),C=new X(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,u,g,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,s,r,i;try{let d=new Pe(this.image).detect();e=d[0],s=d[1],r=d[2],i=d[3]}catch{let u=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new at(u+7,g-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new at(u+7,g+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new at(u-7,g+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new at(u-7,g-7),!1,-1,-1).toResultPoint()}let o=oe.round((e.getX()+i.getX()+s.getX()+r.getX())/4),x=oe.round((e.getY()+i.getY()+s.getY()+r.getY())/4);try{let d=new Pe(this.image,15,o,x).detect();e=d[0],s=d[1],r=d[2],i=d[3]}catch{e=this.getFirstDifferent(new at(o+7,x-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new at(o+7,x+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new at(o-7,x+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new at(o-7,x-7),!1,-1,-1).toResultPoint()}return o=oe.round((e.getX()+i.getX()+s.getX()+r.getX())/4),x=oe.round((e.getY()+i.getY()+s.getY()+r.getY())/4),new at(o,x)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,s,r,i,o){let x=$e.getInstance(),d=this.getDimension(),u=d/2-this.nbCenterLayers,g=d/2+this.nbCenterLayers;return x.sampleGrid(e,d,d,u,u,g,u,g,g,u,g,s.getX(),s.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())}sampleLine(e,s,r){let i=0,o=this.distanceResultPoint(e,s),x=o/r,d=e.getX(),u=e.getY(),g=x*(s.getX()-e.getX())/o,C=x*(s.getY()-e.getY())/o;for(let B=0;B<r;B++)this.image.get(oe.round(d+B*g),oe.round(u+B*C))&&(i|=1<<r-B-1);return i}isWhiteOrBlackRectangle(e,s,r,i){let o=3;e=new at(e.getX()-o,e.getY()+o),s=new at(s.getX()-o,s.getY()-o),r=new at(r.getX()+o,r.getY()-o),i=new at(i.getX()+o,i.getY()+o);let x=this.getColor(i,e);if(x===0)return!1;let d=this.getColor(e,s);return d!==x||(d=this.getColor(s,r),d!==x)?!1:(d=this.getColor(r,i),d===x)}getColor(e,s){let r=this.distancePoint(e,s),i=(s.getX()-e.getX())/r,o=(s.getY()-e.getY())/r,x=0,d=e.getX(),u=e.getY(),g=this.image.get(e.getX(),e.getY()),C=Math.ceil(r);for(let D=0;D<C;D++)d+=i,u+=o,this.image.get(oe.round(d),oe.round(u))!==g&&x++;let B=x/r;return B>.1&&B<.9?0:B<=.1===g?1:-1}getFirstDifferent(e,s,r,i){let o=e.getX()+r,x=e.getY()+i;for(;this.isValid(o,x)&&this.image.get(o,x)===s;)o+=r,x+=i;for(o-=r,x-=i;this.isValid(o,x)&&this.image.get(o,x)===s;)o+=r;for(o-=r;this.isValid(o,x)&&this.image.get(o,x)===s;)x+=i;return x-=i,new at(o,x)}expandSquare(e,s,r){let i=r/(2*s),o=e[0].getX()-e[2].getX(),x=e[0].getY()-e[2].getY(),d=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,g=new X(d+i*o,u+i*x),C=new X(d-i*o,u-i*x);o=e[1].getX()-e[3].getX(),x=e[1].getY()-e[3].getY(),d=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let B=new X(d+i*o,u+i*x),D=new X(d-i*o,u-i*x);return[g,B,C,D]}isValid(e,s){return e>=0&&e<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(e){let s=oe.round(e.getX()),r=oe.round(e.getY());return this.isValid(s,r)}distancePoint(e,s){return oe.distance(e.getX(),e.getY(),s.getX(),s.getY())}distanceResultPoint(e,s){return oe.distance(e.getX(),e.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Zt{decode(e,s=null){let r=null,i=new Lt(e.getBlackMatrix()),o=null,x=null;try{let C=i.detectMirror(!1);o=C.getPoints(),this.reportFoundResultPoints(s,o),x=new ce().decode(C)}catch(C){r=C}if(x==null)try{let C=i.detectMirror(!0);o=C.getPoints(),this.reportFoundResultPoints(s,o),x=new ce().decode(C)}catch(C){throw r??C}let d=new Te(x.getText(),x.getRawBytes(),x.getNumBits(),o,we.AZTEC,J.currentTimeMillis()),u=x.getByteSegments();u!=null&&d.putMetadata(Ee.BYTE_SEGMENTS,u);let g=x.getECLevel();return g!=null&&d.putMetadata(Ee.ERROR_CORRECTION_LEVEL,g),d}reportFoundResultPoints(e,s){if(e!=null){let r=e.get(G.NEED_RESULT_POINT_CALLBACK);r!=null&&s.forEach((i,o,x)=>{r.foundPossibleResultPoint(i)})}}reset(){}}class u0 extends lt{constructor(e=500){super(new Zt,e)}}class At{decode(e,s){try{return this.doDecode(e,s)}catch{if(s&&s.get(G.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),x=this.doDecode(o,s),d=x.getResultMetadata();let u=270;d!==null&&d.get(Ee.ORIENTATION)===!0&&(u=u+d.get(Ee.ORIENTATION)%360),x.putMetadata(Ee.ORIENTATION,u);const g=x.getResultPoints();if(g!==null){const C=o.getHeight();for(let B=0;B<g.length;B++)g[B]=new X(C-g[B].getY()-1,g[B].getX())}return x}else throw new j}}reset(){}doDecode(e,s){const r=e.getWidth(),i=e.getHeight();let o=new N(r);const x=s&&s.get(G.TRY_HARDER)===!0,d=Math.max(1,i>>(x?8:5));let u;x?u=i:u=15;const g=Math.trunc(i/2);for(let C=0;C<u;C++){const B=Math.trunc((C+1)/2),D=(C&1)===0,v=g+d*(D?B:-B);if(v<0||v>=i)break;try{o=e.getBlackRow(v,o)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(o.reverse(),s&&s.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;s.forEach((Y,Q)=>L.set(Q,Y)),L.delete(G.NEED_RESULT_POINT_CALLBACK),s=L}try{const L=this.decodeRow(v,o,s);if(M===1){L.putMetadata(Ee.ORIENTATION,180);const Y=L.getResultPoints();Y!==null&&(Y[0]=new X(r-Y[0].getX()-1,Y[0].getY()),Y[1]=new X(r-Y[1].getX()-1,Y[1].getY()))}return L}catch{}}}throw new j}static recordPattern(e,s,r){const i=r.length;for(let g=0;g<i;g++)r[g]=0;const o=e.getSize();if(s>=o)throw new j;let x=!e.get(s),d=0,u=s;for(;u<o;){if(e.get(u)!==x)r[d]++;else{if(++d===i)break;r[d]=1,x=!x}u++}if(!(d===i||d===i-1&&u===o))throw new j}static recordPatternInReverse(e,s,r){let i=r.length,o=e.get(s);for(;s>0&&i>=0;)e.get(--s)!==o&&(i--,o=!o);if(i>=0)throw new j;At.recordPattern(e,s+1,r)}static patternMatchVariance(e,s,r){const i=e.length;let o=0,x=0;for(let g=0;g<i;g++)o+=e[g],x+=s[g];if(o<x)return Number.POSITIVE_INFINITY;const d=o/x;r*=d;let u=0;for(let g=0;g<i;g++){const C=e[g],B=s[g]*d,D=C>B?C-B:B-C;if(D>r)return Number.POSITIVE_INFINITY;u+=D}return u/o}}class Be extends At{static findStartPattern(e){const s=e.getSize(),r=e.getNextSet(0);let i=0,o=Int32Array.from([0,0,0,0,0,0]),x=r,d=!1;const u=6;for(let g=r;g<s;g++)if(e.get(g)!==d)o[i]++;else{if(i===u-1){let C=Be.MAX_AVG_VARIANCE,B=-1;for(let D=Be.CODE_START_A;D<=Be.CODE_START_C;D++){const v=At.patternMatchVariance(o,Be.CODE_PATTERNS[D],Be.MAX_INDIVIDUAL_VARIANCE);v<C&&(C=v,B=D)}if(B>=0&&e.isRange(Math.max(0,x-(g-x)/2),x,!1))return Int32Array.from([x,g,B]);x+=o[0]+o[1],o=o.slice(2,o.length-1),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,d=!d}throw new j}static decodeCode(e,s,r){At.recordPattern(e,r,s);let i=Be.MAX_AVG_VARIANCE,o=-1;for(let x=0;x<Be.CODE_PATTERNS.length;x++){const d=Be.CODE_PATTERNS[x],u=this.patternMatchVariance(s,d,Be.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,o=x)}if(o>=0)return o;throw new j}decodeRow(e,s,r){const i=r&&r.get(G.ASSUME_GS1)===!0,o=Be.findStartPattern(s),x=o[2];let d=0;const u=new Uint8Array(20);u[d++]=x;let g;switch(x){case Be.CODE_START_A:g=Be.CODE_CODE_A;break;case Be.CODE_START_B:g=Be.CODE_CODE_B;break;case Be.CODE_START_C:g=Be.CODE_CODE_C;break;default:throw new R}let C=!1,B=!1,D="",v=o[0],M=o[1];const L=Int32Array.from([0,0,0,0,0,0]);let Y=0,Q=0,he=x,ge=0,ue=!0,st=!1,Ye=!1;for(;!C;){const _s=B;switch(B=!1,Y=Q,Q=Be.decodeCode(s,L,M),u[d++]=Q,Q!==Be.CODE_STOP&&(ue=!0),Q!==Be.CODE_STOP&&(ge++,he+=ge*Q),v=M,M+=L.reduce((zl,Jl)=>zl+Jl,0),Q){case Be.CODE_START_A:case Be.CODE_START_B:case Be.CODE_START_C:throw new R}switch(g){case Be.CODE_CODE_A:if(Q<64)Ye===st?D+=String.fromCharCode(32+Q):D+=String.fromCharCode(32+Q+128),Ye=!1;else if(Q<96)Ye===st?D+=String.fromCharCode(Q-64):D+=String.fromCharCode(Q+64),Ye=!1;else switch(Q!==Be.CODE_STOP&&(ue=!1),Q){case Be.CODE_FNC_1:i&&(D.length===0?D+="]C1":D+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_A:!st&&Ye?(st=!0,Ye=!1):st&&Ye?(st=!1,Ye=!1):Ye=!0;break;case Be.CODE_SHIFT:B=!0,g=Be.CODE_CODE_B;break;case Be.CODE_CODE_B:g=Be.CODE_CODE_B;break;case Be.CODE_CODE_C:g=Be.CODE_CODE_C;break;case Be.CODE_STOP:C=!0;break}break;case Be.CODE_CODE_B:if(Q<96)Ye===st?D+=String.fromCharCode(32+Q):D+=String.fromCharCode(32+Q+128),Ye=!1;else switch(Q!==Be.CODE_STOP&&(ue=!1),Q){case Be.CODE_FNC_1:i&&(D.length===0?D+="]C1":D+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_B:!st&&Ye?(st=!0,Ye=!1):st&&Ye?(st=!1,Ye=!1):Ye=!0;break;case Be.CODE_SHIFT:B=!0,g=Be.CODE_CODE_A;break;case Be.CODE_CODE_A:g=Be.CODE_CODE_A;break;case Be.CODE_CODE_C:g=Be.CODE_CODE_C;break;case Be.CODE_STOP:C=!0;break}break;case Be.CODE_CODE_C:if(Q<100)Q<10&&(D+="0"),D+=Q;else switch(Q!==Be.CODE_STOP&&(ue=!1),Q){case Be.CODE_FNC_1:i&&(D.length===0?D+="]C1":D+="");break;case Be.CODE_CODE_A:g=Be.CODE_CODE_A;break;case Be.CODE_CODE_B:g=Be.CODE_CODE_B;break;case Be.CODE_STOP:C=!0;break}break}_s&&(g=g===Be.CODE_CODE_A?Be.CODE_CODE_B:Be.CODE_CODE_A)}const r0=M-v;if(M=s.getNextUnset(M),!s.isRange(M,Math.min(s.getSize(),M+(M-v)/2),!1))throw new j;if(he-=ge*Y,he%103!==Y)throw new S;const p0=D.length;if(p0===0)throw new j;p0>0&&ue&&(g===Be.CODE_CODE_C?D=D.substring(0,p0-2):D=D.substring(0,p0-1));const i0=(o[1]+o[0])/2,Ct=v+r0/2,Vt=u.length,x0=new Uint8Array(Vt);for(let _s=0;_s<Vt;_s++)x0[_s]=u[_s];const vs=[new X(i0,e),new X(Ct,e)];return new Te(D,x0,0,vs,we.CODE_128,new Date().getTime())}}Be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Be.MAX_AVG_VARIANCE=.25,Be.MAX_INDIVIDUAL_VARIANCE=.7,Be.CODE_SHIFT=98,Be.CODE_CODE_C=99,Be.CODE_CODE_B=100,Be.CODE_CODE_A=101,Be.CODE_FNC_1=102,Be.CODE_FNC_2=97,Be.CODE_FNC_3=96,Be.CODE_FNC_4_A=101,Be.CODE_FNC_4_B=100,Be.CODE_START_A=103,Be.CODE_START_B=104,Be.CODE_START_C=105,Be.CODE_STOP=106;class rt extends At{constructor(e=!1,s=!1){super(),this.usingCheckDigit=e,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,s,r){let i=this.counters;i.fill(0),this.decodeRowResult="";let o=rt.findAsteriskPattern(s,i),x=s.getNextSet(o[1]),d=s.getSize(),u,g;do{rt.recordPattern(s,x,i);let L=rt.toNarrowWidePattern(i);if(L<0)throw new j;u=rt.patternToChar(L),this.decodeRowResult+=u,g=x;for(let Y of i)x+=Y;x=s.getNextSet(x)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let L of i)C+=L;let B=x-g-C;if(x!==d&&B*2<C)throw new j;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,Y=0;for(let Q=0;Q<L;Q++)Y+=rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(L)!==rt.ALPHABET_STRING.charAt(Y%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new j;let D;this.extendedMode?D=rt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let v=(o[1]+o[0])/2,M=g+C/2;return new Te(D,null,0,[new X(v,e),new X(M,e)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(e,s){let r=e.getSize(),i=e.getNextSet(0),o=0,x=i,d=!1,u=s.length;for(let g=i;g<r;g++)if(e.get(g)!==d)s[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(s)===rt.ASTERISK_ENCODING&&e.isRange(Math.max(0,x-Math.floor((g-x)/2)),x,!1))return[x,g];x+=s[0]+s[1],s.copyWithin(0,2,2+o-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,d=!d}throw new j}static toNarrowWidePattern(e){let s=e.length,r=0,i;do{let o=2147483647;for(let u of e)u<o&&u>r&&(o=u);r=o,i=0;let x=0,d=0;for(let u=0;u<s;u++){let g=e[u];g>r&&(d|=1<<s-1-u,i++,x+=g)}if(i===3){for(let u=0;u<s&&i>0;u++){let g=e[u];if(g>r&&(i--,g*2>=x))return-1}return d}}while(i>3);return-1}static patternToChar(e){for(let s=0;s<rt.CHARACTER_ENCODINGS.length;s++)if(rt.CHARACTER_ENCODINGS[s]===e)return rt.ALPHABET_STRING.charAt(s);if(e===rt.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(e){let s=e.length,r="";for(let i=0;i<s;i++){let o=e.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){let x=e.charAt(i+1),d="\0";switch(o){case"+":if(x>="A"&&x<="Z")d=String.fromCharCode(x.charCodeAt(0)+32);else throw new R;break;case"$":if(x>="A"&&x<="Z")d=String.fromCharCode(x.charCodeAt(0)-64);else throw new R;break;case"%":if(x>="A"&&x<="E")d=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")d=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")d=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")d=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")d="\0";else if(x==="V")d="@";else if(x==="W")d="`";else if(x==="X"||x==="Y"||x==="Z")d="";else throw new R;break;case"/":if(x>="A"&&x<="O")d=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")d=":";else throw new R;break}r+=d,i++}else r+=o}return r}}rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],rt.ASTERISK_ENCODING=148;class et extends At{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,s,r){let i=this.decodeStart(s),o=this.decodeEnd(s),x=new pe;et.decodeMiddle(s,i[1],o[0],x);let d=x.toString(),u=null;r!=null&&(u=r.get(G.ALLOWED_LENGTHS)),u==null&&(u=et.DEFAULT_ALLOWED_LENGTHS);let g=d.length,C=!1,B=0;for(let M of u){if(g===M){C=!0;break}M>B&&(B=M)}if(!C&&g>B&&(C=!0),!C)throw new R;const D=[new X(i[1],e),new X(o[0],e)];return new Te(d,null,0,D,we.ITF,new Date().getTime())}static decodeMiddle(e,s,r,i){let o=new Int32Array(10),x=new Int32Array(5),d=new Int32Array(5);for(o.fill(0),x.fill(0),d.fill(0);s<r;){At.recordPattern(e,s,o);for(let g=0;g<5;g++){let C=2*g;x[g]=o[C],d[g]=o[C+1]}let u=et.decodeDigit(x);i.append(u.toString()),u=this.decodeDigit(d),i.append(u.toString()),o.forEach(function(g){s+=g})}}decodeStart(e){let s=et.skipWhiteSpace(e),r=et.findGuardPattern(e,s,et.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,s){let r=this.narrowLineWidth*10;r=r<s?r:s;for(let i=s-1;r>0&&i>=0&&!e.get(i);i--)r--;if(r!==0)throw new j}static skipWhiteSpace(e){const s=e.getSize(),r=e.getNextSet(0);if(r===s)throw new j;return r}decodeEnd(e){e.reverse();try{let s=et.skipWhiteSpace(e),r;try{r=et.findGuardPattern(e,s,et.END_PATTERN_REVERSED[0])}catch(o){o instanceof j&&(r=et.findGuardPattern(e,s,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let i=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-i,r}finally{e.reverse()}}static findGuardPattern(e,s,r){let i=r.length,o=new Int32Array(i),x=e.getSize(),d=!1,u=0,g=s;o.fill(0);for(let C=s;C<x;C++)if(e.get(C)!==d)o[u]++;else{if(u===i-1){if(At.patternMatchVariance(o,r,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[g,C];g+=o[0]+o[1],J.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,d=!d}throw new j}static decodeDigit(e){let s=et.MAX_AVG_VARIANCE,r=-1,i=et.PATTERNS.length;for(let o=0;o<i;o++){let x=et.PATTERNS[o],d=At.patternMatchVariance(e,x,et.MAX_INDIVIDUAL_VARIANCE);d<s?(s=d,r=o):d===s&&(r=-1)}if(r>=0)return r%10;throw new j}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends At{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let s=!1,r,i=0,o=Int32Array.from([0,0,0]);for(;!s;){o=Int32Array.from([0,0,0]),r=wt.findGuardPattern(e,i,!1,this.START_END_PATTERN,o);let x=r[0];i=r[1];let d=x-(i-x);d>=0&&(s=e.isRange(d,x,!1))}return r}static checkChecksum(e){return wt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let s=e.length;if(s===0)return!1;let r=parseInt(e.charAt(s-1),10);return wt.getStandardUPCEANChecksum(e.substring(0,s-1))===r}static getStandardUPCEANChecksum(e){let s=e.length,r=0;for(let i=s-1;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new R;r+=o}r*=3;for(let i=s-2;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new R;r+=o}return(1e3-r)%10}static decodeEnd(e,s){return wt.findGuardPattern(e,s,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,s,r,i){return this.findGuardPattern(e,s,r,i,new Int32Array(i.length))}static findGuardPattern(e,s,r,i,o){let x=e.getSize();s=r?e.getNextUnset(s):e.getNextSet(s);let d=0,u=s,g=i.length,C=r;for(let B=s;B<x;B++)if(e.get(B)!==C)o[d]++;else{if(d===g-1){if(At.patternMatchVariance(o,i,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([u,B]);u+=o[0]+o[1];let D=o.slice(2,o.length-1);for(let v=0;v<d-1;v++)o[v]=D[v];o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,C=!C}throw new j}static decodeDigit(e,s,r,i){this.recordPattern(e,r,s);let o=this.MAX_AVG_VARIANCE,x=-1,d=i.length;for(let u=0;u<d;u++){let g=i[u],C=At.patternMatchVariance(s,g,wt.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,x=u)}if(x>=0)return x;throw new j}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Y0{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,s,r){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(s,r,i),x=i.toString(),d=Y0.parseExtensionString(x),u=[new X((r[0]+r[1])/2,e),new X(o,e)],g=new Te(x,null,0,u,we.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&g.putAllMetadata(d),g}decodeMiddle(e,s,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1],d=0;for(let g=0;g<5&&x<o;g++){let C=wt.decodeDigit(e,i,x,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let B of i)x+=B;C>=10&&(d|=1<<4-g),g!==4&&(x=e.getNextSet(x),x=e.getNextUnset(x))}if(r.length!==5)throw new j;let u=this.determineCheckDigit(d);if(Y0.extensionChecksum(r.toString())!==u)throw new j;return x}static extensionChecksum(e){let s=e.length,r=0;for(let i=s-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(let i=s-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let s=0;s<10;s++)if(e===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new j}static parseExtensionString(e){if(e.length!==5)return null;let s=Y0.parseExtension5String(e);return s==null?null:new Map([[Ee.SUGGESTED_PRICE,s]])}static parseExtension5String(e){let s;switch(e.charAt(0)){case"0":s="£";break;case"5":s="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let r=parseInt(e.substring(1)),i=(r/100).toString(),o=r%100,x=o<10?"0"+o:o.toString();return s+i+"."+x}}class Cr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,s,r){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(s,r,i),x=i.toString(),d=Cr.parseExtensionString(x),u=[new X((r[0]+r[1])/2,e),new X(o,e)],g=new Te(x,null,0,u,we.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&g.putAllMetadata(d),g}decodeMiddle(e,s,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1],d=0;for(let u=0;u<2&&x<o;u++){let g=wt.decodeDigit(e,i,x,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);for(let C of i)x+=C;g>=10&&(d|=1<<1-u),u!==1&&(x=e.getNextSet(x),x=e.getNextUnset(x))}if(r.length!==2)throw new j;if(parseInt(r.toString())%4!==d)throw new j;return x}static parseExtensionString(e){return e.length!==2?null:new Map([[Ee.ISSUE_NUMBER,parseInt(e)]])}}class ki{static decodeRow(e,s,r){let i=wt.findGuardPattern(s,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Y0().decodeRow(e,s,i)}catch{return new Cr().decodeRow(e,s,i)}}}ki.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ot extends wt{constructor(){super(),this.decodeRowStringBuffer="",ot.L_AND_G_PATTERNS=ot.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let s=ot.L_PATTERNS[e-10],r=new Int32Array(s.length);for(let i=0;i<s.length;i++)r[i]=s[s.length-i-1];ot.L_AND_G_PATTERNS[e]=r}}decodeRow(e,s,r){let i=ot.findStartGuardPattern(s),o=r==null?null:r.get(G.NEED_RESULT_POINT_CALLBACK);if(o!=null){const ue=new X((i[0]+i[1])/2,e);o.foundPossibleResultPoint(ue)}let x=this.decodeMiddle(s,i,this.decodeRowStringBuffer),d=x.rowOffset,u=x.resultString;if(o!=null){const ue=new X(d,e);o.foundPossibleResultPoint(ue)}let g=this.decodeEnd(s,d);if(o!=null){const ue=new X((g[0]+g[1])/2,e);o.foundPossibleResultPoint(ue)}let C=g[1],B=C+(C-g[0]);if(B>=s.getSize()||!s.isRange(C,B,!1))throw new j;let D=u.toString();if(D.length<8)throw new R;if(!ot.checkChecksum(D))throw new S;let v=(i[1]+i[0])/2,M=(g[1]+g[0])/2,L=this.getBarcodeFormat(),Y=[new X(v,e),new X(M,e)],Q=new Te(D,null,0,Y,L,new Date().getTime()),he=0;try{let ue=ki.decodeRow(e,s,g[1]);Q.putMetadata(Ee.UPC_EAN_EXTENSION,ue.getText()),Q.putAllMetadata(ue.getResultMetadata()),Q.addResultPoints(ue.getResultPoints()),he=ue.getText().length}catch{}let ge=r==null?null:r.get(G.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let ue=!1;for(let st in ge)if(he.toString()===st){ue=!0;break}if(!ue)throw new j}return Q}decodeEnd(e,s){return ot.findGuardPattern(e,s,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ot.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let s=e.length;if(s===0)return!1;let r=parseInt(e.charAt(s-1),10);return ot.getStandardUPCEANChecksum(e.substring(0,s-1))===r}static getStandardUPCEANChecksum(e){let s=e.length,r=0;for(let i=s-1;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new R;r+=o}r*=3;for(let i=s-2;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new R;r+=o}return(1e3-r)%10}}class as extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,s,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1],d=0;for(let g=0;g<6&&x<o;g++){let C=ot.decodeDigit(e,i,x,ot.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let B of i)x+=B;C>=10&&(d|=1<<5-g)}r=as.determineFirstDigit(r,d),x=ot.findGuardPattern(e,x,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&x<o;g++){let C=ot.decodeDigit(e,i,x,ot.L_PATTERNS);r+=String.fromCharCode(48+C);for(let B of i)x+=B}return{rowOffset:x,resultString:r}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(e,s){for(let r=0;r<10;r++)if(s===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new j}}as.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ii extends ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,s,r){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1];for(let u=0;u<4&&x<o;u++){let g=ot.decodeDigit(e,i,x,ot.L_PATTERNS);r+=String.fromCharCode(48+g);for(let C of i)x+=C}x=ot.findGuardPattern(e,x,!0,ot.MIDDLE_PATTERN,new Int32Array(ot.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&x<o;u++){let g=ot.decodeDigit(e,i,x,ot.L_PATTERNS);r+=String.fromCharCode(48+g);for(let C of i)x+=C}return{rowOffset:x,resultString:r}}getBarcodeFormat(){return we.EAN_8}}class Si extends ot{constructor(){super(...arguments),this.ean13Reader=new as}getBarcodeFormat(){return we.UPC_A}decode(e,s){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,s,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,s,r))}decodeMiddle(e,s,r){return this.ean13Reader.decodeMiddle(e,s,r)}maybeReturnResult(e){let s=e.getText();if(s.charAt(0)==="0"){let r=new Te(s.substring(1),null,null,e.getResultPoints(),we.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new j}reset(){this.ean13Reader.reset()}}class A0 extends ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,s,r){const i=this.decodeMiddleCounters.map(g=>g);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const o=e.getSize();let x=s[1],d=0;for(let g=0;g<6&&x<o;g++){const C=A0.decodeDigit(e,i,x,A0.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let B of i)x+=B;C>=10&&(d|=1<<5-g)}let u=A0.determineNumSysAndCheckDigit(r,d);return{rowOffset:x,resultString:u}}decodeEnd(e,s){return A0.findGuardPatternWithoutCounters(e,s,!0,A0.MIDDLE_END_PATTERN)}checkChecksum(e){return ot.checkChecksum(A0.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,s){for(let r=0;r<=1;r++)for(let i=0;i<10;i++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][i]){let o=String.fromCharCode(48+r),x=String.fromCharCode(48+i);return o+e+x}throw j.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(e){const s=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new pe;r.append(e.charAt(0));let i=s[5];switch(i){case 0:case 1:case 2:r.appendChars(s,0,2),r.append(i),r.append("0000"),r.appendChars(s,2,3);break;case 3:r.appendChars(s,0,3),r.append("00000"),r.appendChars(s,3,2);break;case 4:r.appendChars(s,0,4),r.append("00000"),r.append(s[4]);break;default:r.appendChars(s,0,5),r.append("0000"),r.append(i);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}A0.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),A0.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class mr extends At{constructor(e){super();let s=e==null?null:e.get(G.POSSIBLE_FORMATS),r=[];f(s)?(r.push(new as),r.push(new Si),r.push(new Ii),r.push(new A0)):(s.indexOf(we.EAN_13)>-1&&r.push(new as),s.indexOf(we.UPC_A)>-1&&r.push(new Si),s.indexOf(we.EAN_8)>-1&&r.push(new Ii),s.indexOf(we.UPC_E)>-1&&r.push(new A0)),this.readers=r}decodeRow(e,s,r){for(let i of this.readers)try{const o=i.decodeRow(e,s,r),x=o.getBarcodeFormat()===we.EAN_13&&o.getText().charAt(0)==="0",d=r==null?null:r.get(G.POSSIBLE_FORMATS),u=d==null||d.includes(we.UPC_A);if(x&&u){const g=o.getRawBytes(),C=new Te(o.getText().substring(1),g,g?g.length:null,o.getResultPoints(),we.UPC_A);return C.putAllMetadata(o.getResultMetadata()),C}return o}catch{}throw new j}reset(){for(let e of this.readers)e.reset()}}class Wt extends At{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,s){for(let r=0;r<s.length;r++)if(At.patternMatchVariance(e,s[r],Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return r;throw new j}static count(e){return oe.sum(new Int32Array(e))}static increment(e,s){let r=0,i=s[0];for(let o=1;o<e.length;o++)s[o]>i&&(i=s[o],r=o);e[r]++}static decrement(e,s){let r=0,i=s[0];for(let o=1;o<e.length;o++)s[o]<i&&(i=s[o],r=o);e[r]--}static isFinderPattern(e){let s=e[0]+e[1],r=s+e[2]+e[3],i=s/r;if(i>=Wt.MIN_FINDER_PATTERN_RATIO&&i<=Wt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let d of e)d>x&&(x=d),d<o&&(o=d);return x<10*o}return!1}}Wt.MAX_AVG_VARIANCE=.2,Wt.MAX_INDIVIDUAL_VARIANCE=.45,Wt.MIN_FINDER_PATTERN_RATIO=9.5/12,Wt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ps{constructor(e,s){this.value=e,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ps))return!1;const s=e;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class yn{constructor(e,s,r,i,o){this.value=e,this.startEnd=s,this.value=e,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new X(r,o)),this.resultPoints.push(new X(i,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof yn))return!1;const s=e;return this.value===s.value}hashCode(){return this.value}}class D0{constructor(){}static getRSSvalue(e,s,r){let i=0;for(let u of e)i+=u;let o=0,x=0,d=e.length;for(let u=0;u<d-1;u++){let g;for(g=1,x|=1<<u;g<e[u];g++,x&=~(1<<u)){let C=D0.combins(i-g-1,d-u-2);if(r&&x===0&&i-g-(d-u-1)>=d-u-1&&(C-=D0.combins(i-g-(d-u),d-u-2)),d-u-1>1){let B=0;for(let D=i-g-(d-u-2);D>s;D--)B+=D0.combins(i-g-D-1,d-u-3);C-=B*(d-1-u)}else i-g>s&&C--;o+=C}i-=g}return o}static combins(e,s){let r,i;e-s>s?(i=s,r=e-s):(i=e-s,r=s);let o=1,x=1;for(let d=e;d>r;d--)o*=d,x<=i&&(o/=x,x++);for(;x<=i;)o/=x,x++;return o}}class Cl{static buildBitArray(e){let s=e.length*2-1;e[e.length-1].getRightChar()==null&&(s-=1);let r=12*s,i=new N(r),o=0,d=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)(d&1<<u)!=0&&i.set(o),o++;for(let u=1;u<e.length;++u){let g=e[u],C=g.getLeftChar().getValue();for(let B=11;B>=0;--B)(C&1<<B)!=0&&i.set(o),o++;if(g.getRightChar()!=null){let B=g.getRightChar().getValue();for(let D=11;D>=0;--D)(B&1<<D)!=0&&i.set(o),o++}}return i}}class cs{constructor(e,s){s?this.decodedInformation=null:(this.finished=e,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ar{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class t0 extends Ar{constructor(e,s){super(e),this.value=s}getValue(){return this.value}isFNC1(){return this.value===t0.FNC1}}t0.FNC1="$";class ds extends Ar{constructor(e,s,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class f0 extends Ar{constructor(e,s,r){if(super(e),s<0||s>10||r<0||r>10)throw new R;this.firstDigit=s,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===f0.FNC1}isSecondDigitFNC1(){return this.secondDigit===f0.FNC1}isAnyFNC1(){return this.firstDigit===f0.FNC1||this.secondDigit===f0.FNC1}}f0.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new j;let s=e.substring(0,2);for(let o of _e.TWO_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,o[2],e):_e.processFixedAI(2,o[1],e);if(e.length<3)throw new j;let r=e.substring(0,3);for(let o of _e.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,o[2],e):_e.processFixedAI(3,o[1],e);for(let o of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,o[2],e):_e.processFixedAI(4,o[1],e);if(e.length<4)throw new j;let i=e.substring(0,4);for(let o of _e.FOUR_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,o[2],e):_e.processFixedAI(4,o[1],e);throw new j}static processFixedAI(e,s,r){if(r.length<e)throw new j;let i=r.substring(0,e);if(r.length<e+s)throw new j;let o=r.substring(e,e+s),x=r.substring(e+s),d="("+i+")"+o,u=_e.parseFieldsInGeneralPurpose(x);return u==null?d:d+u}static processVariableAI(e,s,r){let i=r.substring(0,e),o;r.length<e+s?o=r.length:o=e+s;let x=r.substring(e,o),d=r.substring(o),u="("+i+")"+x,g=_e.parseFieldsInGeneralPurpose(d);return g==null?u:u+g}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class Bs{constructor(e){this.buffer=new pe,this.information=e}decodeAllCodes(e,s){let r=s,i=null;do{let o=this.decodeGeneralPurposeField(r,i),x=_e.parseFieldsInGeneralPurpose(o.getNewString());if(x!=null&&e.append(x),o.isRemaining()?i=""+o.getRemainingValue():i=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let s=e;s<e+3;++s)if(this.information.get(s))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new f0(this.information.getSize(),f0.FNC1,f0.FNC1):new f0(this.information.getSize(),o-1,f0.FNC1)}let s=this.extractNumericValueFromBitArray(e,7),r=(s-8)/11,i=(s-8)%11;return new f0(e+7,r,i)}extractNumericValueFromBitArray(e,s){return Bs.extractNumericValueFromBitArray(this.information,e,s)}static extractNumericValueFromBitArray(e,s,r){let i=0;for(let o=0;o<r;++o)e.get(s+o)&&(i|=1<<r-o-1);return i}decodeGeneralPurposeField(e,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new ds(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ds(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,s;do{let r=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),e=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),e=s.isFinished()):(s=this.parseNumericBlock(),e=s.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let s;return e.isSecondDigitFNC1()?s=new ds(this.current.getPosition(),this.buffer.toString()):s=new ds(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new cs(!0,s)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let s=new ds(this.current.getPosition(),this.buffer.toString());return new cs(!0,s)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new cs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let s=new ds(this.current.getPosition(),this.buffer.toString());return new cs(!0,s)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new cs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let s=new ds(this.current.getPosition(),this.buffer.toString());return new cs(!0,s)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new cs(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,5);if(s>=5&&s<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253}decodeIsoIec646(e){let s=this.extractNumericValueFromBitArray(e,5);if(s===15)return new t0(e+5,t0.FNC1);if(s>=5&&s<15)return new t0(e+5,"0"+(s-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new t0(e+7,""+(r+1));if(r>=90&&r<116)return new t0(e+7,""+(r+7));let i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new R}return new t0(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,5);if(s>=5&&s<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let s=this.extractNumericValueFromBitArray(e,5);if(s===15)return new t0(e+5,t0.FNC1);if(s>=5&&s<15)return new t0(e+5,"0"+(s-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new t0(e+6,""+(r+33));let i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new ie("Decoding invalid alphanumeric value: "+r)}return new t0(e+6,i)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let s=0;s<5&&s+e<this.information.getSize();++s)if(s===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+s))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let s=e;s<e+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let s=0;s<4&&s+e<this.information.getSize();++s)if(this.information.get(e+s))return!1;return!0}}class pr{constructor(e){this.information=e,this.generalDecoder=new Bs(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class s0 extends pr{constructor(e){super(e)}encodeCompressedGtin(e,s){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,s,r)}encodeCompressedGtinWithoutAI(e,s,r){for(let i=0;i<4;++i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*i,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}s0.appendCheckDigit(e,r)}static appendCheckDigit(e,s){let r=0;for(let i=0;i<13;i++){let o=e.charAt(i+s).charCodeAt(0)-48;r+=(i&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}s0.GTIN_SIZE=40;class bs extends s0{constructor(e){super(e)}parseInformation(){let e=new pe;e.append("(01)");let s=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(bs.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,bs.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(e,bs.HEADER_SIZE+44)}}bs.HEADER_SIZE=4;class vn extends pr{constructor(e){super(e)}parseInformation(){let e=new pe;return this.getGeneralDecoder().decodeAllCodes(e,vn.HEADER_SIZE)}}vn.HEADER_SIZE=5;class _n extends s0{constructor(e){super(e)}encodeCompressedWeight(e,s,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(s,r);this.addWeightCode(e,i);let o=this.checkWeight(i),x=1e5;for(let d=0;d<5;++d)o/x===0&&e.append("0"),x/=10;e.append(o)}}class F0 extends _n{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=F0.HEADER_SIZE+_n.GTIN_SIZE+F0.WEIGHT_SIZE)throw new j;let e=new pe;return this.encodeCompressedGtin(e,F0.HEADER_SIZE),this.encodeCompressedWeight(e,F0.HEADER_SIZE+_n.GTIN_SIZE,F0.WEIGHT_SIZE),e.toString()}}F0.HEADER_SIZE=5,F0.WEIGHT_SIZE=15;class ml extends F0{constructor(e){super(e)}addWeightCode(e,s){e.append("(3103)")}checkWeight(e){return e}}class Al extends F0{constructor(e){super(e)}addWeightCode(e,s){s<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class y0 extends s0{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<y0.HEADER_SIZE+s0.GTIN_SIZE)throw new j;let e=new pe;this.encodeCompressedGtin(e,y0.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(y0.HEADER_SIZE+s0.GTIN_SIZE,y0.LAST_DIGIT_SIZE);e.append("(392"),e.append(s),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(y0.HEADER_SIZE+s0.GTIN_SIZE+y0.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}y0.HEADER_SIZE=8,y0.LAST_DIGIT_SIZE=2;class qt extends s0{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<qt.HEADER_SIZE+s0.GTIN_SIZE)throw new j;let e=new pe;this.encodeCompressedGtin(e,qt.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+s0.GTIN_SIZE,qt.LAST_DIGIT_SIZE);e.append("(393"),e.append(s),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(qt.HEADER_SIZE+s0.GTIN_SIZE+qt.LAST_DIGIT_SIZE,qt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let i=this.getGeneralDecoder().decodeGeneralPurposeField(qt.HEADER_SIZE+s0.GTIN_SIZE+qt.LAST_DIGIT_SIZE+qt.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()}}qt.HEADER_SIZE=8,qt.LAST_DIGIT_SIZE=2,qt.FIRST_THREE_DIGITS_SIZE=10;class Ft extends _n{constructor(e,s,r){super(e),this.dateCode=r,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE+Ft.DATE_SIZE)throw new j;let e=new pe;return this.encodeCompressedGtin(e,Ft.HEADER_SIZE),this.encodeCompressedWeight(e,Ft.HEADER_SIZE+Ft.GTIN_SIZE,Ft.WEIGHT_SIZE),this.encodeCompressedDate(e,Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,s){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Ft.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let i=r%32;r/=32;let o=r%12+1;r/=12;let x=r;x/10==0&&e.append("0"),e.append(x),o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i)}addWeightCode(e,s){e.append("("),e.append(this.firstAIdigits),e.append(s/1e5),e.append(")")}checkWeight(e){return e%1e5}}Ft.HEADER_SIZE=8,Ft.WEIGHT_SIZE=20,Ft.DATE_SIZE=16;function Ti(p){try{if(p.get(1))return new bs(p);if(!p.get(2))return new vn(p);switch(Bs.extractNumericValueFromBitArray(p,1,4)){case 4:return new ml(p);case 5:return new Al(p)}switch(Bs.extractNumericValueFromBitArray(p,1,5)){case 12:return new y0(p);case 13:return new qt(p)}switch(Bs.extractNumericValueFromBitArray(p,1,7)){case 56:return new Ft(p,"310","11");case 57:return new Ft(p,"320","11");case 58:return new Ft(p,"310","13");case 59:return new Ft(p,"320","13");case 60:return new Ft(p,"310","15");case 61:return new Ft(p,"320","15");case 62:return new Ft(p,"310","17");case 63:return new Ft(p,"320","17")}}catch(e){throw console.log(e),new ie("unknown decoder: "+p)}}class K0{constructor(e,s,r,i){this.leftchar=e,this.rightchar=s,this.finderpattern=r,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,s){return e instanceof K0?K0.equalsOrNull(e.leftchar,s.leftchar)&&K0.equalsOrNull(e.rightchar,s.rightchar)&&K0.equalsOrNull(e.finderpattern,s.finderpattern):!1}static equalsOrNull(e,s){return e===null?s===null:K0.equals(e,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Br{constructor(e,s,r){this.pairs=e,this.rowNumber=s,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,s){return e instanceof Br?this.checkEqualitity(e,s)&&e.wasReversed===s.wasReversed:!1}checkEqualitity(e,s){if(!e||!s)return;let r;return e.forEach((i,o)=>{s.forEach(x=>{i.getLeftChar().getValue()===x.getLeftChar().getValue()&&i.getRightChar().getValue()===x.getRightChar().getValue()&&i.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(r=!0)})}),r}}class de extends Wt{constructor(e){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,s,r){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(e,s))}catch(i){this.verbose&&console.log(i)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(e,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,s){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,e))}catch(o){if(o instanceof j){if(!this.pairs.length)throw new j;r=!0}}if(this.checkChecksum())return this.pairs;let i;if(this.rows.length?i=!0:i=!1,this.storeRow(e,!1),i){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new j}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),s}checkRows(e,s){for(let r=s;r<this.rows.length;r++){let i=this.rows[r];this.pairs.length=0;for(let x of e)this.pairs.push(x.getPairs());if(this.pairs.push(i.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(i);try{return this.checkRows(o,r+1)}catch(x){this.verbose&&console.log(x)}}throw new j}static isValidSequence(e){for(let s of de.FINDER_PATTERN_SEQUENCES){if(e.length>s.length)continue;let r=!0;for(let i=0;i<e.length;i++)if(e[i].getFinderPattern().getValue()!=s[i]){r=!1;break}if(r)return!0}return!1}storeRow(e,s){let r=0,i=!1,o=!1;for(;r<this.rows.length;){let x=this.rows[r];if(x.getRowNumber()>e){o=x.isEquivalent(this.pairs);break}i=x.isEquivalent(this.pairs),r++}o||i||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Br(this.pairs,e,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,s){for(let r of s)if(r.getPairs().length!==e.length){for(let i of r.getPairs())for(let o of e)if(K0.equals(i,o))break}}static isPartialRow(e,s){for(let r of s){let i=!0;for(let o of e){let x=!1;for(let d of r.getPairs())if(o.equals(d)){x=!0;break}if(!x){i=!1;break}}if(i)return!0}return!1}getRows(){return this.rows}static constructResult(e){let s=Cl.buildBitArray(e),i=Ti(s).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),x=e[e.length-1].getFinderPattern().getResultPoints(),d=[o[0],o[1],x[0],x[1]];return new Te(i,null,null,d,we.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),s=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let i=r.getChecksumPortion(),o=2;for(let d=1;d<this.pairs.size();++d){let u=this.pairs.get(d);i+=u.getLeftChar().getChecksumPortion(),o++;let g=u.getRightChar();g!=null&&(i+=g.getChecksumPortion(),o++)}return i%=211,211*(o-4)+i==s.getValue()}static getNextSecondBar(e,s){let r;return e.get(s)?(r=e.getNextUnset(s),r=e.getNextSet(r)):(r=e.getNextSet(s),r=e.getNextUnset(r)),r}retrieveNextPair(e,s,r){let i=s.length%2==0;this.startFromEven&&(i=!i);let o,x=!0,d=-1;do this.findNextPair(e,s,d),o=this.parseFoundFinderPattern(e,r,i),o==null?d=de.getNextSecondBar(e,this.startEnd[0]):x=!1;while(x);let u=this.decodeDataCharacter(e,o,i,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new j;let g;try{g=this.decodeDataCharacter(e,o,i,!1)}catch(C){g=null,this.verbose&&console.log(C)}return new K0(u,g,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,s,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x;r>=0?x=r:this.isEmptyPair(s)?x=0:x=s[s.length-1].getFinderPattern().getStartEnd()[1];let d=s.length%2!=0;this.startFromEven&&(d=!d);let u=!1;for(;x<o&&(u=!e.get(x),!!u);)x++;let g=0,C=x;for(let B=x;B<o;B++)if(e.get(B)!=u)i[g]++;else{if(g==3){if(d&&de.reverseCounters(i),de.isFinderPattern(i)){this.startEnd[0]=C,this.startEnd[1]=B;return}d&&de.reverseCounters(i),C+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,g--}else g++;i[g]=1,u=!u}throw new j}static reverseCounters(e){let s=e.length;for(let r=0;r<s/2;++r){let i=e[r];e[r]=e[s-r-1],e[s-r-1]=i}}parseFoundFinderPattern(e,s,r){let i,o,x;if(r){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,i=this.startEnd[0]-g,o=g,x=this.startEnd[1]}else o=this.startEnd[0],x=e.getNextUnset(this.startEnd[1]+1),i=x-this.startEnd[1];let d=this.getDecodeFinderCounters();J.arraycopy(d,0,d,1,d.length-1),d[0]=i;let u;try{u=this.parseFinderValue(d,de.FINDER_PATTERNS)}catch{return null}return new yn(u,[o,x],o,x,s)}decodeDataCharacter(e,s,r,i){let o=this.getDataCharacterCounters();for(let Ct=0;Ct<o.length;Ct++)o[Ct]=0;if(i)de.recordPatternInReverse(e,s.getStartEnd()[0],o);else{de.recordPattern(e,s.getStartEnd()[1],o);for(let Ct=0,Vt=o.length-1;Ct<Vt;Ct++,Vt--){let x0=o[Ct];o[Ct]=o[Vt],o[Vt]=x0}}let x=17,d=oe.sum(new Int32Array(o))/x,u=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(d-u)/u>.3)throw new j;let g=this.getOddCounts(),C=this.getEvenCounts(),B=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Ct=0;Ct<o.length;Ct++){let Vt=1*o[Ct]/d,x0=Vt+.5;if(x0<1){if(Vt<.3)throw new j;x0=1}else if(x0>8){if(Vt>8.7)throw new j;x0=8}let vs=Ct/2;(Ct&1)==0?(g[vs]=x0,B[vs]=Vt-x0):(C[vs]=x0,D[vs]=Vt-x0)}this.adjustOddEvenCounts(x);let v=4*s.getValue()+(r?0:2)+(i?0:1)-1,M=0,L=0;for(let Ct=g.length-1;Ct>=0;Ct--){if(de.isNotA1left(s,r,i)){let Vt=de.WEIGHTS[v][2*Ct];L+=g[Ct]*Vt}M+=g[Ct]}let Y=0;for(let Ct=C.length-1;Ct>=0;Ct--)if(de.isNotA1left(s,r,i)){let Vt=de.WEIGHTS[v][2*Ct+1];Y+=C[Ct]*Vt}let Q=L+Y;if((M&1)!=0||M>13||M<4)throw new j;let he=(13-M)/2,ge=de.SYMBOL_WIDEST[he],ue=9-ge,st=D0.getRSSvalue(g,ge,!0),Ye=D0.getRSSvalue(C,ue,!1),r0=de.EVEN_TOTAL_SUBSET[he],p0=de.GSUM[he],i0=st*r0+Ye+p0;return new ps(i0,Q)}static isNotA1left(e,s,r){return!(e.getValue()==0&&s&&r)}adjustOddEvenCounts(e){let s=oe.sum(new Int32Array(this.getOddCounts())),r=oe.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;s>13?o=!0:s<4&&(i=!0);let x=!1,d=!1;r>13?d=!0:r<4&&(x=!0);let u=s+r-e,g=(s&1)==1,C=(r&1)==0;if(u==1)if(g){if(C)throw new j;o=!0}else{if(!C)throw new j;d=!0}else if(u==-1)if(g){if(C)throw new j;i=!0}else{if(!C)throw new j;x=!0}else if(u==0){if(g){if(!C)throw new j;s<r?(i=!0,d=!0):(o=!0,x=!0)}else if(C)throw new j}else throw new j;if(i){if(o)throw new j;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(d)throw new j;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class pl extends ps{constructor(e,s,r){super(e,s),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class kt extends Wt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,s,r){const i=this.decodePair(s,!1,e,r);kt.addOrTally(this.possibleLeftPairs,i),s.reverse();let o=this.decodePair(s,!0,e,r);kt.addOrTally(this.possibleRightPairs,o),s.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&kt.checkChecksum(x,d))return kt.constructResult(x,d)}throw new j}static addOrTally(e,s){if(s==null)return;let r=!1;for(let i of e)if(i.getValue()===s.getValue()){i.incrementCount(),r=!0;break}r||e.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,s){let r=4537077*e.getValue()+s.getValue(),i=new String(r).toString(),o=new pe;for(let g=13-i.length;g>0;g--)o.append("0");o.append(i);let x=0;for(let g=0;g<13;g++){let C=o.charAt(g).charCodeAt(0)-48;x+=(g&1)===0?3*C:C}x=10-x%10,x===10&&(x=0),o.append(x.toString());let d=e.getFinderPattern().getResultPoints(),u=s.getFinderPattern().getResultPoints();return new Te(o.toString(),null,0,[d[0],d[1],u[0],u[1]],we.RSS_14,new Date().getTime())}static checkChecksum(e,s){let r=(e.getChecksumPortion()+16*s.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+s.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,r===i}decodePair(e,s,r,i){try{let o=this.findFinderPattern(e,s),x=this.parseFoundFinderPattern(e,r,s,o),d=i==null?null:i.get(G.NEED_RESULT_POINT_CALLBACK);if(d!=null){let C=(o[0]+o[1])/2;s&&(C=e.getSize()-1-C),d.foundPossibleResultPoint(new X(C,r))}let u=this.decodeDataCharacter(e,x,!0),g=this.decodeDataCharacter(e,x,!1);return new pl(1597*u.getValue()+g.getValue(),u.getChecksumPortion()+4*g.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(e,s,r){let i=this.getDataCharacterCounters();for(let Y=0;Y<i.length;Y++)i[Y]=0;if(r)At.recordPatternInReverse(e,s.getStartEnd()[0],i);else{At.recordPattern(e,s.getStartEnd()[1]+1,i);for(let Y=0,Q=i.length-1;Y<Q;Y++,Q--){let he=i[Y];i[Y]=i[Q],i[Q]=he}}let o=r?16:15,x=oe.sum(new Int32Array(i))/o,d=this.getOddCounts(),u=this.getEvenCounts(),g=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Y=0;Y<i.length;Y++){let Q=i[Y]/x,he=Math.floor(Q+.5);he<1?he=1:he>8&&(he=8);let ge=Math.floor(Y/2);(Y&1)===0?(d[ge]=he,g[ge]=Q-he):(u[ge]=he,C[ge]=Q-he)}this.adjustOddEvenCounts(r,o);let B=0,D=0;for(let Y=d.length-1;Y>=0;Y--)D*=9,D+=d[Y],B+=d[Y];let v=0,M=0;for(let Y=u.length-1;Y>=0;Y--)v*=9,v+=u[Y],M+=u[Y];let L=D+3*v;if(r){if((B&1)!==0||B>12||B<4)throw new j;let Y=(12-B)/2,Q=kt.OUTSIDE_ODD_WIDEST[Y],he=9-Q,ge=D0.getRSSvalue(d,Q,!1),ue=D0.getRSSvalue(u,he,!0),st=kt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Ye=kt.OUTSIDE_GSUM[Y];return new ps(ge*st+ue+Ye,L)}else{if((M&1)!==0||M>10||M<4)throw new j;let Y=(10-M)/2,Q=kt.INSIDE_ODD_WIDEST[Y],he=9-Q,ge=D0.getRSSvalue(d,Q,!0),ue=D0.getRSSvalue(u,he,!1),st=kt.INSIDE_ODD_TOTAL_SUBSET[Y],Ye=kt.INSIDE_GSUM[Y];return new ps(ue*st+ge+Ye,L)}}findFinderPattern(e,s){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),o=!1,x=0;for(;x<i&&(o=!e.get(x),s!==o);)x++;let d=0,u=x;for(let g=x;g<i;g++)if(e.get(g)!==o)r[d]++;else{if(d===3){if(Wt.isFinderPattern(r))return[u,g];u+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,d--}else d++;r[d]=1,o=!o}throw new j}parseFoundFinderPattern(e,s,r,i){let o=e.get(i[0]),x=i[0]-1;for(;x>=0&&o!==e.get(x);)x--;x++;const d=i[0]-x,u=this.getDecodeFinderCounters(),g=new Int32Array(u.length);J.arraycopy(u,0,g,1,u.length-1),g[0]=d;const C=this.parseFinderValue(g,kt.FINDER_PATTERNS);let B=x,D=i[1];return r&&(B=e.getSize()-1-B,D=e.getSize()-1-D),new yn(C,[x,i[1]],B,D,s)}adjustOddEvenCounts(e,s){let r=oe.sum(new Int32Array(this.getOddCounts())),i=oe.sum(new Int32Array(this.getEvenCounts())),o=!1,x=!1,d=!1,u=!1;e?(r>12?x=!0:r<4&&(o=!0),i>12?u=!0:i<4&&(d=!0)):(r>11?x=!0:r<5&&(o=!0),i>10?u=!0:i<4&&(d=!0));let g=r+i-s,C=(r&1)===(e?1:0),B=(i&1)===1;if(g===1)if(C){if(B)throw new j;x=!0}else{if(!B)throw new j;u=!0}else if(g===-1)if(C){if(B)throw new j;o=!0}else{if(!B)throw new j;d=!0}else if(g===0){if(C){if(!B)throw new j;r<i?(o=!0,u=!0):(x=!0,d=!0)}else if(B)throw new j}else throw new j;if(o){if(x)throw new j;Wt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Wt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(u)throw new j;Wt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Wt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}kt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],kt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],kt.OUTSIDE_GSUM=[0,161,961,2015,2715],kt.INSIDE_GSUM=[0,336,1036,1516],kt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],kt.INSIDE_ODD_WIDEST=[2,4,6,8],kt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ws extends At{constructor(e,s){super(),this.readers=[],this.verbose=s===!0;const r=e?e.get(G.POSSIBLE_FORMATS):null,i=e&&e.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(we.EAN_13)||r.includes(we.UPC_A)||r.includes(we.EAN_8)||r.includes(we.UPC_E))&&this.readers.push(new mr(e)),r.includes(we.CODE_39)&&this.readers.push(new rt(i)),r.includes(we.CODE_128)&&this.readers.push(new Be),r.includes(we.ITF)&&this.readers.push(new et),r.includes(we.RSS_14)&&this.readers.push(new kt),r.includes(we.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new mr(e)),this.readers.push(new rt),this.readers.push(new mr(e)),this.readers.push(new Be),this.readers.push(new et),this.readers.push(new kt),this.readers.push(new de(this.verbose)))}decodeRow(e,s,r){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,s,r)}catch{}throw new j}reset(){this.readers.forEach(e=>e.reset())}}class Bl extends lt{constructor(e=500,s){super(new ws(s),e,s)}}class ct{constructor(e,s,r){this.ecCodewords=e,this.ecBlocks=[s],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(e,s){this.count=e,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(e,s,r,i,o,x){this.versionNumber=e,this.symbolSizeRows=s,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=x;let d=0;const u=x.getECCodewords(),g=x.getECBlocks();for(let C of g)d+=C.getCount()*(C.getDataCodewords()+u);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,s){if((e&1)!==0||(s&1)!==0)throw new R;for(let r of nt.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===s)return r;throw new R}toString(){return""+this.versionNumber}static buildVersions(){return[new nt(1,10,10,8,8,new ct(5,new xt(1,3))),new nt(2,12,12,10,10,new ct(7,new xt(1,5))),new nt(3,14,14,12,12,new ct(10,new xt(1,8))),new nt(4,16,16,14,14,new ct(12,new xt(1,12))),new nt(5,18,18,16,16,new ct(14,new xt(1,18))),new nt(6,20,20,18,18,new ct(18,new xt(1,22))),new nt(7,22,22,20,20,new ct(20,new xt(1,30))),new nt(8,24,24,22,22,new ct(24,new xt(1,36))),new nt(9,26,26,24,24,new ct(28,new xt(1,44))),new nt(10,32,32,14,14,new ct(36,new xt(1,62))),new nt(11,36,36,16,16,new ct(42,new xt(1,86))),new nt(12,40,40,18,18,new ct(48,new xt(1,114))),new nt(13,44,44,20,20,new ct(56,new xt(1,144))),new nt(14,48,48,22,22,new ct(68,new xt(1,174))),new nt(15,52,52,24,24,new ct(42,new xt(2,102))),new nt(16,64,64,14,14,new ct(56,new xt(2,140))),new nt(17,72,72,16,16,new ct(36,new xt(4,92))),new nt(18,80,80,18,18,new ct(48,new xt(4,114))),new nt(19,88,88,20,20,new ct(56,new xt(4,144))),new nt(20,96,96,22,22,new ct(68,new xt(4,174))),new nt(21,104,104,24,24,new ct(56,new xt(6,136))),new nt(22,120,120,18,18,new ct(68,new xt(6,175))),new nt(23,132,132,20,20,new ct(62,new xt(8,163))),new nt(24,144,144,22,22,new ct(62,new xt(8,156),new xt(2,155))),new nt(25,8,18,6,16,new ct(7,new xt(1,5))),new nt(26,8,32,6,14,new ct(11,new xt(1,10))),new nt(27,12,26,10,24,new ct(14,new xt(1,16))),new nt(28,12,36,10,16,new ct(18,new xt(1,22))),new nt(29,16,36,14,16,new ct(24,new xt(1,32))),new nt(30,16,48,14,22,new ct(28,new xt(1,49)))]}}nt.VERSIONS=nt.buildVersions();class br{constructor(e){const s=e.getHeight();if(s<8||s>144||(s&1)!==0)throw new R;this.version=br.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const s=e.getHeight(),r=e.getWidth();return nt.getVersionForDimensions(s,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let s=0,r=4,i=0;const o=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let d=!1,u=!1,g=!1,C=!1;do if(r===o&&i===0&&!d)e[s++]=this.readCorner1(o,x)&255,r-=2,i+=2,d=!0;else if(r===o-2&&i===0&&(x&3)!==0&&!u)e[s++]=this.readCorner2(o,x)&255,r-=2,i+=2,u=!0;else if(r===o+4&&i===2&&(x&7)===0&&!g)e[s++]=this.readCorner3(o,x)&255,r-=2,i+=2,g=!0;else if(r===o-2&&i===0&&(x&7)===4&&!C)e[s++]=this.readCorner4(o,x)&255,r-=2,i+=2,C=!0;else{do r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[s++]=this.readUtah(r,i,o,x)&255),r-=2,i+=2;while(r>=0&&i<x);r+=1,i+=3;do r>=0&&i<x&&!this.readMappingMatrix.get(i,r)&&(e[s++]=this.readUtah(r,i,o,x)&255),r+=2,i-=2;while(r<o&&i>=0);r+=3,i+=1}while(r<o||i<x);if(s!==this.version.getTotalCodewords())throw new R;return e}readModule(e,s,r,i){return e<0&&(e+=r,s+=4-(r+4&7)),s<0&&(s+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(s,e),this.mappingBitMatrix.get(s,e)}readUtah(e,s,r,i){let o=0;return this.readModule(e-2,s-2,r,i)&&(o|=1),o<<=1,this.readModule(e-2,s-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,s-2,r,i)&&(o|=1),o<<=1,this.readModule(e-1,s-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,s,r,i)&&(o|=1),o<<=1,this.readModule(e,s-2,r,i)&&(o|=1),o<<=1,this.readModule(e,s-1,r,i)&&(o|=1),o<<=1,this.readModule(e,s,r,i)&&(o|=1),o}readCorner1(e,s){let r=0;return this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,1,e,s)&&(r|=1),r<<=1,this.readModule(e-1,2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r<<=1,this.readModule(2,s-1,e,s)&&(r|=1),r<<=1,this.readModule(3,s-1,e,s)&&(r|=1),r}readCorner2(e,s){let r=0;return this.readModule(e-3,0,e,s)&&(r|=1),r<<=1,this.readModule(e-2,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(0,s-4,e,s)&&(r|=1),r<<=1,this.readModule(0,s-3,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r}readCorner3(e,s){let r=0;return this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,s-1,e,s)&&(r|=1),r<<=1,this.readModule(0,s-3,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-3,e,s)&&(r|=1),r<<=1,this.readModule(1,s-2,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r}readCorner4(e,s){let r=0;return this.readModule(e-3,0,e,s)&&(r|=1),r<<=1,this.readModule(e-2,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r<<=1,this.readModule(2,s-1,e,s)&&(r|=1),r<<=1,this.readModule(3,s-1,e,s)&&(r|=1),r}extractDataRegion(e){const s=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==s)throw new b("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),x=s/i|0,d=r/o|0,u=x*i,g=d*o,C=new Fe(g,u);for(let B=0;B<x;++B){const D=B*i;for(let v=0;v<d;++v){const M=v*o;for(let L=0;L<i;++L){const Y=B*(i+2)+1+L,Q=D+L;for(let he=0;he<o;++he){const ge=v*(o+2)+1+he;if(e.get(ge,Y)){const ue=M+he;C.set(ue,Q)}}}}}return C}}class wr{constructor(e,s){this.numDataCodewords=e,this.codewords=s}static getDataBlocks(e,s){const r=s.getECBlocks();let i=0;const o=r.getECBlocks();for(let L of o)i+=L.getCount();const x=new Array(i);let d=0;for(let L of o)for(let Y=0;Y<L.getCount();Y++){const Q=L.getDataCodewords(),he=r.getECCodewords()+Q;x[d++]=new wr(Q,new Uint8Array(he))}const g=x[0].codewords.length-r.getECCodewords(),C=g-1;let B=0;for(let L=0;L<C;L++)for(let Y=0;Y<d;Y++)x[Y].codewords[L]=e[B++];const D=s.getVersionNumber()===24,v=D?8:d;for(let L=0;L<v;L++)x[L].codewords[g-1]=e[B++];const M=x[0].codewords.length;for(let L=g;L<M;L++)for(let Y=0;Y<d;Y++){const Q=D?(Y+8)%d:Y,he=D&&Q>7?L-1:L;x[Q].codewords[he]=e[B++]}if(B!==e.length)throw new b;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Dr{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new b(""+e);let s=0,r=this.bitOffset,i=this.byteOffset;const o=this.bytes;if(r>0){const x=8-r,d=e<x?e:x,u=x-d,g=255>>8-d<<u;s=(o[i]&g)>>u,e-=d,r+=d,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)s=s<<8|o[i]&255,i++,e-=8;if(e>0){const x=8-e,d=255>>x<<x;s=s<<e|(o[i]&d)>>x,r+=e}}return this.bitOffset=r,this.byteOffset=i,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pt;(function(p){p[p.PAD_ENCODE=0]="PAD_ENCODE",p[p.ASCII_ENCODE=1]="ASCII_ENCODE",p[p.C40_ENCODE=2]="C40_ENCODE",p[p.TEXT_ENCODE=3]="TEXT_ENCODE",p[p.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",p[p.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",p[p.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));class Z0{static decode(e){const s=new Dr(e),r=new pe,i=new pe,o=new Array;let x=Pt.ASCII_ENCODE;do if(x===Pt.ASCII_ENCODE)x=this.decodeAsciiSegment(s,r,i);else{switch(x){case Pt.C40_ENCODE:this.decodeC40Segment(s,r);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(s,r);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,r);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,r);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(s,r,o);break;default:throw new R}x=Pt.ASCII_ENCODE}while(x!==Pt.PAD_ENCODE&&s.available()>0);return i.length()>0&&r.append(i.toString()),new Ce(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,s,r){let i=!1;do{let o=e.readBits(8);if(o===0)throw new R;if(o<=128)return i&&(o+=128),s.append(String.fromCharCode(o-1)),Pt.ASCII_ENCODE;if(o===129)return Pt.PAD_ENCODE;if(o<=229){const x=o-130;x<10&&s.append("0"),s.append(""+x)}else switch(o){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:s.append("[)>05"),r.insert(0,"");break;case 237:s.append("[)>06"),r.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new R;break}}while(e.available()>0);return Pt.ASCII_ENCODE}static decodeC40Segment(e,s){let r=!1;const i=[];let o=0;do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),i);for(let d=0;d<3;d++){const u=i[d];switch(o){case 0:if(u<3)o=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[u];r?(s.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):s.append(g)}else throw new R;break;case 1:r?(s.append(String.fromCharCode(u+128)),r=!1):s.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[u];r?(s.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):s.append(g)}else switch(u){case 27:s.append("");break;case 30:r=!0;break;default:throw new R}o=0;break;case 3:r?(s.append(String.fromCharCode(u+224)),r=!1):s.append(String.fromCharCode(u+96)),o=0;break;default:throw new R}}}while(e.available()>0)}static decodeTextSegment(e,s){let r=!1,i=[],o=0;do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),i);for(let d=0;d<3;d++){const u=i[d];switch(o){case 0:if(u<3)o=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[u];r?(s.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):s.append(g)}else throw new R;break;case 1:r?(s.append(String.fromCharCode(u+128)),r=!1):s.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[u];r?(s.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):s.append(g)}else switch(u){case 27:s.append("");break;case 30:r=!0;break;default:throw new R}o=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[u];r?(s.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):s.append(g),o=0}else throw new R;break;default:throw new R}}}while(e.available()>0)}static decodeAnsiX12Segment(e,s){const r=[];do{if(e.available()===8)return;const i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(let o=0;o<3;o++){const x=r[o];switch(x){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(x<14)s.append(String.fromCharCode(x+44));else if(x<40)s.append(String.fromCharCode(x+51));else throw new R;break}}}while(e.available()>0)}static parseTwoBytes(e,s,r){let i=(e<<8)+s-1,o=Math.floor(i/1600);r[0]=o,i-=o*1600,o=Math.floor(i/40),r[1]=o,r[2]=i-o*40}static decodeEdifactSegment(e,s){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let i=e.readBits(6);if(i===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),s.append(String.fromCharCode(i))}}while(e.available()>0)}static decodeBase256Segment(e,s,r){let i=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),i++);let x;if(o===0?x=e.available()/8|0:o<250?x=o:x=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),x<0)throw new R;const d=new Uint8Array(x);for(let u=0;u<x;u++){if(e.available()<8)throw new R;d[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(d);try{s.append(me.decode(d,ae.ISO88591))}catch(u){throw new ie("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,s){const r=149*s%255+1,i=e-r;return i>=0?i:i+256}}Z0.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Z0.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Z0.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Z0.TEXT_SHIFT2_SET_CHARS=Z0.C40_SHIFT2_SET_CHARS,Z0.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class bl{constructor(){this.rsDecoder=new le(I.DATA_MATRIX_FIELD_256)}decode(e){const s=new br(e),r=s.getVersion(),i=s.readCodewords(),o=wr.getDataBlocks(i,r);let x=0;for(let g of o)x+=g.getNumDataCodewords();const d=new Uint8Array(x),u=o.length;for(let g=0;g<u;g++){const C=o[g],B=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(B,D);for(let v=0;v<D;v++)d[v*u+g]=B[v]}return Z0.decode(d)}correctErrors(e,s){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-s)}catch{throw new S}for(let i=0;i<s;i++)e[i]=r[i]}}class St{constructor(e){this.image=e,this.rectangleDetector=new Pe(this.image)}detect(){const e=this.rectangleDetector.detect();let s=this.detectSolid1(e);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new j;s=this.shiftToModuleCenter(s);const r=s[0],i=s[1],o=s[2],x=s[3];let d=this.transitionsBetween(r,x)+1,u=this.transitionsBetween(o,x)+1;(d&1)===1&&(d+=1),(u&1)===1&&(u+=1),4*d<7*u&&4*u<7*d&&(d=u=Math.max(d,u));let g=St.sampleGrid(this.image,r,i,o,x,d,u);return new Ne(g,[r,i,o,x])}static shiftPoint(e,s,r){let i=(s.getX()-e.getX())/(r+1),o=(s.getY()-e.getY())/(r+1);return new X(e.getX()+i,e.getY()+o)}static moveAway(e,s,r){let i=e.getX(),o=e.getY();return i<s?i-=1:i+=1,o<r?o-=1:o+=1,new X(i,o)}detectSolid1(e){let s=e[0],r=e[1],i=e[3],o=e[2],x=this.transitionsBetween(s,r),d=this.transitionsBetween(r,i),u=this.transitionsBetween(i,o),g=this.transitionsBetween(o,s),C=x,B=[o,s,r,i];return C>d&&(C=d,B[0]=s,B[1]=r,B[2]=i,B[3]=o),C>u&&(C=u,B[0]=r,B[1]=i,B[2]=o,B[3]=s),C>g&&(B[0]=i,B[1]=o,B[2]=s,B[3]=r),B}detectSolid2(e){let s=e[0],r=e[1],i=e[2],o=e[3],x=this.transitionsBetween(s,o),d=St.shiftPoint(r,i,(x+1)*4),u=St.shiftPoint(i,r,(x+1)*4),g=this.transitionsBetween(d,s),C=this.transitionsBetween(u,o);return g<C?(e[0]=s,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=s),e}correctTopRight(e){let s=e[0],r=e[1],i=e[2],o=e[3],x=this.transitionsBetween(s,o),d=this.transitionsBetween(r,o),u=St.shiftPoint(s,r,(d+1)*4),g=St.shiftPoint(i,r,(x+1)*4);x=this.transitionsBetween(u,o),d=this.transitionsBetween(g,o);let C=new X(o.getX()+(i.getX()-r.getX())/(x+1),o.getY()+(i.getY()-r.getY())/(x+1)),B=new X(o.getX()+(s.getX()-r.getX())/(d+1),o.getY()+(s.getY()-r.getY())/(d+1));if(!this.isValid(C))return this.isValid(B)?B:null;if(!this.isValid(B))return C;let D=this.transitionsBetween(u,C)+this.transitionsBetween(g,C),v=this.transitionsBetween(u,B)+this.transitionsBetween(g,B);return D>v?C:B}shiftToModuleCenter(e){let s=e[0],r=e[1],i=e[2],o=e[3],x=this.transitionsBetween(s,o)+1,d=this.transitionsBetween(i,o)+1,u=St.shiftPoint(s,r,d*4),g=St.shiftPoint(i,r,x*4);x=this.transitionsBetween(u,o)+1,d=this.transitionsBetween(g,o)+1,(x&1)===1&&(x+=1),(d&1)===1&&(d+=1);let C=(s.getX()+r.getX()+i.getX()+o.getX())/4,B=(s.getY()+r.getY()+i.getY()+o.getY())/4;s=St.moveAway(s,C,B),r=St.moveAway(r,C,B),i=St.moveAway(i,C,B),o=St.moveAway(o,C,B);let D,v;return u=St.shiftPoint(s,r,d*4),u=St.shiftPoint(u,o,x*4),D=St.shiftPoint(r,s,d*4),D=St.shiftPoint(D,i,x*4),g=St.shiftPoint(i,o,d*4),g=St.shiftPoint(g,r,x*4),v=St.shiftPoint(o,i,d*4),v=St.shiftPoint(v,s,x*4),[u,D,g,v]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,s,r,i,o,x,d){return $e.getInstance().sampleGrid(e,x,d,.5,.5,x-.5,.5,x-.5,d-.5,.5,d-.5,s.getX(),s.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())}transitionsBetween(e,s){let r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(s.getX()),x=Math.trunc(s.getY()),d=Math.abs(x-i)>Math.abs(o-r);if(d){let L=r;r=i,i=L,L=o,o=x,x=L}let u=Math.abs(o-r),g=Math.abs(x-i),C=-u/2,B=i<x?1:-1,D=r<o?1:-1,v=0,M=this.image.get(d?i:r,d?r:i);for(let L=r,Y=i;L!==o;L+=D){let Q=this.image.get(d?Y:L,d?L:Y);if(Q!==M&&(v++,M=Q),C+=g,C>0){if(Y===x)break;Y+=B,C-=u}}return v}}class q0{constructor(){this.decoder=new bl}decode(e,s=null){let r,i;if(s!=null&&s.has(G.PURE_BARCODE)){const g=q0.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(g),i=q0.NO_POINTS}else{const g=new St(e.getBlackMatrix()).detect();r=this.decoder.decode(g.getBits()),i=g.getPoints()}const o=r.getRawBytes(),x=new Te(r.getText(),o,8*o.length,i,we.DATA_MATRIX,J.currentTimeMillis()),d=r.getByteSegments();d!=null&&x.putMetadata(Ee.BYTE_SEGMENTS,d);const u=r.getECLevel();return u!=null&&x.putMetadata(Ee.ERROR_CORRECTION_LEVEL,u),x}reset(){}static extractPureBits(e){const s=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(s==null||r==null)throw new j;const i=this.moduleSize(s,e);let o=s[1];const x=r[1];let d=s[0];const g=(r[0]-d+1)/i,C=(x-o+1)/i;if(g<=0||C<=0)throw new j;const B=i/2;o+=B,d+=B;const D=new Fe(g,C);for(let v=0;v<C;v++){const M=o+v*i;for(let L=0;L<g;L++)e.get(d+L*i,M)&&D.set(L,v)}return D}static moduleSize(e,s){const r=s.getWidth();let i=e[0];const o=e[1];for(;i<r&&s.get(i,o);)i++;if(i===r)throw new j;const x=i-e[0];if(x===0)throw new j;return x}}q0.NO_POINTS=[];class wl extends lt{constructor(e=500){super(new q0,e)}}var Ds;(function(p){p[p.L=0]="L",p[p.M=1]="M",p[p.Q=2]="Q",p[p.H=3]="H"})(Ds||(Ds={}));class pt{constructor(e,s,r){this.value=e,this.stringValue=s,this.bits=r,pt.FOR_BITS.set(r,this),pt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return pt.L;case"M":return pt.M;case"Q":return pt.Q;case"H":return pt.H;default:throw new F(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof pt))return!1;const s=e;return this.value===s.value}static forBits(e){if(e<0||e>=pt.FOR_BITS.size)throw new b;return pt.FOR_BITS.get(e)}}pt.FOR_BITS=new Map,pt.FOR_VALUE=new Map,pt.L=new pt(Ds.L,"L",1),pt.M=new pt(Ds.M,"M",0),pt.Q=new pt(Ds.Q,"Q",3),pt.H=new pt(Ds.H,"H",2);class zt{constructor(e){this.errorCorrectionLevel=pt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,s){return U.bitCount(e^s)}static decodeFormatInformation(e,s){const r=zt.doDecodeFormatInformation(e,s);return r!==null?r:zt.doDecodeFormatInformation(e^zt.FORMAT_INFO_MASK_QR,s^zt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,s){let r=Number.MAX_SAFE_INTEGER,i=0;for(const o of zt.FORMAT_INFO_DECODE_LOOKUP){const x=o[0];if(x===e||x===s)return new zt(o[1]);let d=zt.numBitsDiffering(e,x);d<r&&(i=o[1],r=d),e!==s&&(d=zt.numBitsDiffering(s,x),d<r&&(i=o[1],r=d))}return r<=3?new zt(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof zt))return!1;const s=e;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}zt.FORMAT_INFO_MASK_QR=21522,zt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(e,...s){this.ecCodewordsPerBlock=e,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const s=this.ecBlocks;for(const r of s)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class y{constructor(e,s){this.count=e,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(e,s,...r){this.versionNumber=e,this.alignmentPatternCenters=s,this.ecBlocks=r;let i=0;const o=r[0].getECCodewordsPerBlock(),x=r[0].getECBlocks();for(const d of x)i+=d.getCount()*(d.getDataCodewords()+o);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new R;try{return this.getVersionForNumber((e-17)/4)}catch{throw new R}}static getVersionForNumber(e){if(e<1||e>40)throw new b;return Re.VERSIONS[e-1]}static decodeVersionInformation(e){let s=Number.MAX_SAFE_INTEGER,r=0;for(let i=0;i<Re.VERSION_DECODE_INFO.length;i++){const o=Re.VERSION_DECODE_INFO[i];if(o===e)return Re.getVersionForNumber(i+7);const x=zt.numBitsDiffering(e,o);x<s&&(r=i+7,s=x)}return s<=3?Re.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),s=new Fe(e);s.setRegion(0,0,9,9),s.setRegion(e-8,0,8,9),s.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let i=0;i<r;i++){const o=this.alignmentPatternCenters[i]-2;for(let x=0;x<r;x++)i===0&&(x===0||x===r-1)||i===r-1&&x===0||s.setRegion(this.alignmentPatternCenters[x]-2,o,5,5)}return s.setRegion(6,9,1,e-17),s.setRegion(9,6,e-17,1),this.versionNumber>6&&(s.setRegion(e-11,0,3,6),s.setRegion(0,e-11,6,3)),s}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new K(7,new y(1,19)),new K(10,new y(1,16)),new K(13,new y(1,13)),new K(17,new y(1,9))),new Re(2,Int32Array.from([6,18]),new K(10,new y(1,34)),new K(16,new y(1,28)),new K(22,new y(1,22)),new K(28,new y(1,16))),new Re(3,Int32Array.from([6,22]),new K(15,new y(1,55)),new K(26,new y(1,44)),new K(18,new y(2,17)),new K(22,new y(2,13))),new Re(4,Int32Array.from([6,26]),new K(20,new y(1,80)),new K(18,new y(2,32)),new K(26,new y(2,24)),new K(16,new y(4,9))),new Re(5,Int32Array.from([6,30]),new K(26,new y(1,108)),new K(24,new y(2,43)),new K(18,new y(2,15),new y(2,16)),new K(22,new y(2,11),new y(2,12))),new Re(6,Int32Array.from([6,34]),new K(18,new y(2,68)),new K(16,new y(4,27)),new K(24,new y(4,19)),new K(28,new y(4,15))),new Re(7,Int32Array.from([6,22,38]),new K(20,new y(2,78)),new K(18,new y(4,31)),new K(18,new y(2,14),new y(4,15)),new K(26,new y(4,13),new y(1,14))),new Re(8,Int32Array.from([6,24,42]),new K(24,new y(2,97)),new K(22,new y(2,38),new y(2,39)),new K(22,new y(4,18),new y(2,19)),new K(26,new y(4,14),new y(2,15))),new Re(9,Int32Array.from([6,26,46]),new K(30,new y(2,116)),new K(22,new y(3,36),new y(2,37)),new K(20,new y(4,16),new y(4,17)),new K(24,new y(4,12),new y(4,13))),new Re(10,Int32Array.from([6,28,50]),new K(18,new y(2,68),new y(2,69)),new K(26,new y(4,43),new y(1,44)),new K(24,new y(6,19),new y(2,20)),new K(28,new y(6,15),new y(2,16))),new Re(11,Int32Array.from([6,30,54]),new K(20,new y(4,81)),new K(30,new y(1,50),new y(4,51)),new K(28,new y(4,22),new y(4,23)),new K(24,new y(3,12),new y(8,13))),new Re(12,Int32Array.from([6,32,58]),new K(24,new y(2,92),new y(2,93)),new K(22,new y(6,36),new y(2,37)),new K(26,new y(4,20),new y(6,21)),new K(28,new y(7,14),new y(4,15))),new Re(13,Int32Array.from([6,34,62]),new K(26,new y(4,107)),new K(22,new y(8,37),new y(1,38)),new K(24,new y(8,20),new y(4,21)),new K(22,new y(12,11),new y(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new K(30,new y(3,115),new y(1,116)),new K(24,new y(4,40),new y(5,41)),new K(20,new y(11,16),new y(5,17)),new K(24,new y(11,12),new y(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new K(22,new y(5,87),new y(1,88)),new K(24,new y(5,41),new y(5,42)),new K(30,new y(5,24),new y(7,25)),new K(24,new y(11,12),new y(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new K(24,new y(5,98),new y(1,99)),new K(28,new y(7,45),new y(3,46)),new K(24,new y(15,19),new y(2,20)),new K(30,new y(3,15),new y(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new K(28,new y(1,107),new y(5,108)),new K(28,new y(10,46),new y(1,47)),new K(28,new y(1,22),new y(15,23)),new K(28,new y(2,14),new y(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new K(30,new y(5,120),new y(1,121)),new K(26,new y(9,43),new y(4,44)),new K(28,new y(17,22),new y(1,23)),new K(28,new y(2,14),new y(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new K(28,new y(3,113),new y(4,114)),new K(26,new y(3,44),new y(11,45)),new K(26,new y(17,21),new y(4,22)),new K(26,new y(9,13),new y(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new K(28,new y(3,107),new y(5,108)),new K(26,new y(3,41),new y(13,42)),new K(30,new y(15,24),new y(5,25)),new K(28,new y(15,15),new y(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new K(28,new y(4,116),new y(4,117)),new K(26,new y(17,42)),new K(28,new y(17,22),new y(6,23)),new K(30,new y(19,16),new y(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new K(28,new y(2,111),new y(7,112)),new K(28,new y(17,46)),new K(30,new y(7,24),new y(16,25)),new K(24,new y(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new K(30,new y(4,121),new y(5,122)),new K(28,new y(4,47),new y(14,48)),new K(30,new y(11,24),new y(14,25)),new K(30,new y(16,15),new y(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new K(30,new y(6,117),new y(4,118)),new K(28,new y(6,45),new y(14,46)),new K(30,new y(11,24),new y(16,25)),new K(30,new y(30,16),new y(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new K(26,new y(8,106),new y(4,107)),new K(28,new y(8,47),new y(13,48)),new K(30,new y(7,24),new y(22,25)),new K(30,new y(22,15),new y(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new K(28,new y(10,114),new y(2,115)),new K(28,new y(19,46),new y(4,47)),new K(28,new y(28,22),new y(6,23)),new K(30,new y(33,16),new y(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new K(30,new y(8,122),new y(4,123)),new K(28,new y(22,45),new y(3,46)),new K(30,new y(8,23),new y(26,24)),new K(30,new y(12,15),new y(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new y(3,117),new y(10,118)),new K(28,new y(3,45),new y(23,46)),new K(30,new y(4,24),new y(31,25)),new K(30,new y(11,15),new y(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new y(7,116),new y(7,117)),new K(28,new y(21,45),new y(7,46)),new K(30,new y(1,23),new y(37,24)),new K(30,new y(19,15),new y(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new y(5,115),new y(10,116)),new K(28,new y(19,47),new y(10,48)),new K(30,new y(15,24),new y(25,25)),new K(30,new y(23,15),new y(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new y(13,115),new y(3,116)),new K(28,new y(2,46),new y(29,47)),new K(30,new y(42,24),new y(1,25)),new K(30,new y(23,15),new y(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new y(17,115)),new K(28,new y(10,46),new y(23,47)),new K(30,new y(10,24),new y(35,25)),new K(30,new y(19,15),new y(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new y(17,115),new y(1,116)),new K(28,new y(14,46),new y(21,47)),new K(30,new y(29,24),new y(19,25)),new K(30,new y(11,15),new y(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new y(13,115),new y(6,116)),new K(28,new y(14,46),new y(23,47)),new K(30,new y(44,24),new y(7,25)),new K(30,new y(59,16),new y(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new y(12,121),new y(7,122)),new K(28,new y(12,47),new y(26,48)),new K(30,new y(39,24),new y(14,25)),new K(30,new y(22,15),new y(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new y(6,121),new y(14,122)),new K(28,new y(6,47),new y(34,48)),new K(30,new y(46,24),new y(10,25)),new K(30,new y(2,15),new y(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new y(17,122),new y(4,123)),new K(28,new y(29,46),new y(14,47)),new K(30,new y(49,24),new y(10,25)),new K(30,new y(24,15),new y(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new y(4,122),new y(18,123)),new K(28,new y(13,46),new y(32,47)),new K(30,new y(48,24),new y(14,25)),new K(30,new y(42,15),new y(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new y(20,117),new y(4,118)),new K(28,new y(40,47),new y(7,48)),new K(30,new y(43,24),new y(22,25)),new K(30,new y(10,15),new y(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new y(19,118),new y(6,119)),new K(28,new y(18,47),new y(31,48)),new K(30,new y(34,24),new y(34,25)),new K(30,new y(20,15),new y(61,16)))];var Ot;(function(p){p[p.DATA_MASK_000=0]="DATA_MASK_000",p[p.DATA_MASK_001=1]="DATA_MASK_001",p[p.DATA_MASK_010=2]="DATA_MASK_010",p[p.DATA_MASK_011=3]="DATA_MASK_011",p[p.DATA_MASK_100=4]="DATA_MASK_100",p[p.DATA_MASK_101=5]="DATA_MASK_101",p[p.DATA_MASK_110=6]="DATA_MASK_110",p[p.DATA_MASK_111=7]="DATA_MASK_111"})(Ot||(Ot={}));class h0{constructor(e,s){this.value=e,this.isMasked=s}unmaskBitMatrix(e,s){for(let r=0;r<s;r++)for(let i=0;i<s;i++)this.isMasked(r,i)&&e.flip(i,r)}}h0.values=new Map([[Ot.DATA_MASK_000,new h0(Ot.DATA_MASK_000,(p,e)=>(p+e&1)===0)],[Ot.DATA_MASK_001,new h0(Ot.DATA_MASK_001,(p,e)=>(p&1)===0)],[Ot.DATA_MASK_010,new h0(Ot.DATA_MASK_010,(p,e)=>e%3===0)],[Ot.DATA_MASK_011,new h0(Ot.DATA_MASK_011,(p,e)=>(p+e)%3===0)],[Ot.DATA_MASK_100,new h0(Ot.DATA_MASK_100,(p,e)=>(Math.floor(p/2)+Math.floor(e/3)&1)===0)],[Ot.DATA_MASK_101,new h0(Ot.DATA_MASK_101,(p,e)=>p*e%6===0)],[Ot.DATA_MASK_110,new h0(Ot.DATA_MASK_110,(p,e)=>p*e%6<3)],[Ot.DATA_MASK_111,new h0(Ot.DATA_MASK_111,(p,e)=>(p+e+p*e%3&1)===0)]]);class Dl{constructor(e){const s=e.getHeight();if(s<21||(s&3)!==1)throw new R;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const s=this.bitMatrix.getHeight();let r=0;const i=s-7;for(let o=s-1;o>=i;o--)r=this.copyBit(8,o,r);for(let o=s-8;o<s;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=zt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new R}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),s=Math.floor((e-17)/4);if(s<=6)return Re.getVersionForNumber(s);let r=0;const i=e-11;for(let x=5;x>=0;x--)for(let d=e-9;d>=i;d--)r=this.copyBit(d,x,r);let o=Re.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let x=5;x>=0;x--)for(let d=e-9;d>=i;d--)r=this.copyBit(x,d,r);if(o=Re.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new R}copyBit(e,s,r){return(this.isMirror?this.bitMatrix.get(s,e):this.bitMatrix.get(e,s))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),s=this.readVersion(),r=h0.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);const o=s.buildFunctionPattern();let x=!0;const d=new Uint8Array(s.getTotalCodewords());let u=0,g=0,C=0;for(let B=i-1;B>0;B-=2){B===6&&B--;for(let D=0;D<i;D++){const v=x?i-1-D:D;for(let M=0;M<2;M++)o.get(B-M,v)||(C++,g<<=1,this.bitMatrix.get(B-M,v)&&(g|=1),C===8&&(d[u++]=g,C=0,g=0))}x=!x}if(u!==s.getTotalCodewords())throw new R;return d}remask(){if(this.parsedFormatInfo===null)return;const e=h0.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,s)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let s=0,r=e.getWidth();s<r;s++)for(let i=s+1,o=e.getHeight();i<o;i++)e.get(s,i)!==e.get(i,s)&&(e.flip(i,s),e.flip(s,i))}}class Fr{constructor(e,s){this.numDataCodewords=e,this.codewords=s}static getDataBlocks(e,s,r){if(e.length!==s.getTotalCodewords())throw new b;const i=s.getECBlocksForLevel(r);let o=0;const x=i.getECBlocks();for(const M of x)o+=M.getCount();const d=new Array(o);let u=0;for(const M of x)for(let L=0;L<M.getCount();L++){const Y=M.getDataCodewords(),Q=i.getECCodewordsPerBlock()+Y;d[u++]=new Fr(Y,new Uint8Array(Q))}const g=d[0].codewords.length;let C=d.length-1;for(;C>=0&&d[C].codewords.length!==g;)C--;C++;const B=g-i.getECCodewordsPerBlock();let D=0;for(let M=0;M<B;M++)for(let L=0;L<u;L++)d[L].codewords[M]=e[D++];for(let M=C;M<u;M++)d[M].codewords[B]=e[D++];const v=d[0].codewords.length;for(let M=B;M<v;M++)for(let L=0;L<u;L++){const Y=L<C?M:M+1;d[L].codewords[Y]=e[D++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var E0;(function(p){p[p.TERMINATOR=0]="TERMINATOR",p[p.NUMERIC=1]="NUMERIC",p[p.ALPHANUMERIC=2]="ALPHANUMERIC",p[p.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",p[p.BYTE=4]="BYTE",p[p.ECI=5]="ECI",p[p.KANJI=6]="KANJI",p[p.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",p[p.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",p[p.HANZI=9]="HANZI"})(E0||(E0={}));class Le{constructor(e,s,r,i){this.value=e,this.stringValue=s,this.characterCountBitsForVersions=r,this.bits=i,Le.FOR_BITS.set(i,this),Le.FOR_VALUE.set(e,this)}static forBits(e){const s=Le.FOR_BITS.get(e);if(s===void 0)throw new b;return s}getCharacterCountBits(e){const s=e.getVersionNumber();let r;return s<=9?r=0:s<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Le))return!1;const s=e;return this.value===s.value}toString(){return this.stringValue}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.TERMINATOR=new Le(E0.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Le.NUMERIC=new Le(E0.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Le.ALPHANUMERIC=new Le(E0.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Le.STRUCTURED_APPEND=new Le(E0.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Le.BYTE=new Le(E0.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Le.ECI=new Le(E0.ECI,"ECI",Int32Array.from([0,0,0]),7),Le.KANJI=new Le(E0.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Le.FNC1_FIRST_POSITION=new Le(E0.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Le.FNC1_SECOND_POSITION=new Le(E0.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Le.HANZI=new Le(E0.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class yt{static decode(e,s,r,i){const o=new Dr(e);let x=new pe;const d=new Array;let u=-1,g=-1;try{let C=null,B=!1,D;do{if(o.available()<4)D=Le.TERMINATOR;else{const v=o.readBits(4);D=Le.forBits(v)}switch(D){case Le.TERMINATOR:break;case Le.FNC1_FIRST_POSITION:case Le.FNC1_SECOND_POSITION:B=!0;break;case Le.STRUCTURED_APPEND:if(o.available()<16)throw new R;u=o.readBits(8),g=o.readBits(8);break;case Le.ECI:const v=yt.parseECIValue(o);if(C=W.getCharacterSetECIByValue(v),C===null)throw new R;break;case Le.HANZI:const M=o.readBits(4),L=o.readBits(D.getCharacterCountBits(s));M===yt.GB2312_SUBSET&&yt.decodeHanziSegment(o,x,L);break;default:const Y=o.readBits(D.getCharacterCountBits(s));switch(D){case Le.NUMERIC:yt.decodeNumericSegment(o,x,Y);break;case Le.ALPHANUMERIC:yt.decodeAlphanumericSegment(o,x,Y,B);break;case Le.BYTE:yt.decodeByteSegment(o,x,Y,C,d,i);break;case Le.KANJI:yt.decodeKanjiSegment(o,x,Y);break;default:throw new R}break}}while(D!==Le.TERMINATOR)}catch{throw new R}return new Ce(e,x.toString(),d.length===0?null:d,r===null?null:r.toString(),u,g)}static decodeHanziSegment(e,s,r){if(r*13>e.available())throw new R;const i=new Uint8Array(2*r);let o=0;for(;r>0;){const x=e.readBits(13);let d=x/96<<8&4294967295|x%96;d<959?d+=41377:d+=42657,i[o]=d>>8&255,i[o+1]=d&255,o+=2,r--}try{s.append(me.decode(i,ae.GB2312))}catch(x){throw new R(x)}}static decodeKanjiSegment(e,s,r){if(r*13>e.available())throw new R;const i=new Uint8Array(2*r);let o=0;for(;r>0;){const x=e.readBits(13);let d=x/192<<8&4294967295|x%192;d<7936?d+=33088:d+=49472,i[o]=d>>8,i[o+1]=d,o+=2,r--}try{s.append(me.decode(i,ae.SHIFT_JIS))}catch(x){throw new R(x)}}static decodeByteSegment(e,s,r,i,o,x){if(8*r>e.available())throw new R;const d=new Uint8Array(r);for(let g=0;g<r;g++)d[g]=e.readBits(8);let u;i===null?u=ae.guessEncoding(d,x):u=i.getName();try{s.append(me.decode(d,u))}catch(g){throw new R(g)}o.push(d)}static toAlphaNumericChar(e){if(e>=yt.ALPHANUMERIC_CHARS.length)throw new R;return yt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,s,r,i){const o=s.length();for(;r>1;){if(e.available()<11)throw new R;const x=e.readBits(11);s.append(yt.toAlphaNumericChar(Math.floor(x/45))),s.append(yt.toAlphaNumericChar(x%45)),r-=2}if(r===1){if(e.available()<6)throw new R;s.append(yt.toAlphaNumericChar(e.readBits(6)))}if(i)for(let x=o;x<s.length();x++)s.charAt(x)==="%"&&(x<s.length()-1&&s.charAt(x+1)==="%"?s.deleteCharAt(x+1):s.setCharAt(x,""))}static decodeNumericSegment(e,s,r){for(;r>=3;){if(e.available()<10)throw new R;const i=e.readBits(10);if(i>=1e3)throw new R;s.append(yt.toAlphaNumericChar(Math.floor(i/100))),s.append(yt.toAlphaNumericChar(Math.floor(i/10)%10)),s.append(yt.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new R;const i=e.readBits(7);if(i>=100)throw new R;s.append(yt.toAlphaNumericChar(Math.floor(i/10))),s.append(yt.toAlphaNumericChar(i%10))}else if(r===1){if(e.available()<4)throw new R;const i=e.readBits(4);if(i>=10)throw new R;s.append(yt.toAlphaNumericChar(i))}}static parseECIValue(e){const s=e.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){const r=e.readBits(8);return(s&63)<<8&4294967295|r}if((s&224)===192){const r=e.readBits(16);return(s&31)<<16&4294967295|r}throw new R}}yt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",yt.GB2312_SUBSET=1;class Pi{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const s=e[0];e[0]=e[2],e[2]=s}}class Fl{constructor(){this.rsDecoder=new le(I.QR_CODE_FIELD_256)}decodeBooleanArray(e,s){return this.decodeBitMatrix(Fe.parseFromBooleanArray(e),s)}decodeBitMatrix(e,s){const r=new Dl(e);let i=null;try{return this.decodeBitMatrixParser(r,s)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,s);return o.setOther(new Pi(!0)),o}catch(o){throw i!==null?i:o}}decodeBitMatrixParser(e,s){const r=e.readVersion(),i=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),x=Fr.getDataBlocks(o,r,i);let d=0;for(const C of x)d+=C.getNumDataCodewords();const u=new Uint8Array(d);let g=0;for(const C of x){const B=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(B,D);for(let v=0;v<D;v++)u[g++]=B[v]}return yt.decode(u,r,i,s)}correctErrors(e,s){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-s)}catch{throw new S}for(let i=0;i<s;i++)e[i]=r[i]}}class yr extends X{constructor(e,s,r){super(e,s),this.estimatedModuleSize=r}aboutEquals(e,s,r){if(Math.abs(s-this.getY())<=e&&Math.abs(r-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,s,r){const i=(this.getX()+s)/2,o=(this.getY()+e)/2,x=(this.estimatedModuleSize+r)/2;return new yr(i,o,x)}}class kn{constructor(e,s,r,i,o,x,d){this.image=e,this.startX=s,this.startY=r,this.width=i,this.height=o,this.moduleSize=x,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,s=this.height,r=this.width,i=e+r,o=this.startY+s/2,x=new Int32Array(3),d=this.image;for(let u=0;u<s;u++){const g=o+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));x[0]=0,x[1]=0,x[2]=0;let C=e;for(;C<i&&!d.get(C,g);)C++;let B=0;for(;C<i;){if(d.get(C,g))if(B===1)x[1]++;else if(B===2){if(this.foundPatternCross(x)){const D=this.handlePossibleCenter(x,g,C);if(D!==null)return D}x[0]=x[2],x[1]=1,x[2]=0,B=1}else x[++B]++;else B===1&&B++,x[B]++;C++}if(this.foundPatternCross(x)){const D=this.handlePossibleCenter(x,g,i);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j}static centerFromEnd(e,s){return s-e[2]-e[1]/2}foundPatternCross(e){const s=this.moduleSize,r=s/2;for(let i=0;i<3;i++)if(Math.abs(s-e[i])>=r)return!1;return!0}crossCheckVertical(e,s,r,i){const o=this.image,x=o.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let u=e;for(;u>=0&&o.get(s,u)&&d[1]<=r;)d[1]++,u--;if(u<0||d[1]>r)return NaN;for(;u>=0&&!o.get(s,u)&&d[0]<=r;)d[0]++,u--;if(d[0]>r)return NaN;for(u=e+1;u<x&&o.get(s,u)&&d[1]<=r;)d[1]++,u++;if(u===x||d[1]>r)return NaN;for(;u<x&&!o.get(s,u)&&d[2]<=r;)d[2]++,u++;if(d[2]>r)return NaN;const g=d[0]+d[1]+d[2];return 5*Math.abs(g-i)>=2*i?NaN:this.foundPatternCross(d)?kn.centerFromEnd(d,u):NaN}handlePossibleCenter(e,s,r){const i=e[0]+e[1]+e[2],o=kn.centerFromEnd(e,r),x=this.crossCheckVertical(s,o,2*e[1],i);if(!isNaN(x)){const d=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(d,x,o))return g.combineEstimate(x,o,d);const u=new yr(o,x,d);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class vr extends X{constructor(e,s,r,i){super(e,s),this.estimatedModuleSize=r,this.count=i,i===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,s,r){if(Math.abs(s-this.getY())<=e&&Math.abs(r-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,s,r){const i=this.count+1,o=(this.count*this.getX()+s)/i,x=(this.count*this.getY()+e)/i,d=(this.count*this.estimatedModuleSize+r)/i;return new vr(o,x,d,i)}}class yl{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mt{constructor(e,s){this.image=e,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const s=e!=null&&e.get(G.TRY_HARDER)!==void 0,r=e!=null&&e.get(G.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),x=i.getWidth();let d=Math.floor(3*o/(4*Mt.MAX_MODULES));(d<Mt.MIN_SKIP||s)&&(d=Mt.MIN_SKIP);let u=!1;const g=new Int32Array(5);for(let B=d-1;B<o&&!u;B+=d){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let D=0;for(let v=0;v<x;v++)if(i.get(v,B))(D&1)===1&&D++,g[D]++;else if((D&1)===0)if(D===4)if(Mt.foundPatternCross(g)){if(this.handlePossibleCenter(g,B,v,r)===!0)if(d=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>g[2]&&(B+=L-g[2]-d,v=x-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,D=3;continue}D=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,D=3;else g[++D]++;else g[D]++;Mt.foundPatternCross(g)&&this.handlePossibleCenter(g,B,x,r)===!0&&(d=g[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return X.orderBestPatterns(C),new yl(C)}static centerFromEnd(e,s){return s-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let s=0;for(let o=0;o<5;o++){const x=e[o];if(x===0)return!1;s+=x}if(s<7)return!1;const r=s/7,i=r/2;return Math.abs(r-e[0])<i&&Math.abs(r-e[1])<i&&Math.abs(3*r-e[2])<3*i&&Math.abs(r-e[3])<i&&Math.abs(r-e[4])<i}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,s,r,i){const o=this.getCrossCheckStateCount();let x=0;const d=this.image;for(;e>=x&&s>=x&&d.get(s-x,e-x);)o[2]++,x++;if(e<x||s<x)return!1;for(;e>=x&&s>=x&&!d.get(s-x,e-x)&&o[1]<=r;)o[1]++,x++;if(e<x||s<x||o[1]>r)return!1;for(;e>=x&&s>=x&&d.get(s-x,e-x)&&o[0]<=r;)o[0]++,x++;if(o[0]>r)return!1;const u=d.getHeight(),g=d.getWidth();for(x=1;e+x<u&&s+x<g&&d.get(s+x,e+x);)o[2]++,x++;if(e+x>=u||s+x>=g)return!1;for(;e+x<u&&s+x<g&&!d.get(s+x,e+x)&&o[3]<r;)o[3]++,x++;if(e+x>=u||s+x>=g||o[3]>=r)return!1;for(;e+x<u&&s+x<g&&d.get(s+x,e+x)&&o[4]<r;)o[4]++,x++;if(o[4]>=r)return!1;const C=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(C-i)<2*i&&Mt.foundPatternCross(o)}crossCheckVertical(e,s,r,i){const o=this.image,x=o.getHeight(),d=this.getCrossCheckStateCount();let u=e;for(;u>=0&&o.get(s,u);)d[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(s,u)&&d[1]<=r;)d[1]++,u--;if(u<0||d[1]>r)return NaN;for(;u>=0&&o.get(s,u)&&d[0]<=r;)d[0]++,u--;if(d[0]>r)return NaN;for(u=e+1;u<x&&o.get(s,u);)d[2]++,u++;if(u===x)return NaN;for(;u<x&&!o.get(s,u)&&d[3]<r;)d[3]++,u++;if(u===x||d[3]>=r)return NaN;for(;u<x&&o.get(s,u)&&d[4]<r;)d[4]++,u++;if(d[4]>=r)return NaN;const g=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(g-i)>=2*i?NaN:Mt.foundPatternCross(d)?Mt.centerFromEnd(d,u):NaN}crossCheckHorizontal(e,s,r,i){const o=this.image,x=o.getWidth(),d=this.getCrossCheckStateCount();let u=e;for(;u>=0&&o.get(u,s);)d[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,s)&&d[1]<=r;)d[1]++,u--;if(u<0||d[1]>r)return NaN;for(;u>=0&&o.get(u,s)&&d[0]<=r;)d[0]++,u--;if(d[0]>r)return NaN;for(u=e+1;u<x&&o.get(u,s);)d[2]++,u++;if(u===x)return NaN;for(;u<x&&!o.get(u,s)&&d[3]<r;)d[3]++,u++;if(u===x||d[3]>=r)return NaN;for(;u<x&&o.get(u,s)&&d[4]<r;)d[4]++,u++;if(d[4]>=r)return NaN;const g=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(g-i)>=i?NaN:Mt.foundPatternCross(d)?Mt.centerFromEnd(d,u):NaN}handlePossibleCenter(e,s,r,i){const o=e[0]+e[1]+e[2]+e[3]+e[4];let x=Mt.centerFromEnd(e,r),d=this.crossCheckVertical(s,Math.floor(x),e[2],o);if(!isNaN(d)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(d),e[2],o),!isNaN(x)&&(!i||this.crossCheckDiagonal(Math.floor(d),Math.floor(x),e[2],o)))){const u=o/7;let g=!1;const C=this.possibleCenters;for(let B=0,D=C.length;B<D;B++){const v=C[B];if(v.aboutEquals(u,d,x)){C[B]=v.combineEstimate(d,x,u),g=!0;break}}if(!g){const B=new vr(x,d,u);C.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const r of this.possibleCenters)if(r.getCount()>=Mt.CENTER_QUORUM)if(s==null)s=r;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-r.getX())-Math.abs(s.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,s=0;const r=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=Mt.CENTER_QUORUM&&(e++,s+=x.getEstimatedModuleSize());if(e<3)return!1;const i=s/r;let o=0;for(const x of this.possibleCenters)o+=Math.abs(x.getEstimatedModuleSize()-i);return o<=.05*s}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new j;const s=this.possibleCenters;let r;if(e>3){let i=0,o=0;for(const u of this.possibleCenters){const g=u.getEstimatedModuleSize();i+=g,o+=g*g}r=i/e;let x=Math.sqrt(o/e-r*r);s.sort((u,g)=>{const C=Math.abs(g.getEstimatedModuleSize()-r),B=Math.abs(u.getEstimatedModuleSize()-r);return C<B?-1:C>B?1:0});const d=Math.max(.2*r,x);for(let u=0;u<s.length&&s.length>3;u++){const g=s[u];Math.abs(g.getEstimatedModuleSize()-r)>d&&(s.splice(u,1),u--)}}if(s.length>3){let i=0;for(const o of s)i+=o.getEstimatedModuleSize();r=i/s.length,s.sort((o,x)=>{if(x.getCount()===o.getCount()){const d=Math.abs(x.getEstimatedModuleSize()-r),u=Math.abs(o.getEstimatedModuleSize()-r);return d<u?1:d>u?-1:0}else return x.getCount()-o.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Mt.CENTER_QUORUM=2,Mt.MIN_SKIP=3,Mt.MAX_MODULES=57;class Ws{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(G.NEED_RESULT_POINT_CALLBACK);const r=new Mt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const s=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(s,r,i);if(o<1)throw new j("No pattern found in proccess finder.");const x=Ws.computeDimension(s,r,i,o),d=Re.getProvisionalVersionForDimension(x),u=d.getDimensionForVersion()-7;let g=null;if(d.getAlignmentPatternCenters().length>0){const v=r.getX()-s.getX()+i.getX(),M=r.getY()-s.getY()+i.getY(),L=1-3/u,Y=Math.floor(s.getX()+L*(v-s.getX())),Q=Math.floor(s.getY()+L*(M-s.getY()));for(let he=4;he<=16;he<<=1)try{g=this.findAlignmentInRegion(o,Y,Q,he);break}catch(ge){if(!(ge instanceof j))throw ge}}const C=Ws.createTransform(s,r,i,g,x),B=Ws.sampleGrid(this.image,C,x);let D;return g===null?D=[i,s,r]:D=[i,s,r,g],new Ne(B,D)}static createTransform(e,s,r,i,o){const x=o-3.5;let d,u,g,C;return i!==null?(d=i.getX(),u=i.getY(),g=x-3,C=g):(d=s.getX()-e.getX()+r.getX(),u=s.getY()-e.getY()+r.getY(),g=x,C=x),We.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,g,C,3.5,x,e.getX(),e.getY(),s.getX(),s.getY(),d,u,r.getX(),r.getY())}static sampleGrid(e,s,r){return $e.getInstance().sampleGridWithTransform(e,r,r,s)}static computeDimension(e,s,r,i){const o=oe.round(X.distance(e,s)/i),x=oe.round(X.distance(e,r)/i);let d=Math.floor((o+x)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new j("Dimensions could be not found.")}return d}calculateModuleSize(e,s,r){return(this.calculateModuleSizeOneWay(e,s)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,s){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(s.getX()),Math.floor(s.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14}sizeOfBlackWhiteBlackRunBothWays(e,s,r,i){let o=this.sizeOfBlackWhiteBlackRun(e,s,r,i),x=1,d=e-(r-e);d<0?(x=e/(e-d),d=0):d>=this.image.getWidth()&&(x=(this.image.getWidth()-1-e)/(d-e),d=this.image.getWidth()-1);let u=Math.floor(s-(i-s)*x);return x=1,u<0?(x=s/(s-u),u=0):u>=this.image.getHeight()&&(x=(this.image.getHeight()-1-s)/(u-s),u=this.image.getHeight()-1),d=Math.floor(e+(d-e)*x),o+=this.sizeOfBlackWhiteBlackRun(e,s,d,u),o-1}sizeOfBlackWhiteBlackRun(e,s,r,i){const o=Math.abs(i-s)>Math.abs(r-e);if(o){let v=e;e=s,s=v,v=r,r=i,i=v}const x=Math.abs(r-e),d=Math.abs(i-s);let u=-x/2;const g=e<r?1:-1,C=s<i?1:-1;let B=0;const D=r+g;for(let v=e,M=s;v!==D;v+=g){const L=o?M:v,Y=o?v:M;if(B===1===this.image.get(L,Y)){if(B===2)return oe.distance(v,M,e,s);B++}if(u+=d,u>0){if(M===i)break;M+=C,u-=x}}return B===2?oe.distance(r+g,i,e,s):NaN}findAlignmentInRegion(e,s,r,i){const o=Math.floor(i*e),x=Math.max(0,s-o),d=Math.min(this.image.getWidth()-1,s+o);if(d-x<e*3)throw new j("Alignment top exceeds estimated module size.");const u=Math.max(0,r-o),g=Math.min(this.image.getHeight()-1,r+o);if(g-u<e*3)throw new j("Alignment bottom exceeds estimated module size.");return new kn(this.image,x,u,d-x,g-u,e,this.resultPointCallback).find()}}class Q0{constructor(){this.decoder=new Fl}getDecoder(){return this.decoder}decode(e,s){let r,i;if(s!=null&&s.get(G.PURE_BARCODE)!==void 0){const u=Q0.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(u,s),i=Q0.NO_POINTS}else{const u=new Ws(e.getBlackMatrix()).detect(s);r=this.decoder.decodeBitMatrix(u.getBits(),s),i=u.getPoints()}r.getOther()instanceof Pi&&r.getOther().applyMirroredCorrection(i);const o=new Te(r.getText(),r.getRawBytes(),void 0,i,we.QR_CODE,void 0),x=r.getByteSegments();x!==null&&o.putMetadata(Ee.BYTE_SEGMENTS,x);const d=r.getECLevel();return d!==null&&o.putMetadata(Ee.ERROR_CORRECTION_LEVEL,d),r.hasStructuredAppend()&&(o.putMetadata(Ee.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ee.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const s=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(s===null||r===null)throw new j;const i=this.moduleSize(s,e);let o=s[1],x=r[1],d=s[0],u=r[0];if(d>=u||o>=x)throw new j;if(x-o!==u-d&&(u=d+(x-o),u>=e.getWidth()))throw new j;const g=Math.round((u-d+1)/i),C=Math.round((x-o+1)/i);if(g<=0||C<=0)throw new j;if(C!==g)throw new j;const B=Math.floor(i/2);o+=B,d+=B;const D=d+Math.floor((g-1)*i)-u;if(D>0){if(D>B)throw new j;d-=D}const v=o+Math.floor((C-1)*i)-x;if(v>0){if(v>B)throw new j;o-=v}const M=new Fe(g,C);for(let L=0;L<C;L++){const Y=o+Math.floor(L*i);for(let Q=0;Q<g;Q++)e.get(d+Math.floor(Q*i),Y)&&M.set(Q,L)}return M}static moduleSize(e,s){const r=s.getHeight(),i=s.getWidth();let o=e[0],x=e[1],d=!0,u=0;for(;o<i&&x<r;){if(d!==s.get(o,x)){if(++u===5)break;d=!d}o++,x++}if(o===i||x===r)throw new j;return(o-e[0])/7}}Q0.NO_POINTS=new Array;class Ge{PDF417Common(){}static getBitCountSum(e){return oe.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ge.EMPTY_INT_ARRAY;const s=new Int32Array(e.length);let r=0;for(const i of e)s[r++]=i;return s}static getCodeword(e){const s=te.binarySearch(Ge.SYMBOL_TABLE,e&262143);return s<0?-1:(Ge.CODEWORD_TABLE[s]-1)%Ge.NUMBER_OF_CODEWORDS}}Ge.NUMBER_OF_CODEWORDS=929,Ge.MAX_CODEWORDS_IN_BARCODE=Ge.NUMBER_OF_CODEWORDS-1,Ge.MIN_ROWS_IN_BARCODE=3,Ge.MAX_ROWS_IN_BARCODE=90,Ge.MODULES_IN_CODEWORD=17,Ge.MODULES_IN_STOP_PATTERN=18,Ge.BARS_IN_MODULE=8,Ge.EMPTY_INT_ARRAY=new Int32Array([]),Ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vl{constructor(e,s){this.bits=e,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class qe{static detectMultiple(e,s,r){let i=e.getBlackMatrix(),o=qe.detect(r,i);return o.length||(i=i.clone(),i.rotate180(),o=qe.detect(r,i)),new vl(i,o)}static detect(e,s){const r=new Array;let i=0,o=0,x=!1;for(;i<s.getHeight();){const d=qe.findVertices(s,i,o);if(d[0]==null&&d[3]==null){if(!x)break;x=!1,o=0;for(const u of r)u[1]!=null&&(i=Math.trunc(Math.max(i,u[1].getY()))),u[3]!=null&&(i=Math.max(i,Math.trunc(u[3].getY())));i+=qe.ROW_STEP;continue}if(x=!0,r.push(d),!e)break;d[2]!=null?(o=Math.trunc(d[2].getX()),i=Math.trunc(d[2].getY())):(o=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY()))}return r}static findVertices(e,s,r){const i=e.getHeight(),o=e.getWidth(),x=new Array(8);return qe.copyToResult(x,qe.findRowsWithPattern(e,i,o,s,r,qe.START_PATTERN),qe.INDEXES_START_PATTERN),x[4]!=null&&(r=Math.trunc(x[4].getX()),s=Math.trunc(x[4].getY())),qe.copyToResult(x,qe.findRowsWithPattern(e,i,o,s,r,qe.STOP_PATTERN),qe.INDEXES_STOP_PATTERN),x}static copyToResult(e,s,r){for(let i=0;i<r.length;i++)e[r[i]]=s[i]}static findRowsWithPattern(e,s,r,i,o,x){const d=new Array(4);let u=!1;const g=new Int32Array(x.length);for(;i<s;i+=qe.ROW_STEP){let B=qe.findGuardPattern(e,o,i,r,!1,x,g);if(B!=null){for(;i>0;){const D=qe.findGuardPattern(e,o,--i,r,!1,x,g);if(D!=null)B=D;else{i++;break}}d[0]=new X(B[0],i),d[1]=new X(B[1],i),u=!0;break}}let C=i+1;if(u){let B=0,D=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;C<s;C++){const v=qe.findGuardPattern(e,D[0],C,r,!1,x,g);if(v!=null&&Math.abs(D[0]-v[0])<qe.MAX_PATTERN_DRIFT&&Math.abs(D[1]-v[1])<qe.MAX_PATTERN_DRIFT)D=v,B=0;else{if(B>qe.SKIPPED_ROW_COUNT_MAX)break;B++}}C-=B+1,d[2]=new X(D[0],C),d[3]=new X(D[1],C)}return C-i<qe.BARCODE_MIN_HEIGHT&&te.fill(d,null),d}static findGuardPattern(e,s,r,i,o,x,d){te.fillWithin(d,0,d.length,0);let u=s,g=0;for(;e.get(u,r)&&u>0&&g++<qe.MAX_PIXEL_DRIFT;)u--;let C=u,B=0,D=x.length;for(let v=o;C<i;C++)if(e.get(C,r)!==v)d[B]++;else{if(B===D-1){if(qe.patternMatchVariance(d,x,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return new Int32Array([u,C]);u+=d[0]+d[1],J.arraycopy(d,2,d,0,B-1),d[B-1]=0,d[B]=0,B--}else B++;d[B]=1,v=!v}return B===D-1&&qe.patternMatchVariance(d,x,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE?new Int32Array([u,C-1]):null}static patternMatchVariance(e,s,r){let i=e.length,o=0,x=0;for(let g=0;g<i;g++)o+=e[g],x+=s[g];if(o<x)return 1/0;let d=o/x;r*=d;let u=0;for(let g=0;g<i;g++){let C=e[g],B=s[g]*d,D=C>B?C-B:B-C;if(D>r)return 1/0;u+=D}return u/o}}qe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qe.MAX_AVG_VARIANCE=.42,qe.MAX_INDIVIDUAL_VARIANCE=.8,qe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qe.MAX_PIXEL_DRIFT=3,qe.MAX_PATTERN_DRIFT=5,qe.SKIPPED_ROW_COUNT_MAX=25,qe.ROW_STEP=5,qe.BARCODE_MIN_HEIGHT=10;class Ut{constructor(e,s){if(s.length===0)throw new b;this.field=e;let r=s.length;if(r>1&&s[0]===0){let i=1;for(;i<r&&s[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),J.arraycopy(s,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let i=0;for(let o of this.coefficients)i=this.field.add(i,o);return i}let s=this.coefficients[0],r=this.coefficients.length;for(let i=1;i<r;i++)s=this.field.add(this.field.multiply(e,s),this.coefficients[i]);return s}add(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let s=this.coefficients,r=e.coefficients;if(s.length>r.length){let x=s;s=r,r=x}let i=new Int32Array(r.length),o=r.length-s.length;J.arraycopy(r,0,i,0,o);for(let x=o;x<r.length;x++)i[x]=this.field.add(s[x-o],r[x]);return new Ut(this.field,i)}subtract(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ut?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ut(this.field,new Int32Array([0]));let s=this.coefficients,r=s.length,i=e.coefficients,o=i.length,x=new Int32Array(r+o-1);for(let d=0;d<r;d++){let u=s[d];for(let g=0;g<o;g++)x[d+g]=this.field.add(x[d+g],this.field.multiply(u,i[g]))}return new Ut(this.field,x)}negative(){let e=this.coefficients.length,s=new Int32Array(e);for(let r=0;r<e;r++)s[r]=this.field.subtract(0,this.coefficients[r]);return new Ut(this.field,s)}multiplyScalar(e){if(e===0)return new Ut(this.field,new Int32Array([0]));if(e===1)return this;let s=this.coefficients.length,r=new Int32Array(s);for(let i=0;i<s;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new Ut(this.field,r)}multiplyByMonomial(e,s){if(e<0)throw new b;if(s===0)return new Ut(this.field,new Int32Array([0]));let r=this.coefficients.length,i=new Int32Array(r+e);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],s);return new Ut(this.field,i)}toString(){let e=new pe;for(let s=this.getDegree();s>=0;s--){let r=this.getCoefficient(s);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(s===0||r!==1)&&e.append(r),s!==0&&(s===1?e.append("x"):(e.append("x^"),e.append(s))))}return e.toString()}}class _l{add(e,s){return(e+s)%this.modulus}subtract(e,s){return(this.modulus+e-s)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}inverse(e){if(e===0)throw new T;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,s){return e===0||s===0?0:this.expTable[(this.logTable[e]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class _r extends _l{constructor(e,s){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let i=0;i<e;i++)this.expTable[i]=r,r=r*s%e;for(let i=0;i<e-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new Ut(this,new Int32Array([0])),this.one=new Ut(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,s){if(e<0)throw new b;if(s===0)return this.zero;let r=new Int32Array(e+1);return r[0]=s,new Ut(this,r)}}_r.PDF417_GF=new _r(Ge.NUMBER_OF_CODEWORDS,3);class Ri{constructor(){this.field=_r.PDF417_GF}decode(e,s,r){let i=new Ut(this.field,e),o=new Int32Array(s),x=!1;for(let M=s;M>0;M--){let L=i.evaluateAt(this.field.exp(M));o[s-M]=L,L!==0&&(x=!0)}if(!x)return 0;let d=this.field.getOne();if(r!=null)for(const M of r){let L=this.field.exp(e.length-1-M),Y=new Ut(this.field,new Int32Array([this.field.subtract(0,L),1]));d=d.multiply(Y)}let u=new Ut(this.field,o),g=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),u,s),C=g[0],B=g[1],D=this.findErrorLocations(C),v=this.findErrorMagnitudes(B,C,D);for(let M=0;M<D.length;M++){let L=e.length-1-this.field.log(D[M]);if(L<0)throw S.getChecksumInstance();e[L]=this.field.subtract(e[L],v[M])}return D.length}runEuclideanAlgorithm(e,s,r){if(e.getDegree()<s.getDegree()){let D=e;e=s,s=D}let i=e,o=s,x=this.field.getZero(),d=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let D=i,v=x;if(i=o,x=d,i.isZero())throw S.getChecksumInstance();o=D;let M=this.field.getZero(),L=i.getCoefficient(i.getDegree()),Y=this.field.inverse(L);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){let Q=o.getDegree()-i.getDegree(),he=this.field.multiply(o.getCoefficient(o.getDegree()),Y);M=M.add(this.field.buildMonomial(Q,he)),o=o.subtract(i.multiplyByMonomial(Q,he))}d=M.multiply(x).subtract(v).negative()}let u=d.getCoefficient(0);if(u===0)throw S.getChecksumInstance();let g=this.field.inverse(u),C=d.multiply(g),B=o.multiply(g);return[C,B]}findErrorLocations(e){let s=e.getDegree(),r=new Int32Array(s),i=0;for(let o=1;o<this.field.getSize()&&i<s;o++)e.evaluateAt(o)===0&&(r[i]=this.field.inverse(o),i++);if(i!==s)throw S.getChecksumInstance();return r}findErrorMagnitudes(e,s,r){let i=s.getDegree(),o=new Int32Array(i);for(let g=1;g<=i;g++)o[i-g]=this.field.multiply(g,s.getCoefficient(g));let x=new Ut(this.field,o),d=r.length,u=new Int32Array(d);for(let g=0;g<d;g++){let C=this.field.inverse(r[g]),B=this.field.subtract(0,e.evaluateAt(C)),D=this.field.inverse(x.evaluateAt(C));u[g]=this.field.multiply(B,D)}return u}}class us{constructor(e,s,r,i,o){e instanceof us?this.constructor_2(e):this.constructor_1(e,s,r,i,o)}constructor_1(e,s,r,i,o){const x=s==null||r==null,d=i==null||o==null;if(x&&d)throw new j;x?(s=new X(0,i.getY()),r=new X(0,o.getY())):d&&(i=new X(e.getWidth()-1,s.getY()),o=new X(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=s,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(s.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(s.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,s){return e==null?s:s==null?e:new us(e.image,e.topLeft,e.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(e,s,r){let i=this.topLeft,o=this.bottomLeft,x=this.topRight,d=this.bottomRight;if(e>0){let u=r?this.topLeft:this.topRight,g=Math.trunc(u.getY()-e);g<0&&(g=0);let C=new X(u.getX(),g);r?i=C:x=C}if(s>0){let u=r?this.bottomLeft:this.bottomRight,g=Math.trunc(u.getY()+s);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let C=new X(u.getX(),g);r?o=C:d=C}return new us(this.image,i,o,x,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class kl{constructor(e,s,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=s,this.rowCountLowerPart=r,this.rowCount=s+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class zs{constructor(){this.buffer=""}static form(e,s){let r=-1;function i(x,d,u,g,C,B){if(x==="%%")return"%";if(s[++r]===void 0)return;x=g?parseInt(g.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,v;switch(B){case"s":v=s[r];break;case"c":v=s[r][0];break;case"f":v=parseFloat(s[r]).toFixed(x);break;case"p":v=parseFloat(s[r]).toPrecision(x);break;case"e":v=parseFloat(s[r]).toExponential(x);break;case"x":v=parseInt(s[r]).toString(D||16);break;case"d":v=parseFloat(parseInt(s[r],D||10).toPrecision(x)).toFixed(0);break}v=typeof v=="object"?JSON.stringify(v):(+v).toString(D);let M=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;v.length<M;)v=d!==void 0?v+L:L+v;return v}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)}format(e,...s){this.buffer+=zs.form(e,s)}toString(){return this.buffer}}class Js{constructor(e){this.boundingBox=new us(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let s=this.getCodeword(e);if(s!=null)return s;for(let r=1;r<Js.MAX_NEARBY_DISTANCE;r++){let i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(s=this.codewords[i],s!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(s=this.codewords[i],s!=null)))return s}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,s){this.codewords[this.imageRowToCodewordIndex(e)]=s}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new zs;let s=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",s++);continue}e.format("%3d: %3d|%3d%n",s++,r.getRowNumber(),r.getValue())}return e.toString()}}Js.MAX_NEARBY_DISTANCE=5;class Xs{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let s=this.values.get(e);s==null&&(s=0),s++,this.values.set(e,s)}getValue(){let e=-1,s=new Array;for(const[r,i]of this.values.entries()){const o={getKey:()=>r,getValue:()=>i};o.getValue()>e?(e=o.getValue(),s=[],s.push(o.getKey())):o.getValue()===e&&s.push(o.getKey())}return Ge.toIntArray(s)}getConfidence(e){return this.values.get(e)}}class Ni extends Js{constructor(e,s){super(e),this._isLeft=s}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,e);let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,g=1,C=0;for(let B=x;B<d;B++){if(s[B]==null)continue;let D=s[B],v=D.getRowNumber()-u;if(v===0)C++;else if(v===1)g=Math.max(g,C),C=1,u=D.getRowNumber();else if(v<0||D.getRowNumber()>=e.getRowCount()||v>B)s[B]=null;else{let M;g>2?M=(g-2)*v:M=v;let L=M>=B;for(let Y=1;Y<=M&&!L;Y++)L=s[B-Y]!=null;L?s[B]=null:(u=D.getRowNumber(),C=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let s=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let i=r.getRowNumber();if(i>=s.length)continue;s[i]++}return s}adjustIncompleteIndicatorColumnRowNumbers(e){let s=this.getBoundingBox(),r=this._isLeft?s.getTopLeft():s.getTopRight(),i=this._isLeft?s.getBottomLeft():s.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),x=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.getCodewords(),u=-1;for(let g=o;g<x;g++){if(d[g]==null)continue;let C=d[g];C.setRowNumberAsRowIndicatorColumn();let B=C.getRowNumber()-u;B===0||(B===1?u=C.getRowNumber():C.getRowNumber()>=e.getRowCount()?d[g]=null:u=C.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),s=new Xs,r=new Xs,i=new Xs,o=new Xs;for(let d of e){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let u=d.getValue()%30,g=d.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:r.setValue(u*3+1);break;case 1:o.setValue(u/3),i.setValue(u%3);break;case 2:s.setValue(u+1);break}}if(s.getValue().length===0||r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||s.getValue()[0]<1||r.getValue()[0]+i.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||r.getValue()[0]+i.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;let x=new kl(s.getValue()[0],r.getValue()[0],i.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,x),x}removeIncorrectCodewords(e,s){for(let r=0;r<e.length;r++){let i=e[r];if(e[r]==null)continue;let o=i.getValue()%30,x=i.getRowNumber();if(x>s.getRowCount()){e[r]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:o*3+1!==s.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==s.getErrorCorrectionLevel()||o%3!==s.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==s.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ys{constructor(e,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ge.MAX_CODEWORDS_IN_BARCODE,s;do s=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let r=this.detectionResultColumns[s].getCodewords();for(let i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(s,i,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&s[r]!=null&&e[r].getRowNumber()===s[r].getRowNumber())for(let i=1;i<=this.barcodeColumnCount;i++){let o=this.detectionResultColumns[i].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<s.length;r++){if(s[r]==null)continue;let i=s[r].getRowNumber(),o=0;for(let x=this.barcodeColumnCount+1;x>0&&o<this.ADJUST_ROW_NUMBER_SKIP;x--){let d=this.detectionResultColumns[x].getCodewords()[r];d!=null&&(o=Ys.adjustRowNumberIfValid(i,o,d),d.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,s=this.detectionResultColumns[0].getCodewords();for(let r=0;r<s.length;r++){if(s[r]==null)continue;let i=s[r].getRowNumber(),o=0;for(let x=1;x<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;x++){let d=this.detectionResultColumns[x].getCodewords()[r];d!=null&&(o=Ys.adjustRowNumberIfValid(i,o,d),d.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,s,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),s=0):++s),s}adjustRowNumbers(e,s,r){if(!this.detectionResultColumns[e-1])return;let i=r[s],o=this.detectionResultColumns[e-1].getCodewords(),x=o;this.detectionResultColumns[e+1]!=null&&(x=this.detectionResultColumns[e+1].getCodewords());let d=new Array(14);d[2]=o[s],d[3]=x[s],s>0&&(d[0]=r[s-1],d[4]=o[s-1],d[5]=x[s-1]),s>1&&(d[8]=r[s-2],d[10]=o[s-2],d[11]=x[s-2]),s<r.length-1&&(d[1]=r[s+1],d[6]=o[s+1],d[7]=x[s+1]),s<r.length-2&&(d[9]=r[s+2],d[12]=o[s+2],d[13]=x[s+2]);for(let u of d)if(Ys.adjustRowNumber(i,u))return}static adjustRowNumber(e,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===e.getBucket()?(e.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,s){this.detectionResultColumns[e]=s}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new zs;for(let r=0;r<e.getCodewords().length;r++){s.format("CW %3d:",r);for(let i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){s.format("    |   ");continue}let o=this.detectionResultColumns[i].getCodewords()[r];if(o==null){s.format("    |   ");continue}s.format(" %3d|%3d",o.getRowNumber(),o.getValue())}s.format("%n")}return s.toString()}}class Ks{constructor(e,s,r,i){this.rowNumber=Ks.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(s),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ks.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ks.BARCODE_ROW_UNKNOWN=-1;class n0{static initialize(){for(let e=0;e<Ge.SYMBOL_TABLE.length;e++){let s=Ge.SYMBOL_TABLE[e],r=s&1;for(let i=0;i<Ge.BARS_IN_MODULE;i++){let o=0;for(;(s&1)===r;)o+=1,s>>=1;r=s&1,n0.RATIOS_TABLE[e]||(n0.RATIOS_TABLE[e]=new Array(Ge.BARS_IN_MODULE)),n0.RATIOS_TABLE[e][Ge.BARS_IN_MODULE-i-1]=Math.fround(o/Ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let s=n0.getDecodedCodewordValue(n0.sampleBitCounts(e));return s!==-1?s:n0.getClosestDecodedValue(e)}static sampleBitCounts(e){let s=oe.sum(e),r=new Int32Array(Ge.BARS_IN_MODULE),i=0,o=0;for(let x=0;x<Ge.MODULES_IN_CODEWORD;x++){let d=s/(2*Ge.MODULES_IN_CODEWORD)+x*s/Ge.MODULES_IN_CODEWORD;o+e[i]<=d&&(o+=e[i],i++),r[i]++}return r}static getDecodedCodewordValue(e){let s=n0.getBitValue(e);return Ge.getCodeword(s)===-1?-1:s}static getBitValue(e){let s=0;for(let r=0;r<e.length;r++)for(let i=0;i<e[r];i++)s=s<<1|(r%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(e){let s=oe.sum(e),r=new Array(Ge.BARS_IN_MODULE);if(s>1)for(let x=0;x<r.length;x++)r[x]=Math.fround(e[x]/s);let i=Ae.MAX_VALUE,o=-1;this.bSymbolTableReady||n0.initialize();for(let x=0;x<n0.RATIOS_TABLE.length;x++){let d=0,u=n0.RATIOS_TABLE[x];for(let g=0;g<Ge.BARS_IN_MODULE;g++){let C=Math.fround(u[g]-r[g]);if(d+=Math.fround(C*C),d>=i)break}d<i&&(i=d,o=Ge.SYMBOL_TABLE[x])}return o}}n0.bSymbolTableReady=!1,n0.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(p=>new Array(Ge.BARS_IN_MODULE));class Oi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Mi{static parseLong(e,s=void 0){return parseInt(e,s)}}class Li extends m{}Li.kind="NullPointerException";class Il{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,s,r){if(e==null)throw new Li;if(s<0||s>e.length||r<0||s+r>e.length||s+r<0)throw new $;if(r===0)return;for(let i=0;i<r;i++)this.write(e[s+i])}flush(){}close(){}}class Sl extends m{}class Tl extends Il{constructor(e=32){if(super(),this.count=0,e<0)throw new b("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new Sl;r=U.MAX_VALUE}this.buf=te.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,s,r){if(s<0||s>e.length||r<0||s+r-e.length>0)throw new $;this.ensureCapacity(this.count+r),J.arraycopy(e,s,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Et;(function(p){p[p.ALPHA=0]="ALPHA",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.PUNCT=3]="PUNCT",p[p.ALPHA_SHIFT=4]="ALPHA_SHIFT",p[p.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Et||(Et={}));function Ui(){if(typeof window<"u")return window.BigInt||null;if(typeof Ln<"u")return Ln.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let In;function $0(p){if(typeof In>"u"&&(In=Ui()),In===null)throw new Error("BigInt is not supported!");return In(p)}function Pl(){let p=[];p[0]=$0(1);let e=$0(900);p[1]=e;for(let s=2;s<16;s++)p[s]=p[s-1]*e;return p}class q{static decode(e,s){let r=new pe(""),i=W.ISO8859_1;r.enableDecoding(i);let o=1,x=e[o++],d=new Oi;for(;o<e[0];){switch(x){case q.TEXT_COMPACTION_MODE_LATCH:o=q.textCompaction(e,o,r);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:o=q.byteCompaction(x,e,i,o,r);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:o=q.numericCompaction(e,o,r);break;case q.ECI_CHARSET:W.getCharacterSetECIByValue(e[o++]);break;case q.ECI_GENERAL_PURPOSE:o+=2;break;case q.ECI_USER_DEFINED:o++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=q.decodeMacroBlock(e,o,d);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new R;default:o--,o=q.textCompaction(e,o,r);break}if(o<e.length)x=e[o++];else throw R.getFormatInstance()}if(r.length()===0)throw R.getFormatInstance();let u=new Ce(null,r.toString(),null,s);return u.setOther(d),u}static decodeMacroBlock(e,s,r){if(s+q.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw R.getFormatInstance();let i=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<q.NUMBER_OF_SEQUENCE_CODEWORDS;d++,s++)i[d]=e[s];r.setSegmentIndex(U.parseInt(q.decodeBase900toBase10(i,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new pe;s=q.textCompaction(e,s,o),r.setFileId(o.toString());let x=-1;for(e[s]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=s+1);s<e[0];)switch(e[s]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,e[s]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new pe;s=q.textCompaction(e,s+1,d),r.setFileName(d.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new pe;s=q.textCompaction(e,s+1,u),r.setSender(u.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new pe;s=q.textCompaction(e,s+1,g),r.setAddressee(g.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new pe;s=q.numericCompaction(e,s+1,C),r.setSegmentCount(U.parseInt(C.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new pe;s=q.numericCompaction(e,s+1,B),r.setTimestamp(Mi.parseLong(B.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new pe;s=q.numericCompaction(e,s+1,D),r.setChecksum(U.parseInt(D.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let v=new pe;s=q.numericCompaction(e,s+1,v),r.setFileSize(Mi.parseLong(v.toString()));break;default:throw R.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:s++,r.setLastSegment(!0);break;default:throw R.getFormatInstance()}if(x!==-1){let d=s-x;r.isLastSegment()&&d--,r.setOptionalData(te.copyOfRange(e,x,x+d))}return s}static textCompaction(e,s,r){let i=new Int32Array((e[0]-s)*2),o=new Int32Array((e[0]-s)*2),x=0,d=!1;for(;s<e[0]&&!d;){let u=e[s++];if(u<q.TEXT_COMPACTION_MODE_LATCH)i[x]=u/30,i[x+1]=u%30,x+=2;else switch(u){case q.TEXT_COMPACTION_MODE_LATCH:i[x++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,d=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[x]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[s++],o[x]=u,x++;break}}return q.decodeTextCompaction(i,o,x,r),s}static decodeTextCompaction(e,s,r,i){let o=Et.ALPHA,x=Et.ALPHA,d=0;for(;d<r;){let u=e[d],g="";switch(o){case Et.ALPHA:if(u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case q.LL:o=Et.LOWER;break;case q.ML:o=Et.MIXED;break;case q.PS:x=o,o=Et.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Et.ALPHA;break}break;case Et.LOWER:if(u<26)g=String.fromCharCode(97+u);else switch(u){case 26:g=" ";break;case q.AS:x=o,o=Et.ALPHA_SHIFT;break;case q.ML:o=Et.MIXED;break;case q.PS:x=o,o=Et.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Et.ALPHA;break}break;case Et.MIXED:if(u<q.PL)g=q.MIXED_CHARS[u];else switch(u){case q.PL:o=Et.PUNCT;break;case 26:g=" ";break;case q.LL:o=Et.LOWER;break;case q.AL:o=Et.ALPHA;break;case q.PS:x=o,o=Et.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Et.ALPHA;break}break;case Et.PUNCT:if(u<q.PAL)g=q.PUNCT_CHARS[u];else switch(u){case q.PAL:o=Et.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Et.ALPHA;break}break;case Et.ALPHA_SHIFT:if(o=x,u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:o=Et.ALPHA;break}break;case Et.PUNCT_SHIFT:if(o=x,u<q.PAL)g=q.PUNCT_CHARS[u];else switch(u){case q.PAL:o=Et.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Et.ALPHA;break}break}g!==""&&i.append(g),d++}}static byteCompaction(e,s,r,i,o){let x=new Tl,d=0,u=0,g=!1;switch(e){case q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),B=s[i++];for(;i<s[0]&&!g;)switch(C[d++]=B,u=900*u+B,B=s[i++],B){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,g=!0;break;default:if(d%5===0&&d>0){for(let D=0;D<6;++D)x.write(Number($0(u)>>$0(8*(5-D))));u=0,d=0}break}i===s[0]&&B<q.TEXT_COMPACTION_MODE_LATCH&&(C[d++]=B);for(let D=0;D<d;D++)x.write(C[D]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;i<s[0]&&!g;){let D=s[i++];if(D<q.TEXT_COMPACTION_MODE_LATCH)d++,u=900*u+D;else switch(D){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,g=!0;break}if(d%5===0&&d>0){for(let v=0;v<6;++v)x.write(Number($0(u)>>$0(8*(5-v))));u=0,d=0}}break}return o.append(me.decode(x.toByteArray(),r)),i}static numericCompaction(e,s,r){let i=0,o=!1,x=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;s<e[0]&&!o;){let d=e[s++];if(s===e[0]&&(o=!0),d<q.TEXT_COMPACTION_MODE_LATCH)x[i]=d,i++;else switch(d){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,o=!0;break}(i%q.MAX_NUMERIC_CODEWORDS===0||d===q.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(q.decodeBase900toBase10(x,i)),i=0)}return s}static decodeBase900toBase10(e,s){let r=$0(0);for(let o=0;o<s;o++)r+=q.EXP900[s-o-1]*$0(e[o]);let i=r.toString();if(i.charAt(0)!=="1")throw new R;return i.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Ui()?Pl():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qe{constructor(){}static decode(e,s,r,i,o,x,d){let u=new us(e,s,r,i,o),g=null,C=null,B;for(let M=!0;;M=!1){if(s!=null&&(g=Qe.getRowIndicatorColumn(e,u,s,!0,x,d)),i!=null&&(C=Qe.getRowIndicatorColumn(e,u,i,!1,x,d)),B=Qe.merge(g,C),B==null)throw j.getNotFoundInstance();let L=B.getBoundingBox();if(M&&L!=null&&(L.getMinY()<u.getMinY()||L.getMaxY()>u.getMaxY()))u=L;else break}B.setBoundingBox(u);let D=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,g),B.setDetectionResultColumn(D,C);let v=g!=null;for(let M=1;M<=D;M++){let L=v?M:D-M;if(B.getDetectionResultColumn(L)!==void 0)continue;let Y;L===0||L===D?Y=new Ni(u,L===0):Y=new Js(u),B.setDetectionResultColumn(L,Y);let Q=-1,he=Q;for(let ge=u.getMinY();ge<=u.getMaxY();ge++){if(Q=Qe.getStartColumn(B,L,ge,v),Q<0||Q>u.getMaxX()){if(he===-1)continue;Q=he}let ue=Qe.detectCodeword(e,u.getMinX(),u.getMaxX(),v,Q,ge,x,d);ue!=null&&(Y.setCodeword(ge,ue),he=Q,x=Math.min(x,ue.getWidth()),d=Math.max(d,ue.getWidth()))}}return Qe.createDecoderResult(B)}static merge(e,s){if(e==null&&s==null)return null;let r=Qe.getBarcodeMetadata(e,s);if(r==null)return null;let i=us.merge(Qe.adjustBoundingBox(e),Qe.adjustBoundingBox(s));return new Ys(r,i)}static adjustBoundingBox(e){if(e==null)return null;let s=e.getRowHeights();if(s==null)return null;let r=Qe.getMax(s),i=0;for(let d of s)if(i+=r-d,d>0)break;let o=e.getCodewords();for(let d=0;i>0&&o[d]==null;d++)i--;let x=0;for(let d=s.length-1;d>=0&&(x+=r-s[d],!(s[d]>0));d--);for(let d=o.length-1;x>0&&o[d]==null;d--)x--;return e.getBoundingBox().addMissingRows(i,x,e.isLeft())}static getMax(e){let s=-1;for(let r of e)s=Math.max(s,r);return s}static getBarcodeMetadata(e,s){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let i;return s==null||(i=s.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r}static getRowIndicatorColumn(e,s,r,i,o,x){let d=new Ni(s,i);for(let u=0;u<2;u++){let g=u===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let B=Math.trunc(Math.trunc(r.getY()));B<=s.getMaxY()&&B>=s.getMinY();B+=g){let D=Qe.detectCodeword(e,0,e.getWidth(),i,C,B,o,x);D!=null&&(d.setCodeword(B,D),i?C=D.getStartX():C=D.getEndX())}}return d}static adjustCodewordCount(e,s){let r=s[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Qe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>Ge.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)}static createDecoderResult(e){let s=Qe.createBarcodeMatrix(e);Qe.adjustCodewordCount(e,s);let r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],x=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let g=0;g<e.getBarcodeColumnCount();g++){let C=s[u][g+1].getValue(),B=u*e.getBarcodeColumnCount()+g;C.length===0?r.push(B):C.length===1?i[B]=C[0]:(x.push(B),o.push(C))}let d=new Array(o.length);for(let u=0;u<d.length;u++)d[u]=o[u];return Qe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ge.toIntArray(r),Ge.toIntArray(x),d)}static createDecoderResultFromAmbiguousValues(e,s,r,i,o){let x=new Int32Array(i.length),d=100;for(;d-- >0;){for(let u=0;u<x.length;u++)s[i[u]]=o[u][x[u]];try{return Qe.decodeCodewords(s,e,r)}catch(u){if(!(u instanceof S))throw u}if(x.length===0)throw S.getChecksumInstance();for(let u=0;u<x.length;u++)if(x[u]<o[u].length-1){x[u]++;break}else if(x[u]=0,u===x.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(e){let s=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let i=0;i<s.length;i++)for(let o=0;o<s[i].length;o++)s[i][o]=new Xs;let r=0;for(let i of e.getDetectionResultColumns()){if(i!=null){for(let o of i.getCodewords())if(o!=null){let x=o.getRowNumber();if(x>=0){if(x>=s.length)continue;s[x][r].setValue(o.getValue())}}}r++}return s}static isValidBarcodeColumn(e,s){return s>=0&&s<=e.getBarcodeColumnCount()+1}static getStartColumn(e,s,r,i){let o=i?1:-1,x=null;if(Qe.isValidBarcodeColumn(e,s-o)&&(x=e.getDetectionResultColumn(s-o).getCodeword(r)),x!=null)return i?x.getEndX():x.getStartX();if(x=e.getDetectionResultColumn(s).getCodewordNearby(r),x!=null)return i?x.getStartX():x.getEndX();if(Qe.isValidBarcodeColumn(e,s-o)&&(x=e.getDetectionResultColumn(s-o).getCodewordNearby(r)),x!=null)return i?x.getEndX():x.getStartX();let d=0;for(;Qe.isValidBarcodeColumn(e,s-o);){s-=o;for(let u of e.getDetectionResultColumn(s).getCodewords())if(u!=null)return(i?u.getEndX():u.getStartX())+o*d*(u.getEndX()-u.getStartX());d++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,s,r,i,o,x,d,u){o=Qe.adjustCodewordStartColumn(e,s,r,i,o,x);let g=Qe.getModuleBitCount(e,s,r,i,o,x);if(g==null)return null;let C,B=oe.sum(g);if(i)C=o+B;else{for(let M=0;M<g.length/2;M++){let L=g[M];g[M]=g[g.length-1-M],g[g.length-1-M]=L}C=o,o=C-B}if(!Qe.checkCodewordSkew(B,d,u))return null;let D=n0.getDecodedValue(g),v=Ge.getCodeword(D);return v===-1?null:new Ks(o,C,Qe.getCodewordBucketNumber(D),v)}static getModuleBitCount(e,s,r,i,o,x){let d=o,u=new Int32Array(8),g=0,C=i?1:-1,B=i;for(;(i?d<r:d>=s)&&g<u.length;)e.get(d,x)===B?(u[g]++,d+=C):(g++,B=!B);return g===u.length||d===(i?r:s)&&g===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,s,r,i,o,x){let d=o,u=i?-1:1;for(let g=0;g<2;g++){for(;(i?d>=s:d<r)&&i===e.get(d,x);){if(Math.abs(o-d)>Qe.CODEWORD_SKEW_SIZE)return o;d+=u}u=-u,i=!i}return d}static checkCodewordSkew(e,s,r){return s-Qe.CODEWORD_SKEW_SIZE<=e&&e<=r+Qe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,s,r){if(e.length===0)throw R.getFormatInstance();let i=1<<s+1,o=Qe.correctErrors(e,r,i);Qe.verifyCodewordCount(e,i);let x=q.decode(e,""+s);return x.setErrorsCorrected(o),x.setErasures(r.length),x}static correctErrors(e,s,r){if(s!=null&&s.length>r/2+Qe.MAX_ERRORS||r<0||r>Qe.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return Qe.errorCorrection.decode(e,r,s)}static verifyCodewordCount(e,s){if(e.length<4)throw R.getFormatInstance();let r=e[0];if(r>e.length)throw R.getFormatInstance();if(r===0)if(s<e.length)e[0]=e.length-s;else throw R.getFormatInstance()}static getBitCountForCodeword(e){let s=new Int32Array(8),r=0,i=s.length-1;for(;!((e&1)!==r&&(r=e&1,i--,i<0));)s[i]++,e>>=1;return s}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Qe.getCodewordBucketNumber(Qe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let s=new zs;for(let r=0;r<e.length;r++){s.format("Row %2d: ",r);for(let i=0;i<e[r].length;i++){let o=e[r][i];o.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}s.format("%n")}return s.toString()}}Qe.CODEWORD_SKEW_SIZE=2,Qe.MAX_ERRORS=3,Qe.MAX_EC_CODEWORDS=512,Qe.errorCorrection=new Ri;class jt{decode(e,s=null){let r=jt.decode(e,s,!1);if(r==null||r.length===0||r[0]==null)throw j.getNotFoundInstance();return r[0]}decodeMultiple(e,s=null){try{return jt.decode(e,s,!0)}catch(r){throw r instanceof R||r instanceof S?j.getNotFoundInstance():r}}static decode(e,s,r){const i=new Array,o=qe.detectMultiple(e,s,r);for(const x of o.getPoints()){const d=Qe.decode(o.getBits(),x[4],x[5],x[6],x[7],jt.getMinCodewordWidth(x),jt.getMaxCodewordWidth(x)),u=new Te(d.getText(),d.getRawBytes(),void 0,x,we.PDF_417);u.putMetadata(Ee.ERROR_CORRECTION_LEVEL,d.getECLevel());const g=d.getOther();g!=null&&u.putMetadata(Ee.PDF417_EXTRA_METADATA,g),i.push(u)}return i.map(x=>x)}static getMaxWidth(e,s){return e==null||s==null?0:Math.trunc(Math.abs(e.getX()-s.getX()))}static getMinWidth(e,s){return e==null||s==null?U.MAX_VALUE:Math.trunc(Math.abs(e.getX()-s.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(jt.getMaxWidth(e[0],e[4]),jt.getMaxWidth(e[6],e[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(jt.getMaxWidth(e[1],e[5]),jt.getMaxWidth(e[7],e[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(jt.getMinWidth(e[0],e[4]),jt.getMinWidth(e[6],e[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(jt.getMinWidth(e[1],e[5]),jt.getMinWidth(e[7],e[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class Sn extends m{}Sn.kind="ReaderException";class ji{constructor(e,s){this.verbose=e===!0,s&&this.setHints(s)}decode(e,s){return s&&this.setHints(s),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const s=!f(e)&&e.get(G.TRY_HARDER)===!0,r=f(e)?null:e.get(G.POSSIBLE_FORMATS),i=new Array;if(!f(r)){const o=r.some(x=>x===we.UPC_A||x===we.UPC_E||x===we.EAN_13||x===we.EAN_8||x===we.CODABAR||x===we.CODE_39||x===we.CODE_93||x===we.CODE_128||x===we.ITF||x===we.RSS_14||x===we.RSS_EXPANDED);o&&!s&&i.push(new ws(e,this.verbose)),r.includes(we.QR_CODE)&&i.push(new Q0),r.includes(we.DATA_MATRIX)&&i.push(new q0),r.includes(we.AZTEC)&&i.push(new Zt),r.includes(we.PDF_417)&&i.push(new jt),o&&s&&i.push(new ws(e,this.verbose))}i.length===0&&(s||i.push(new ws(e,this.verbose)),i.push(new Q0),i.push(new q0),i.push(new Zt),i.push(new jt),s&&i.push(new ws(e,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Sn("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(e,this.hints)}catch(r){if(r instanceof Sn)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}class Rl extends lt{constructor(e=null,s=500){const r=new ji;r.setHints(e),super(r,s)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Nl extends lt{constructor(e=500){super(new jt,e)}}class Ol extends lt{constructor(e=500){super(new Q0,e)}}var kr;(function(p){p[p.ERROR_CORRECTION=0]="ERROR_CORRECTION",p[p.CHARACTER_SET=1]="CHARACTER_SET",p[p.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",p[p.MIN_SIZE=3]="MIN_SIZE",p[p.MAX_SIZE=4]="MAX_SIZE",p[p.MARGIN=5]="MARGIN",p[p.PDF417_COMPACT=6]="PDF417_COMPACT",p[p.PDF417_COMPACTION=7]="PDF417_COMPACTION",p[p.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",p[p.AZTEC_LAYERS=9]="AZTEC_LAYERS",p[p.QR_VERSION=10]="QR_VERSION"})(kr||(kr={}));var Rt=kr;class Ir{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ve(e,Int32Array.from([1])))}buildGenerator(e){const s=this.cachedGenerators;if(e>=s.length){let r=s[s.length-1];const i=this.field;for(let o=s.length;o<=e;o++){const x=r.multiply(new Ve(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));s.push(x),r=x}}return s[e]}encode(e,s){if(s===0)throw new b("No error correction bytes");const r=e.length-s;if(r<=0)throw new b("No data bytes provided");const i=this.buildGenerator(s),o=new Int32Array(r);J.arraycopy(e,0,o,0,r);let x=new Ve(this.field,o);x=x.multiplyByMonomial(s,1);const u=x.divide(i)[1].getCoefficients(),g=s-u.length;for(let C=0;C<g;C++)e[r+C]=0;J.arraycopy(u,0,e,r+g,u.length)}}class It{constructor(){}static applyMaskPenaltyRule1(e){return It.applyMaskPenaltyRule1Internal(e,!0)+It.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let s=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let x=0;x<o-1;x++){const d=r[x];for(let u=0;u<i-1;u++){const g=d[u];g===d[u+1]&&g===r[x+1][u]&&g===r[x+1][u+1]&&s++}}return It.N2*s}static applyMaskPenaltyRule3(e){let s=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let x=0;x<o;x++)for(let d=0;d<i;d++){const u=r[x];d+6<i&&u[d]===1&&u[d+1]===0&&u[d+2]===1&&u[d+3]===1&&u[d+4]===1&&u[d+5]===0&&u[d+6]===1&&(It.isWhiteHorizontal(u,d-4,d)||It.isWhiteHorizontal(u,d+7,d+11))&&s++,x+6<o&&r[x][d]===1&&r[x+1][d]===0&&r[x+2][d]===1&&r[x+3][d]===1&&r[x+4][d]===1&&r[x+5][d]===0&&r[x+6][d]===1&&(It.isWhiteVertical(r,d,x-4,x)||It.isWhiteVertical(r,d,x+7,x+11))&&s++}return s*It.N3}static isWhiteHorizontal(e,s,r){s=Math.max(s,0),r=Math.min(r,e.length);for(let i=s;i<r;i++)if(e[i]===1)return!1;return!0}static isWhiteVertical(e,s,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let o=r;o<i;o++)if(e[o][s]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let s=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let u=0;u<o;u++){const g=r[u];for(let C=0;C<i;C++)g[C]===1&&s++}const x=e.getHeight()*e.getWidth();return Math.floor(Math.abs(s*2-x)*10/x)*It.N4}static getDataMaskBit(e,s,r){let i,o;switch(e){case 0:i=r+s&1;break;case 1:i=r&1;break;case 2:i=s%3;break;case 3:i=(r+s)%3;break;case 4:i=Math.floor(r/2)+Math.floor(s/3)&1;break;case 5:o=r*s,i=(o&1)+o%3;break;case 6:o=r*s,i=(o&1)+o%3&1;break;case 7:o=r*s,i=o%3+(r+s&1)&1;break;default:throw new b("Invalid mask pattern: "+e)}return i===0}static applyMaskPenaltyRule1Internal(e,s){let r=0;const i=s?e.getHeight():e.getWidth(),o=s?e.getWidth():e.getHeight(),x=e.getArray();for(let d=0;d<i;d++){let u=0,g=-1;for(let C=0;C<o;C++){const B=s?x[d][C]:x[C][d];B===g?u++:(u>=5&&(r+=It.N1+(u-5)),u=1,g=B)}u>=5&&(r+=It.N1+(u-5))}return r}}It.N1=3,It.N2=3,It.N3=40,It.N4=10;class Tn{constructor(e,s){this.width=e,this.height=s;const r=new Array(s);for(let i=0;i!==s;i++)r[i]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,s){return this.bytes[s][e]}getArray(){return this.bytes}setNumber(e,s,r){this.bytes[s][e]=r}setBoolean(e,s,r){this.bytes[s][e]=r?1:0}clear(e){for(const s of this.bytes)te.fill(s,e)}equals(e){if(!(e instanceof Tn))return!1;const s=e;if(this.width!==s.width||this.height!==s.height)return!1;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r],x=s.bytes[r];for(let d=0,u=this.width;d<u;++d)if(o[d]!==x[d])return!1}return!0}toString(){const e=new pe;for(let s=0,r=this.height;s<r;++s){const i=this.bytes[s];for(let o=0,x=this.width;o<x;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class fs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new pe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<fs.NUM_MASK_PATTERNS}}fs.NUM_MASK_PATTERNS=8;class gt extends m{}gt.kind="WriterException";class Ue{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,s,r,i,o){Ue.clearMatrix(o),Ue.embedBasicPatterns(r,o),Ue.embedTypeInfo(s,i,o),Ue.maybeEmbedVersionInfo(r,o),Ue.embedDataBits(e,i,o)}static embedBasicPatterns(e,s){Ue.embedPositionDetectionPatternsAndSeparators(s),Ue.embedDarkDotAtLeftBottomCorner(s),Ue.maybeEmbedPositionAdjustmentPatterns(e,s),Ue.embedTimingPatterns(s)}static embedTypeInfo(e,s,r){const i=new N;Ue.makeTypeInfoBits(e,s,i);for(let o=0,x=i.getSize();o<x;++o){const d=i.get(i.getSize()-1-o),u=Ue.TYPE_INFO_COORDINATES[o],g=u[0],C=u[1];if(r.setBoolean(g,C,d),o<8){const B=r.getWidth()-o-1;r.setBoolean(B,8,d)}else{const D=r.getHeight()-7+(o-8);r.setBoolean(8,D,d)}}}static maybeEmbedVersionInfo(e,s){if(e.getVersionNumber()<7)return;const r=new N;Ue.makeVersionInfoBits(e,r);let i=17;for(let o=0;o<6;++o)for(let x=0;x<3;++x){const d=r.get(i);i--,s.setBoolean(o,s.getHeight()-11+x,d),s.setBoolean(s.getHeight()-11+x,o,d)}}static embedDataBits(e,s,r){let i=0,o=-1,x=r.getWidth()-1,d=r.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);d>=0&&d<r.getHeight();){for(let u=0;u<2;++u){const g=x-u;if(!Ue.isEmpty(r.get(g,d)))continue;let C;i<e.getSize()?(C=e.get(i),++i):C=!1,s!==255&&It.getDataMaskBit(s,g,d)&&(C=!C),r.setBoolean(g,d,C)}d+=o}o=-o,d+=o,x-=2}if(i!==e.getSize())throw new gt("Not all bits consumed: "+i+"/"+e.getSize())}static findMSBSet(e){return 32-U.numberOfLeadingZeros(e)}static calculateBCHCode(e,s){if(s===0)throw new b("0 polynomial");const r=Ue.findMSBSet(s);for(e<<=r-1;Ue.findMSBSet(e)>=r;)e^=s<<Ue.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,s,r){if(!fs.isValidMaskPattern(s))throw new gt("Invalid mask pattern");const i=e.getBits()<<3|s;r.appendBits(i,5);const o=Ue.calculateBCHCode(i,Ue.TYPE_INFO_POLY);r.appendBits(o,10);const x=new N;if(x.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),r.xor(x),r.getSize()!==15)throw new gt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,s){s.appendBits(e.getVersionNumber(),6);const r=Ue.calculateBCHCode(e.getVersionNumber(),Ue.VERSION_INFO_POLY);if(s.appendBits(r,12),s.getSize()!==18)throw new gt("should not happen but we got: "+s.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let s=8;s<e.getWidth()-8;++s){const r=(s+1)%2;Ue.isEmpty(e.get(s,6))&&e.setNumber(s,6,r),Ue.isEmpty(e.get(6,s))&&e.setNumber(6,s,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new gt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,s,r){for(let i=0;i<8;++i){if(!Ue.isEmpty(r.get(e+i,s)))throw new gt;r.setNumber(e+i,s,0)}}static embedVerticalSeparationPattern(e,s,r){for(let i=0;i<7;++i){if(!Ue.isEmpty(r.get(e,s+i)))throw new gt;r.setNumber(e,s+i,0)}}static embedPositionAdjustmentPattern(e,s,r){for(let i=0;i<5;++i){const o=Ue.POSITION_ADJUSTMENT_PATTERN[i];for(let x=0;x<5;++x)r.setNumber(e+x,s+i,o[x])}}static embedPositionDetectionPattern(e,s,r){for(let i=0;i<7;++i){const o=Ue.POSITION_DETECTION_PATTERN[i];for(let x=0;x<7;++x)r.setNumber(e+x,s+i,o[x])}}static embedPositionDetectionPatternsAndSeparators(e){const s=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,e),Ue.embedPositionDetectionPattern(e.getWidth()-s,0,e),Ue.embedPositionDetectionPattern(0,e.getWidth()-s,e);const r=8;Ue.embedHorizontalSeparationPattern(0,r-1,e),Ue.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ue.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const i=7;Ue.embedVerticalSeparationPattern(i,0,e),Ue.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),Ue.embedVerticalSeparationPattern(i,e.getHeight()-i,e)}static maybeEmbedPositionAdjustmentPatterns(e,s){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,i=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,x=i.length;o!==x;o++){const d=i[o];if(d>=0)for(let u=0;u!==x;u++){const g=i[u];g>=0&&Ue.isEmpty(s.get(g,d))&&Ue.embedPositionAdjustmentPattern(g-2,d-2,s)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class Ml{constructor(e,s){this.dataBytes=e,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(e){return It.applyMaskPenaltyRule1(e)+It.applyMaskPenaltyRule2(e)+It.applyMaskPenaltyRule3(e)+It.applyMaskPenaltyRule4(e)}static encode(e,s,r=null){let i=Dt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Rt.CHARACTER_SET)!==void 0;o&&(i=r.get(Rt.CHARACTER_SET).toString());const x=this.chooseMode(e,i),d=new N;if(x===Le.BYTE&&(o||Dt.DEFAULT_BYTE_MODE_ENCODING!==i)){const ge=W.getCharacterSetECIByName(i);ge!==void 0&&this.appendECI(ge,d)}this.appendModeInfo(x,d);const u=new N;this.appendBytes(e,x,u,i);let g;if(r!==null&&r.get(Rt.QR_VERSION)!==void 0){const ge=Number.parseInt(r.get(Rt.QR_VERSION).toString(),10);g=Re.getVersionForNumber(ge);const ue=this.calculateBitsNeeded(x,d,u,g);if(!this.willFit(ue,g,s))throw new gt("Data too big for requested version")}else g=this.recommendVersion(s,x,d,u);const C=new N;C.appendBitArray(d);const B=x===Le.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(B,g,x,C),C.appendBitArray(u);const D=g.getECBlocksForLevel(s),v=g.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(v,C);const M=this.interleaveWithECBytes(C,g.getTotalCodewords(),v,D.getNumBlocks()),L=new fs;L.setECLevel(s),L.setMode(x),L.setVersion(g);const Y=g.getDimensionForVersion(),Q=new Tn(Y,Y),he=this.chooseMaskPattern(M,s,g,Q);return L.setMaskPattern(he),Ue.buildMatrix(M,s,g,he,Q),L.setMatrix(Q),L}static recommendVersion(e,s,r,i){const o=this.calculateBitsNeeded(s,r,i,Re.getVersionForNumber(1)),x=this.chooseVersion(o,e),d=this.calculateBitsNeeded(s,r,i,x);return this.chooseVersion(d,e)}static calculateBitsNeeded(e,s,r,i){return s.getSize()+e.getCharacterCountBits(i)+r.getSize()}static getAlphanumericCode(e){return e<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,s=null){if(W.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(e))return Le.KANJI;let r=!1,i=!1;for(let o=0,x=e.length;o<x;++o){const d=e.charAt(o);if(Dt.isDigit(d))r=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)i=!0;else return Le.BYTE}return i?Le.ALPHANUMERIC:r?Le.NUMERIC:Le.BYTE}static isOnlyDoubleByteKanji(e){let s;try{s=me.encode(e,W.SJIS)}catch{return!1}const r=s.length;if(r%2!==0)return!1;for(let i=0;i<r;i+=2){const o=s[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,s,r,i){let o=Number.MAX_SAFE_INTEGER,x=-1;for(let d=0;d<fs.NUM_MASK_PATTERNS;d++){Ue.buildMatrix(e,s,r,d,i);let u=this.calculateMaskPenalty(i);u<o&&(o=u,x=d)}return x}static chooseVersion(e,s){for(let r=1;r<=40;r++){const i=Re.getVersionForNumber(r);if(Dt.willFit(e,i,s))return i}throw new gt("Data too big")}static willFit(e,s,r){const i=s.getTotalCodewords(),x=s.getECBlocksForLevel(r).getTotalECCodewords(),d=i-x,u=(e+7)/8;return d>=u}static terminateBits(e,s){const r=e*8;if(s.getSize()>r)throw new gt("data bits cannot fit in the QR Code"+s.getSize()+" > "+r);for(let x=0;x<4&&s.getSize()<r;++x)s.appendBit(!1);const i=s.getSize()&7;if(i>0)for(let x=i;x<8;x++)s.appendBit(!1);const o=e-s.getSizeInBytes();for(let x=0;x<o;++x)s.appendBits((x&1)===0?236:17,8);if(s.getSize()!==r)throw new gt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,s,r,i,o,x){if(i>=r)throw new gt("Block ID too large");const d=e%r,u=r-d,g=Math.floor(e/r),C=g+1,B=Math.floor(s/r),D=B+1,v=g-B,M=C-D;if(v!==M)throw new gt("EC bytes mismatch");if(r!==u+d)throw new gt("RS blocks mismatch");if(e!==(B+v)*u+(D+M)*d)throw new gt("Total bytes mismatch");i<u?(o[0]=B,x[0]=v):(o[0]=D,x[0]=M)}static interleaveWithECBytes(e,s,r,i){if(e.getSizeInBytes()!==r)throw new gt("Number of bits and data bytes does not match");let o=0,x=0,d=0;const u=new Array;for(let C=0;C<i;++C){const B=new Int32Array(1),D=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(s,r,i,C,B,D);const v=B[0],M=new Uint8Array(v);e.toBytes(8*o,M,0,v);const L=Dt.generateECBytes(M,D[0]);u.push(new Ml(M,L)),x=Math.max(x,v),d=Math.max(d,L.length),o+=B[0]}if(r!==o)throw new gt("Data bytes does not match offset");const g=new N;for(let C=0;C<x;++C)for(const B of u){const D=B.getDataBytes();C<D.length&&g.appendBits(D[C],8)}for(let C=0;C<d;++C)for(const B of u){const D=B.getErrorCorrectionBytes();C<D.length&&g.appendBits(D[C],8)}if(s!==g.getSizeInBytes())throw new gt("Interleaving error: "+s+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,s){const r=e.length,i=new Int32Array(r+s);for(let x=0;x<r;x++)i[x]=e[x]&255;new Ir(I.QR_CODE_FIELD_256).encode(i,s);const o=new Uint8Array(s);for(let x=0;x<s;x++)o[x]=i[r+x];return o}static appendModeInfo(e,s){s.appendBits(e.getBits(),4)}static appendLengthInfo(e,s,r,i){const o=r.getCharacterCountBits(s);if(e>=1<<o)throw new gt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)}static appendBytes(e,s,r,i){switch(s){case Le.NUMERIC:Dt.appendNumericBytes(e,r);break;case Le.ALPHANUMERIC:Dt.appendAlphanumericBytes(e,r);break;case Le.BYTE:Dt.append8BitBytes(e,r,i);break;case Le.KANJI:Dt.appendKanjiBytes(e,r);break;default:throw new gt("Invalid mode: "+s)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const s=Dt.getDigit(e);return s>=0&&s<=9}static appendNumericBytes(e,s){const r=e.length;let i=0;for(;i<r;){const o=Dt.getDigit(e.charAt(i));if(i+2<r){const x=Dt.getDigit(e.charAt(i+1)),d=Dt.getDigit(e.charAt(i+2));s.appendBits(o*100+x*10+d,10),i+=3}else if(i+1<r){const x=Dt.getDigit(e.charAt(i+1));s.appendBits(o*10+x,7),i+=2}else s.appendBits(o,4),i++}}static appendAlphanumericBytes(e,s){const r=e.length;let i=0;for(;i<r;){const o=Dt.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new gt;if(i+1<r){const x=Dt.getAlphanumericCode(e.charCodeAt(i+1));if(x===-1)throw new gt;s.appendBits(o*45+x,11),i+=2}else s.appendBits(o,6),i++}}static append8BitBytes(e,s,r){let i;try{i=me.encode(e,r)}catch(o){throw new gt(o)}for(let o=0,x=i.length;o!==x;o++){const d=i[o];s.appendBits(d,8)}}static appendKanjiBytes(e,s){let r;try{r=me.encode(e,W.SJIS)}catch(o){throw new gt(o)}const i=r.length;for(let o=0;o<i;o+=2){const x=r[o]&255,d=r[o+1]&255,u=x<<8&4294967295|d;let g=-1;if(u>=33088&&u<=40956?g=u-33088:u>=57408&&u<=60351&&(g=u-49472),g===-1)throw new gt("Invalid byte sequence");const C=(g>>8)*192+(g&255);s.appendBits(C,13)}}static appendECI(e,s){s.appendBits(Le.ECI.getBits(),4),s.appendBits(e.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class hs{write(e,s,r,i=null){if(e.length===0)throw new b("Found empty contents");if(s<0||r<0)throw new b("Requested dimensions are too small: "+s+"x"+r);let o=pt.L,x=hs.QUIET_ZONE_SIZE;i!==null&&(i.get(Rt.ERROR_CORRECTION)!==void 0&&(o=pt.fromString(i.get(Rt.ERROR_CORRECTION).toString())),i.get(Rt.MARGIN)!==void 0&&(x=Number.parseInt(i.get(Rt.MARGIN).toString(),10)));const d=Dt.encode(e,o,i);return this.renderResult(d,s,r,x)}writeToDom(e,s,r,i,o=null){typeof e=="string"&&(e=document.querySelector(e));const x=this.write(s,r,i,o);e&&e.appendChild(x)}renderResult(e,s,r,i){const o=e.getMatrix();if(o===null)throw new ie;const x=o.getWidth(),d=o.getHeight(),u=x+i*2,g=d+i*2,C=Math.max(s,u),B=Math.max(r,g),D=Math.min(Math.floor(C/u),Math.floor(B/g)),v=Math.floor((C-x*D)/2),M=Math.floor((B-d*D)/2),L=this.createSVGElement(C,B);for(let Y=0,Q=M;Y<d;Y++,Q+=D)for(let he=0,ge=v;he<x;he++,ge+=D)if(o.get(he,Y)===1){const ue=this.createSvgRectElement(ge,Q,D,D);L.appendChild(ue)}return L}createSVGElement(e,s){const r=document.createElementNS(hs.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",s.toString()),r}createSvgRectElement(e,s,r,i){const o=document.createElementNS(hs.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",s.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o}}hs.QUIET_ZONE_SIZE=4,hs.SVG_NS="http://www.w3.org/2000/svg";class Fs{encode(e,s,r,i,o){if(e.length===0)throw new b("Found empty contents");if(s!==we.QR_CODE)throw new b("Can only encode QR_CODE, but got "+s);if(r<0||i<0)throw new b(`Requested dimensions are too small: ${r}x${i}`);let x=pt.L,d=Fs.QUIET_ZONE_SIZE;o!==null&&(o.get(Rt.ERROR_CORRECTION)!==void 0&&(x=pt.fromString(o.get(Rt.ERROR_CORRECTION).toString())),o.get(Rt.MARGIN)!==void 0&&(d=Number.parseInt(o.get(Rt.MARGIN).toString(),10)));const u=Dt.encode(e,x,o);return Fs.renderResult(u,r,i,d)}static renderResult(e,s,r,i){const o=e.getMatrix();if(o===null)throw new ie;const x=o.getWidth(),d=o.getHeight(),u=x+i*2,g=d+i*2,C=Math.max(s,u),B=Math.max(r,g),D=Math.min(Math.floor(C/u),Math.floor(B/g)),v=Math.floor((C-x*D)/2),M=Math.floor((B-d*D)/2),L=new Fe(C,B);for(let Y=0,Q=M;Y<d;Y++,Q+=D)for(let he=0,ge=v;he<x;he++,ge+=D)o.get(he,Y)===1&&L.setRegion(ge,Q,D,D);return L}}Fs.QUIET_ZONE_SIZE=4;class Ll{encode(e,s,r,i,o){let x;switch(s){case we.QR_CODE:x=new Fs;break;default:throw new b("No encoder available for format "+s)}return x.encode(e,s,r,i,o)}}class v0 extends Se{constructor(e,s,r,i,o,x,d,u){if(super(x,d),this.yuvData=e,this.dataWidth=s,this.dataHeight=r,this.left=i,this.top=o,i+x>s||o+d>r)throw new b("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(x,d)}getRow(e,s){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(s==null||s.length<r)&&(s=new Uint8ClampedArray(r));const i=(e+this.top)*this.dataWidth+this.left;return J.arraycopy(this.yuvData,i,s,0,r),s}getMatrix(){const e=this.getWidth(),s=this.getHeight();if(e===this.dataWidth&&s===this.dataHeight)return this.yuvData;const r=e*s,i=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.yuvData,o,i,0,r),i;for(let x=0;x<s;x++){const d=x*e;J.arraycopy(this.yuvData,o,i,d,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,s,r,i){return new v0(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+s,r,i,!1)}renderThumbnail(){const e=this.getWidth()/v0.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/v0.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*s),i=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let x=0;x<s;x++){const d=x*e;for(let u=0;u<e;u++){const g=i[o+u*v0.THUMBNAIL_SCALE_FACTOR]&255;r[d+u]=4278190080|g*65793}o+=this.dataWidth*v0.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/v0.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/v0.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,s){const r=this.yuvData;for(let i=0,o=this.top*this.dataWidth+this.left;i<s;i++,o+=this.dataWidth){const x=o+e/2;for(let d=o,u=o+e-1;d<x;d++,u--){const g=r[d];r[d]=r[u],r[u]=g}}}invert(){return new Je(this)}}v0.THUMBNAIL_SCALE_FACTOR=2;class Sr extends Se{constructor(e,s,r,i,o,x,d){if(super(s,r),this.dataWidth=i,this.dataHeight=o,this.left=x,this.top=d,e.BYTES_PER_ELEMENT===4){const u=s*r,g=new Uint8ClampedArray(u);for(let C=0;C<u;C++){const B=e[C],D=B>>16&255,v=B>>7&510,M=B&255;g[C]=(D+v+M)/4&255}this.luminances=g}else this.luminances=e;if(i===void 0&&(this.dataWidth=s),o===void 0&&(this.dataHeight=r),x===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+r>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(e,s){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(s==null||s.length<r)&&(s=new Uint8ClampedArray(r));const i=(e+this.top)*this.dataWidth+this.left;return J.arraycopy(this.luminances,i,s,0,r),s}getMatrix(){const e=this.getWidth(),s=this.getHeight();if(e===this.dataWidth&&s===this.dataHeight)return this.luminances;const r=e*s,i=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return J.arraycopy(this.luminances,o,i,0,r),i;for(let x=0;x<s;x++){const d=x*e;J.arraycopy(this.luminances,o,i,d,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,s,r,i){return new Sr(this.luminances,r,i,this.dataWidth,this.dataHeight,this.left+e,this.top+s)}invert(){return new Je(this)}}class Vi extends W{static forName(e){return this.getCharacterSetECIByName(e)}}class Tr{}Tr.ISO_8859_1=W.ISO8859_1;class Hi{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Gi{static singletonList(e){return[e]}static min(e,s){return e.sort(s)[0]}}class Ul{constructor(e){this.previous=e}getPrevious(){return this.previous}}class ys extends Ul{constructor(e,s,r){super(e),this.value=s,this.bitCount=r}appendTo(e,s){e.appendBits(this.value,this.bitCount)}add(e,s){return new ys(this,e,s)}addBinaryShift(e,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ys(this,e,s)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+U.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Pr extends ys{constructor(e,s,r){super(e,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=r}appendTo(e,s){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(s[this.binaryShiftStart+r],8)}addBinaryShift(e,s){return new Pr(this,e,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function jl(p,e,s){return new Pr(p,e,s)}function Zs(p,e,s){return new ys(p,e,s)}const Vl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],es=0,Pn=1,g0=2,Wi=3,_0=4,Hl=new ys(null,0,0),Rr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Gl(p){for(let e of p)te.fill(e,-1);return p[es][_0]=0,p[Pn][_0]=0,p[Pn][es]=28,p[Wi][_0]=0,p[g0][_0]=0,p[g0][es]=15,p}const zi=Gl(te.createInt32Array(6,6));class k0{constructor(e,s,r,i){this.token=e,this.mode=s,this.binaryShiftByteCount=r,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,s){let r=this.bitCount,i=this.token;if(e!==this.mode){let x=Rr[this.mode][e];i=Zs(i,x&65535,x>>16),r+=x>>16}let o=e===g0?4:5;return i=Zs(i,s,o),new k0(i,e,0,r+o)}shiftAndAppend(e,s){let r=this.token,i=this.mode===g0?4:5;return r=Zs(r,zi[this.mode][e],i),r=Zs(r,s,5),new k0(r,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(e){let s=this.token,r=this.mode,i=this.bitCount;if(this.mode===_0||this.mode===g0){let d=Rr[r][es];s=Zs(s,d&65535,d>>16),i+=d>>16,r=es}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new k0(s,r,this.binaryShiftByteCount+1,i+o);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(e+1)),x}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=jl(s,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new k0(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let s=this.bitCount+(Rr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?s+=k0.calculateBinaryShiftCost(e)-k0.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(s+=10),s<=e.bitCount}toBitArray(e){let s=[];for(let i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())s.unshift(i);let r=new N;for(const i of s)i.appendTo(r,e);return r}toString(){return ae.format("%s bits=%d bytes=%d",Vl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}k0.INITIAL_STATE=new k0(Hl,es,0,0);function Wl(p){const e=ae.getCharCode(" "),s=ae.getCharCode("."),r=ae.getCharCode(",");p[es][e]=1;const i=ae.getCharCode("Z"),o=ae.getCharCode("A");for(let D=o;D<=i;D++)p[es][D]=D-o+2;p[Pn][e]=1;const x=ae.getCharCode("z"),d=ae.getCharCode("a");for(let D=d;D<=x;D++)p[Pn][D]=D-d+2;p[g0][e]=1;const u=ae.getCharCode("9"),g=ae.getCharCode("0");for(let D=g;D<=u;D++)p[g0][D]=D-g+2;p[g0][r]=12,p[g0][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<C.length;D++)p[Wi][ae.getCharCode(C[D])]=D;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<B.length;D++)ae.getCharCode(B[D])>0&&(p[_0][ae.getCharCode(B[D])]=D);return p}const Nr=Wl(te.createInt32Array(5,256));class qs{constructor(e){this.text=e}encode(){const e=ae.getCharCode(" "),s=ae.getCharCode(`
`);let r=Gi.singletonList(k0.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let x,d=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ae.getCharCode("\r"):x=d===s?2:0;break;case ae.getCharCode("."):x=d===e?3:0;break;case ae.getCharCode(","):x=d===e?4:0;break;case ae.getCharCode(":"):x=d===e?5:0;break;default:x=0}x>0?(r=qs.updateStateListForPair(r,o,x),o++):r=this.updateStateListForChar(r,o)}return Gi.min(r,(o,x)=>o.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,s){const r=[];for(let i of e)this.updateStateForChar(i,s,r);return qs.simplifyStates(r)}updateStateForChar(e,s,r){let i=this.text[s]&255,o=Nr[e.getMode()][i]>0,x=null;for(let d=0;d<=_0;d++){let u=Nr[d][i];if(u>0){if(x==null&&(x=e.endBinaryShift(s)),!o||d===e.getMode()||d===g0){const g=x.latchAndAppend(d,u);r.push(g)}if(!o&&zi[e.getMode()][d]>=0){const g=x.shiftAndAppend(d,u);r.push(g)}}}if(e.getBinaryShiftByteCount()>0||Nr[e.getMode()][i]===0){let d=e.addBinaryShiftChar(s);r.push(d)}}static updateStateListForPair(e,s,r){const i=[];for(let o of e)this.updateStateForPair(o,s,r,i);return this.simplifyStates(i)}static updateStateForPair(e,s,r,i){let o=e.endBinaryShift(s);if(i.push(o.latchAndAppend(_0,r)),e.getMode()!==_0&&i.push(o.shiftAndAppend(_0,r)),r===3||r===4){let x=o.latchAndAppend(g0,16-r).latchAndAppend(g0,1);i.push(x)}if(e.getBinaryShiftByteCount()>0){let x=e.addBinaryShiftChar(s).addBinaryShiftChar(s+1);i.push(x)}}static simplifyStates(e){let s=[];for(const r of e){let i=!0;for(const o of s){if(o.isBetterThanOrEqualTo(r)){i=!1;break}r.isBetterThanOrEqualTo(o)&&(s=s.filter(x=>x!==o))}i&&s.push(r)}return s}}class it{constructor(){}static encodeBytes(e){return it.encode(e,it.DEFAULT_EC_PERCENT,it.DEFAULT_AZTEC_LAYERS)}static encode(e,s,r){let i=new qs(e).encode(),o=U.truncDivision(i.getSize()*s,100)+11,x=i.getSize()+o,d,u,g,C,B;if(r!==it.DEFAULT_AZTEC_LAYERS){if(d=r<0,u=Math.abs(r),u>(d?it.MAX_NB_BITS_COMPACT:it.MAX_NB_BITS))throw new b(ae.format("Illegal value %s for layers",r));g=it.totalBitsInLayer(u,d),C=it.WORD_SIZE[u];let ue=g-g%C;if(B=it.stuffBits(i,C),B.getSize()+o>ue)throw new b("Data to large for user specified layer");if(d&&B.getSize()>C*64)throw new b("Data to large for user specified layer")}else{C=0,B=null;for(let ue=0;;ue++){if(ue>it.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(d=ue<=3,u=d?ue+1:ue,g=it.totalBitsInLayer(u,d),x>g)continue;(B==null||C!==it.WORD_SIZE[u])&&(C=it.WORD_SIZE[u],B=it.stuffBits(i,C));let st=g-g%C;if(!(d&&B.getSize()>C*64)&&B.getSize()+o<=st)break}}let D=it.generateCheckWords(B,g,C),v=B.getSize()/C,M=it.generateModeMessage(d,u,v),L=(d?11:14)+u*4,Y=new Int32Array(L),Q;if(d){Q=L;for(let ue=0;ue<Y.length;ue++)Y[ue]=ue}else{Q=L+1+2*U.truncDivision(U.truncDivision(L,2)-1,15);let ue=U.truncDivision(L,2),st=U.truncDivision(Q,2);for(let Ye=0;Ye<ue;Ye++){let r0=Ye+U.truncDivision(Ye,15);Y[ue-Ye-1]=st-r0-1,Y[ue+Ye]=st+r0+1}}let he=new Fe(Q);for(let ue=0,st=0;ue<u;ue++){let Ye=(u-ue)*4+(d?9:12);for(let r0=0;r0<Ye;r0++){let p0=r0*2;for(let i0=0;i0<2;i0++)D.get(st+p0+i0)&&he.set(Y[ue*2+i0],Y[ue*2+r0]),D.get(st+Ye*2+p0+i0)&&he.set(Y[ue*2+r0],Y[L-1-ue*2-i0]),D.get(st+Ye*4+p0+i0)&&he.set(Y[L-1-ue*2-i0],Y[L-1-ue*2-r0]),D.get(st+Ye*6+p0+i0)&&he.set(Y[L-1-ue*2-r0],Y[ue*2+i0])}st+=Ye*8}if(it.drawModeMessage(he,d,Q,M),d)it.drawBullsEye(he,U.truncDivision(Q,2),5);else{it.drawBullsEye(he,U.truncDivision(Q,2),7);for(let ue=0,st=0;ue<U.truncDivision(L,2)-1;ue+=15,st+=16)for(let Ye=U.truncDivision(Q,2)&1;Ye<Q;Ye+=2)he.set(U.truncDivision(Q,2)-st,Ye),he.set(U.truncDivision(Q,2)+st,Ye),he.set(Ye,U.truncDivision(Q,2)-st),he.set(Ye,U.truncDivision(Q,2)+st)}let ge=new Hi;return ge.setCompact(d),ge.setSize(Q),ge.setLayers(u),ge.setCodeWords(v),ge.setMatrix(he),ge}static drawBullsEye(e,s,r){for(let i=0;i<r;i+=2)for(let o=s-i;o<=s+i;o++)e.set(o,s-i),e.set(o,s+i),e.set(s-i,o),e.set(s+i,o);e.set(s-r,s-r),e.set(s-r+1,s-r),e.set(s-r,s-r+1),e.set(s+r,s-r),e.set(s+r,s-r+1),e.set(s+r,s+r-1)}static generateModeMessage(e,s,r){let i=new N;return e?(i.appendBits(s-1,2),i.appendBits(r-1,6),i=it.generateCheckWords(i,28,4)):(i.appendBits(s-1,5),i.appendBits(r-1,11),i=it.generateCheckWords(i,40,4)),i}static drawModeMessage(e,s,r,i){let o=U.truncDivision(r,2);if(s)for(let x=0;x<7;x++){let d=o-3+x;i.get(x)&&e.set(d,o-5),i.get(x+7)&&e.set(o+5,d),i.get(20-x)&&e.set(d,o+5),i.get(27-x)&&e.set(o-5,d)}else for(let x=0;x<10;x++){let d=o-5+x+U.truncDivision(x,5);i.get(x)&&e.set(d,o-7),i.get(x+10)&&e.set(o+7,d),i.get(29-x)&&e.set(d,o+7),i.get(39-x)&&e.set(o-7,d)}}static generateCheckWords(e,s,r){let i=e.getSize()/r,o=new Ir(it.getGF(r)),x=U.truncDivision(s,r),d=it.bitsToWords(e,r,x);o.encode(d,x-i);let u=s%r,g=new N;g.appendBits(0,u);for(const C of Array.from(d))g.appendBits(C,r);return g}static bitsToWords(e,s,r){let i=new Int32Array(r),o,x;for(o=0,x=e.getSize()/s;o<x;o++){let d=0;for(let u=0;u<s;u++)d|=e.get(o*s+u)?1<<s-u-1:0;i[o]=d}return i}static getGF(e){switch(e){case 4:return I.AZTEC_PARAM;case 6:return I.AZTEC_DATA_6;case 8:return I.AZTEC_DATA_8;case 10:return I.AZTEC_DATA_10;case 12:return I.AZTEC_DATA_12;default:throw new b("Unsupported word size "+e)}}static stuffBits(e,s){let r=new N,i=e.getSize(),o=(1<<s)-2;for(let x=0;x<i;x+=s){let d=0;for(let u=0;u<s;u++)(x+u>=i||e.get(x+u))&&(d|=1<<s-1-u);(d&o)===o?(r.appendBits(d&o,s),x--):(d&o)===0?(r.appendBits(d|1,s),x--):r.appendBits(d,s)}return r}static totalBitsInLayer(e,s){return((s?88:112)+16*e)*e}}it.DEFAULT_EC_PERCENT=33,it.DEFAULT_AZTEC_LAYERS=0,it.MAX_NB_BITS=32,it.MAX_NB_BITS_COMPACT=4,it.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Rn{encode(e,s,r,i){return this.encodeWithHints(e,s,r,i,null)}encodeWithHints(e,s,r,i,o){let x=Tr.ISO_8859_1,d=it.DEFAULT_EC_PERCENT,u=it.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Rt.CHARACTER_SET)&&(x=Vi.forName(o.get(Rt.CHARACTER_SET).toString())),o.has(Rt.ERROR_CORRECTION)&&(d=U.parseInt(o.get(Rt.ERROR_CORRECTION).toString())),o.has(Rt.AZTEC_LAYERS)&&(u=U.parseInt(o.get(Rt.AZTEC_LAYERS).toString()))),Rn.encodeLayers(e,s,r,i,x,d,u)}static encodeLayers(e,s,r,i,o,x,d){if(s!==we.AZTEC)throw new b("Can only encode AZTEC, but got "+s);let u=it.encode(ae.getBytes(e,o),x,d);return Rn.renderResult(u,r,i)}static renderResult(e,s,r){let i=e.getMatrix();if(i==null)throw new ie;let o=i.getWidth(),x=i.getHeight(),d=Math.max(s,o),u=Math.max(r,x),g=Math.min(d/o,u/x),C=(d-o*g)/2,B=(u-x*g)/2,D=new Fe(d,u);for(let v=0,M=B;v<x;v++,M+=g)for(let L=0,Y=C;L<o;L++,Y+=g)i.get(L,v)&&D.setRegion(Y,M,g,g);return D}}c.AbstractExpandedDecoder=pr,c.ArgumentException=F,c.ArithmeticException=T,c.AztecCode=Hi,c.AztecCodeReader=Zt,c.AztecCodeWriter=Rn,c.AztecDecoder=ce,c.AztecDetector=Lt,c.AztecDetectorResult=ve,c.AztecEncoder=it,c.AztecHighLevelEncoder=qs,c.AztecPoint=at,c.BarcodeFormat=we,c.Binarizer=V,c.BinaryBitmap=P,c.BitArray=N,c.BitMatrix=Fe,c.BitSource=Dr,c.BrowserAztecCodeReader=u0,c.BrowserBarcodeReader=Bl,c.BrowserCodeReader=lt,c.BrowserDatamatrixCodeReader=wl,c.BrowserMultiFormatReader=Rl,c.BrowserPDF417Reader=Nl,c.BrowserQRCodeReader=Ol,c.BrowserQRCodeSvgWriter=hs,c.CharacterSetECI=W,c.ChecksumException=S,c.Code128Reader=Be,c.Code39Reader=rt,c.DataMatrixDecodedBitStreamParser=Z0,c.DataMatrixReader=q0,c.DecodeHintType=G,c.DecoderResult=Ce,c.DefaultGridSampler=ht,c.DetectorResult=Ne,c.EAN13Reader=as,c.EncodeHintType=Rt,c.Exception=m,c.FormatException=R,c.GenericGF=I,c.GenericGFPoly=Ve,c.GlobalHistogramBinarizer=ye,c.GridSampler=He,c.GridSamplerInstance=$e,c.HTMLCanvasElementLuminanceSource=Ke,c.HybridBinarizer=xe,c.ITFReader=et,c.IllegalArgumentException=b,c.IllegalStateException=ie,c.InvertedLuminanceSource=Je,c.LuminanceSource=Se,c.MathUtils=oe,c.MultiFormatOneDReader=ws,c.MultiFormatReader=ji,c.MultiFormatWriter=Ll,c.NotFoundException=j,c.OneDReader=At,c.PDF417DecodedBitStreamParser=q,c.PDF417DecoderErrorCorrection=Ri,c.PDF417Reader=jt,c.PDF417ResultMetadata=Oi,c.PerspectiveTransform=We,c.PlanarYUVLuminanceSource=v0,c.QRCodeByteMatrix=Tn,c.QRCodeDataMask=h0,c.QRCodeDecodedBitStreamParser=yt,c.QRCodeDecoderErrorCorrectionLevel=pt,c.QRCodeDecoderFormatInformation=zt,c.QRCodeEncoder=Dt,c.QRCodeEncoderQRCode=fs,c.QRCodeMaskUtil=It,c.QRCodeMatrixUtil=Ue,c.QRCodeMode=Le,c.QRCodeReader=Q0,c.QRCodeVersion=Re,c.QRCodeWriter=Fs,c.RGBLuminanceSource=Sr,c.RSS14Reader=kt,c.RSSExpandedReader=de,c.ReaderException=Sn,c.ReedSolomonDecoder=le,c.ReedSolomonEncoder=Ir,c.ReedSolomonException=H,c.Result=Te,c.ResultMetadataType=Ee,c.ResultPoint=X,c.StringUtils=ae,c.UnsupportedOperationException=be,c.VideoInputDevice=ke,c.WhiteRectangleDetector=Pe,c.WriterException=gt,c.ZXingArrays=te,c.ZXingCharset=Vi,c.ZXingInteger=U,c.ZXingStandardCharsets=Tr,c.ZXingStringBuilder=pe,c.ZXingStringEncoding=me,c.ZXingSystem=J,c.createAbstractExpandedDecoder=Ti,Object.defineProperty(c,"__esModule",{value:!0})}))})(nn,nn.exports)),nn.exports}Tu();var _i=(function(){var n=function(t,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var E in l)Object.prototype.hasOwnProperty.call(l,E)&&(f[E]=l[E])},n(t,c)};return function(t,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(t,c);function f(){this.constructor=t}t.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})(),El=(function(){function n(t,c){this.name=t,this.track=c}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(t){var c={};c[this.name]=t;var f={advanced:[c]};return this.track.applyConstraints(f)},n.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var c=t[this.name];return c}return null},n})(),Pu=(function(n){_i(t,n);function t(c,f){return n.call(this,c,f)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(c){var f={};f[this.name]=c;var l={advanced:[f]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),f=c[this.name];return{min:f.min,max:f.max,step:f.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(El);(function(n){_i(t,n);function t(c){return n.call(this,"zoom",c)||this}return t})(Pu);(function(n){_i(t,n);function t(c){return n.call(this,"torch",c)||this}return t})(El);var zo;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(zo||(zo={}));var Ru=(function(){var n=function(t,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var E in l)Object.prototype.hasOwnProperty.call(l,E)&&(f[E]=l[E])},n(t,c)};return function(t,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(t,c);function f(){this.constructor=t}t.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})();(function(n){Ru(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(ku);var Jo;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Jo||(Jo={}));var zn={exports:{}},Nu=zn.exports,Xo;function Ou(){return Xo||(Xo=1,(function(n,t){(function(f,l){n.exports=l()})(typeof self<"u"?self:Nu,function(){return(function(c){var f={};function l(E){if(f[E])return f[E].exports;var h=f[E]={i:E,l:!1,exports:{}};return c[E].call(h.exports,h,h.exports,l),h.l=!0,h.exports}return l.m=c,l.c=f,l.d=function(E,h,A){l.o(E,h)||Object.defineProperty(E,h,{configurable:!1,enumerable:!0,get:A})},l.n=function(E){var h=E&&E.__esModule?function(){return E.default}:function(){return E};return l.d(h,"a",h),h},l.o=function(E,h){return Object.prototype.hasOwnProperty.call(E,h)},l.p="",l(l.s=3)})([(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=(function(){function h(A,w){this.width=w,this.height=A.length/w,this.data=A}return h.createEmpty=function(A,w){return new h(new Uint8ClampedArray(A*w),A)},h.prototype.get=function(A,w){return A<0||A>=this.width||w<0||w>=this.height?!1:!!this.data[w*this.width+A]},h.prototype.set=function(A,w,m){this.data[w*this.width+A]=m?1:0},h.prototype.setRegion=function(A,w,m,F,b){for(var P=w;P<w+F;P++)for(var S=A;S<A+m;S++)this.set(S,P,!!b)},h})();f.BitMatrix=E}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(2);function h(w,m){return w^m}f.addOrSubtractGF=h;var A=(function(){function w(m,F,b){this.primitive=m,this.size=F,this.generatorBase=b,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var P=1,S=0;S<this.size;S++)this.expTable[S]=P,P=P*2,P>=this.size&&(P=(P^this.primitive)&this.size-1);for(var S=0;S<this.size-1;S++)this.logTable[this.expTable[S]]=S;this.zero=new E.default(this,Uint8ClampedArray.from([0])),this.one=new E.default(this,Uint8ClampedArray.from([1]))}return w.prototype.multiply=function(m,F){return m===0||F===0?0:this.expTable[(this.logTable[m]+this.logTable[F])%(this.size-1)]},w.prototype.inverse=function(m){if(m===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[m]-1]},w.prototype.buildMonomial=function(m,F){if(m<0)throw new Error("Invalid monomial degree less than 0");if(F===0)return this.zero;var b=new Uint8ClampedArray(m+1);return b[0]=F,new E.default(this,b)},w.prototype.log=function(m){if(m===0)throw new Error("Can't take log(0)");return this.logTable[m]},w.prototype.exp=function(m){return this.expTable[m]},w})();f.default=A}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(1),h=(function(){function A(w,m){if(m.length===0)throw new Error("No coefficients.");this.field=w;var F=m.length;if(F>1&&m[0]===0){for(var b=1;b<F&&m[b]===0;)b++;if(b===F)this.coefficients=w.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(F-b);for(var P=0;P<this.coefficients.length;P++)this.coefficients[P]=m[b+P]}}else this.coefficients=m}return A.prototype.degree=function(){return this.coefficients.length-1},A.prototype.isZero=function(){return this.coefficients[0]===0},A.prototype.getCoefficient=function(w){return this.coefficients[this.coefficients.length-1-w]},A.prototype.addOrSubtract=function(w){var m;if(this.isZero())return w;if(w.isZero())return this;var F=this.coefficients,b=w.coefficients;F.length>b.length&&(m=[b,F],F=m[0],b=m[1]);for(var P=new Uint8ClampedArray(b.length),S=b.length-F.length,V=0;V<S;V++)P[V]=b[V];for(var V=S;V<b.length;V++)P[V]=E.addOrSubtractGF(F[V-S],b[V]);return new A(this.field,P)},A.prototype.multiply=function(w){if(w===0)return this.field.zero;if(w===1)return this;for(var m=this.coefficients.length,F=new Uint8ClampedArray(m),b=0;b<m;b++)F[b]=this.field.multiply(this.coefficients[b],w);return new A(this.field,F)},A.prototype.multiplyPoly=function(w){if(this.isZero()||w.isZero())return this.field.zero;for(var m=this.coefficients,F=m.length,b=w.coefficients,P=b.length,S=new Uint8ClampedArray(F+P-1),V=0;V<F;V++)for(var J=m[V],$=0;$<P;$++)S[V+$]=E.addOrSubtractGF(S[V+$],this.field.multiply(J,b[$]));return new A(this.field,S)},A.prototype.multiplyByMonomial=function(w,m){if(w<0)throw new Error("Invalid degree less than 0");if(m===0)return this.field.zero;for(var F=this.coefficients.length,b=new Uint8ClampedArray(F+w),P=0;P<F;P++)b[P]=this.field.multiply(this.coefficients[P],m);return new A(this.field,b)},A.prototype.evaluateAt=function(w){var m=0;if(w===0)return this.getCoefficient(0);var F=this.coefficients.length;if(w===1)return this.coefficients.forEach(function(P){m=E.addOrSubtractGF(m,P)}),m;m=this.coefficients[0];for(var b=1;b<F;b++)m=E.addOrSubtractGF(this.field.multiply(w,m),this.coefficients[b]);return m},A})();f.default=h}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(4),h=l(5),A=l(11),w=l(12);function m(P){var S=w.locate(P);if(!S)return null;for(var V=0,J=S;V<J.length;V++){var $=J[V],ne=A.extract(P,$),te=h.decode(ne.matrix);if(te)return{binaryData:te.bytes,data:te.text,chunks:te.chunks,version:te.version,location:{topRightCorner:ne.mappingFunction($.dimension,0),topLeftCorner:ne.mappingFunction(0,0),bottomRightCorner:ne.mappingFunction($.dimension,$.dimension),bottomLeftCorner:ne.mappingFunction(0,$.dimension),topRightFinderPattern:$.topRight,topLeftFinderPattern:$.topLeft,bottomLeftFinderPattern:$.bottomLeft,bottomRightAlignmentPattern:$.alignmentPattern}}}return null}var F={inversionAttempts:"attemptBoth"};function b(P,S,V,J){J===void 0&&(J={});var $=F;Object.keys($||{}).forEach(function(R){$[R]=J[R]||$[R]});var ne=$.inversionAttempts==="attemptBoth"||$.inversionAttempts==="invertFirst",te=$.inversionAttempts==="onlyInvert"||$.inversionAttempts==="invertFirst",U=E.binarize(P,S,V,ne),N=U.binarized,z=U.inverted,G=m(te?z:N);return!G&&($.inversionAttempts==="attemptBoth"||$.inversionAttempts==="invertFirst")&&(G=m(te?N:z)),G}b.default=b,f.default=b}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(0),h=8,A=24;function w(b,P,S){return b<P?P:b>S?S:b}var m=(function(){function b(P,S){this.width=P,this.data=new Uint8ClampedArray(P*S)}return b.prototype.get=function(P,S){return this.data[S*this.width+P]},b.prototype.set=function(P,S,V){this.data[S*this.width+P]=V},b})();function F(b,P,S,V){if(b.length!==P*S*4)throw new Error("Malformed data passed to binarizer.");for(var J=new m(P,S),$=0;$<P;$++)for(var ne=0;ne<S;ne++){var te=b[(ne*P+$)*4+0],U=b[(ne*P+$)*4+1],N=b[(ne*P+$)*4+2];J.set($,ne,.2126*te+.7152*U+.0722*N)}for(var z=Math.ceil(P/h),G=Math.ceil(S/h),R=new m(z,G),re=0;re<G;re++)for(var W=0;W<z;W++){for(var be=0,me=1/0,ae=0,ne=0;ne<h;ne++)for(var $=0;$<h;$++){var pe=J.get(W*h+$,re*h+ne);be+=pe,me=Math.min(me,pe),ae=Math.max(ae,pe)}var Fe=be/Math.pow(h,2);if(ae-me<=A&&(Fe=me/2,re>0&&W>0)){var j=(R.get(W,re-1)+2*R.get(W-1,re)+R.get(W-1,re-1))/4;me<j&&(Fe=j)}R.set(W,re,Fe)}var ye=E.BitMatrix.createEmpty(P,S),xe=null;V&&(xe=E.BitMatrix.createEmpty(P,S));for(var re=0;re<G;re++)for(var W=0;W<z;W++){for(var Se=w(W,2,z-3),Je=w(re,2,G-3),be=0,Ke=-2;Ke<=2;Ke++)for(var ke=-2;ke<=2;ke++)be+=R.get(Se+Ke,Je+ke);for(var Me=be/25,Ke=0;Ke<h;Ke++)for(var ke=0;ke<h;ke++){var $=W*h+Ke,ne=re*h+ke,lt=J.get($,ne);ye.set($,ne,lt<=Me),V&&xe.set($,ne,!(lt<=Me))}}return V?{binarized:ye,inverted:xe}:{binarized:ye}}f.binarize=F}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(0),h=l(6),A=l(9),w=l(10);function m(N,z){for(var G=N^z,R=0;G;)R++,G&=G-1;return R}function F(N,z){return z<<1|N}var b=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],P=[function(N){return(N.y+N.x)%2===0},function(N){return N.y%2===0},function(N){return N.x%3===0},function(N){return(N.y+N.x)%3===0},function(N){return(Math.floor(N.y/2)+Math.floor(N.x/3))%2===0},function(N){return N.x*N.y%2+N.x*N.y%3===0},function(N){return(N.y*N.x%2+N.y*N.x%3)%2===0},function(N){return((N.y+N.x)%2+N.y*N.x%3)%2===0}];function S(N){var z=17+4*N.versionNumber,G=E.BitMatrix.createEmpty(z,z);G.setRegion(0,0,9,9,!0),G.setRegion(z-8,0,8,9,!0),G.setRegion(0,z-8,9,8,!0);for(var R=0,re=N.alignmentPatternCenters;R<re.length;R++)for(var W=re[R],be=0,me=N.alignmentPatternCenters;be<me.length;be++){var ae=me[be];W===6&&ae===6||W===6&&ae===z-7||W===z-7&&ae===6||G.setRegion(W-2,ae-2,5,5,!0)}return G.setRegion(6,9,1,z-17,!0),G.setRegion(9,6,z-17,1,!0),N.versionNumber>6&&(G.setRegion(z-11,0,3,6,!0),G.setRegion(0,z-11,6,3,!0)),G}function V(N,z,G){for(var R=P[G.dataMask],re=N.height,W=S(z),be=[],me=0,ae=0,pe=!0,Fe=re-1;Fe>0;Fe-=2){Fe===6&&Fe--;for(var j=0;j<re;j++)for(var ye=pe?re-1-j:j,xe=0;xe<2;xe++){var Se=Fe-xe;if(!W.get(Se,ye)){ae++;var Je=N.get(Se,ye);R({y:ye,x:Se})&&(Je=!Je),me=F(Je,me),ae===8&&(be.push(me),ae=0,me=0)}}pe=!pe}return be}function J(N){var z=N.height,G=Math.floor((z-17)/4);if(G<=6)return w.VERSIONS[G-1];for(var R=0,re=5;re>=0;re--)for(var W=z-9;W>=z-11;W--)R=F(N.get(W,re),R);for(var be=0,W=5;W>=0;W--)for(var re=z-9;re>=z-11;re--)be=F(N.get(W,re),be);for(var me=1/0,ae,pe=0,Fe=w.VERSIONS;pe<Fe.length;pe++){var j=Fe[pe];if(j.infoBits===R||j.infoBits===be)return j;var ye=m(R,j.infoBits);ye<me&&(ae=j,me=ye),ye=m(be,j.infoBits),ye<me&&(ae=j,me=ye)}if(me<=3)return ae}function $(N){for(var z=0,G=0;G<=8;G++)G!==6&&(z=F(N.get(G,8),z));for(var R=7;R>=0;R--)R!==6&&(z=F(N.get(8,R),z));for(var re=N.height,W=0,R=re-1;R>=re-7;R--)W=F(N.get(8,R),W);for(var G=re-8;G<re;G++)W=F(N.get(G,8),W);for(var be=1/0,me=null,ae=0,pe=b;ae<pe.length;ae++){var Fe=pe[ae],j=Fe.bits,ye=Fe.formatInfo;if(j===z||j===W)return ye;var xe=m(z,j);xe<be&&(me=ye,be=xe),z!==W&&(xe=m(W,j),xe<be&&(me=ye,be=xe))}return be<=3?me:null}function ne(N,z,G){var R=z.errorCorrectionLevels[G],re=[],W=0;if(R.ecBlocks.forEach(function(Je){for(var Ke=0;Ke<Je.numBlocks;Ke++)re.push({numDataCodewords:Je.dataCodewordsPerBlock,codewords:[]}),W+=Je.dataCodewordsPerBlock+R.ecCodewordsPerBlock}),N.length<W)return null;N=N.slice(0,W);for(var be=R.ecBlocks[0].dataCodewordsPerBlock,me=0;me<be;me++)for(var ae=0,pe=re;ae<pe.length;ae++){var Fe=pe[ae];Fe.codewords.push(N.shift())}if(R.ecBlocks.length>1)for(var j=R.ecBlocks[0].numBlocks,ye=R.ecBlocks[1].numBlocks,me=0;me<ye;me++)re[j+me].codewords.push(N.shift());for(;N.length>0;)for(var xe=0,Se=re;xe<Se.length;xe++){var Fe=Se[xe];Fe.codewords.push(N.shift())}return re}function te(N){var z=J(N);if(!z)return null;var G=$(N);if(!G)return null;var R=V(N,z,G),re=ne(R,z,G.errorCorrectionLevel);if(!re)return null;for(var W=re.reduce(function(xe,Se){return xe+Se.numDataCodewords},0),be=new Uint8ClampedArray(W),me=0,ae=0,pe=re;ae<pe.length;ae++){var Fe=pe[ae],j=A.decode(Fe.codewords,Fe.codewords.length-Fe.numDataCodewords);if(!j)return null;for(var ye=0;ye<Fe.numDataCodewords;ye++)be[me++]=j[ye]}try{return h.decode(be,z.versionNumber)}catch{return null}}function U(N){if(N==null)return null;var z=te(N);if(z)return z;for(var G=0;G<N.width;G++)for(var R=G+1;R<N.height;R++)N.get(G,R)!==N.get(R,G)&&(N.set(G,R,!N.get(G,R)),N.set(R,G,!N.get(R,G)));return te(N)}f.decode=U}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(7),h=l(8),A;(function(J){J.Numeric="numeric",J.Alphanumeric="alphanumeric",J.Byte="byte",J.Kanji="kanji",J.ECI="eci"})(A=f.Mode||(f.Mode={}));var w;(function(J){J[J.Terminator=0]="Terminator",J[J.Numeric=1]="Numeric",J[J.Alphanumeric=2]="Alphanumeric",J[J.Byte=4]="Byte",J[J.Kanji=8]="Kanji",J[J.ECI=7]="ECI"})(w||(w={}));function m(J,$){for(var ne=[],te="",U=[10,12,14][$],N=J.readBits(U);N>=3;){var z=J.readBits(10);if(z>=1e3)throw new Error("Invalid numeric value above 999");var G=Math.floor(z/100),R=Math.floor(z/10)%10,re=z%10;ne.push(48+G,48+R,48+re),te+=G.toString()+R.toString()+re.toString(),N-=3}if(N===2){var z=J.readBits(7);if(z>=100)throw new Error("Invalid numeric value above 99");var G=Math.floor(z/10),R=z%10;ne.push(48+G,48+R),te+=G.toString()+R.toString()}else if(N===1){var z=J.readBits(4);if(z>=10)throw new Error("Invalid numeric value above 9");ne.push(48+z),te+=z.toString()}return{bytes:ne,text:te}}var F=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function b(J,$){for(var ne=[],te="",U=[9,11,13][$],N=J.readBits(U);N>=2;){var z=J.readBits(11),G=Math.floor(z/45),R=z%45;ne.push(F[G].charCodeAt(0),F[R].charCodeAt(0)),te+=F[G]+F[R],N-=2}if(N===1){var G=J.readBits(6);ne.push(F[G].charCodeAt(0)),te+=F[G]}return{bytes:ne,text:te}}function P(J,$){for(var ne=[],te="",U=[8,16,16][$],N=J.readBits(U),z=0;z<N;z++){var G=J.readBits(8);ne.push(G)}try{te+=decodeURIComponent(ne.map(function(R){return"%"+("0"+R.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:ne,text:te}}function S(J,$){for(var ne=[],te="",U=[8,10,12][$],N=J.readBits(U),z=0;z<N;z++){var G=J.readBits(13),R=Math.floor(G/192)<<8|G%192;R<7936?R+=33088:R+=49472,ne.push(R>>8,R&255),te+=String.fromCharCode(h.shiftJISTable[R])}return{bytes:ne,text:te}}function V(J,$){for(var ne,te,U,N,z=new E.BitStream(J),G=$<=9?0:$<=26?1:2,R={text:"",bytes:[],chunks:[],version:$};z.available()>=4;){var re=z.readBits(4);if(re===w.Terminator)return R;if(re===w.ECI)z.readBits(1)===0?R.chunks.push({type:A.ECI,assignmentNumber:z.readBits(7)}):z.readBits(1)===0?R.chunks.push({type:A.ECI,assignmentNumber:z.readBits(14)}):z.readBits(1)===0?R.chunks.push({type:A.ECI,assignmentNumber:z.readBits(21)}):R.chunks.push({type:A.ECI,assignmentNumber:-1});else if(re===w.Numeric){var W=m(z,G);R.text+=W.text,(ne=R.bytes).push.apply(ne,W.bytes),R.chunks.push({type:A.Numeric,text:W.text})}else if(re===w.Alphanumeric){var be=b(z,G);R.text+=be.text,(te=R.bytes).push.apply(te,be.bytes),R.chunks.push({type:A.Alphanumeric,text:be.text})}else if(re===w.Byte){var me=P(z,G);R.text+=me.text,(U=R.bytes).push.apply(U,me.bytes),R.chunks.push({type:A.Byte,bytes:me.bytes,text:me.text})}else if(re===w.Kanji){var ae=S(z,G);R.text+=ae.text,(N=R.bytes).push.apply(N,ae.bytes),R.chunks.push({type:A.Kanji,bytes:ae.bytes,text:ae.text})}}if(z.available()===0||z.readBits(z.available())===0)return R}f.decode=V}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=(function(){function h(A){this.byteOffset=0,this.bitOffset=0,this.bytes=A}return h.prototype.readBits=function(A){if(A<1||A>32||A>this.available())throw new Error("Cannot read "+A.toString()+" bits");var w=0;if(this.bitOffset>0){var m=8-this.bitOffset,F=A<m?A:m,b=m-F,P=255>>8-F<<b;w=(this.bytes[this.byteOffset]&P)>>b,A-=F,this.bitOffset+=F,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(A>0){for(;A>=8;)w=w<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,A-=8;if(A>0){var b=8-A,P=255>>b<<b;w=w<<A|(this.bytes[this.byteOffset]&P)>>b,this.bitOffset+=A}}return w},h.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},h})();f.BitStream=E}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0}),f.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(1),h=l(2);function A(b,P,S,V){var J;P.degree()<S.degree()&&(J=[S,P],P=J[0],S=J[1]);for(var $=P,ne=S,te=b.zero,U=b.one;ne.degree()>=V/2;){var N=$,z=te;if($=ne,te=U,$.isZero())return null;ne=N;for(var G=b.zero,R=$.getCoefficient($.degree()),re=b.inverse(R);ne.degree()>=$.degree()&&!ne.isZero();){var W=ne.degree()-$.degree(),be=b.multiply(ne.getCoefficient(ne.degree()),re);G=G.addOrSubtract(b.buildMonomial(W,be)),ne=ne.addOrSubtract($.multiplyByMonomial(W,be))}if(U=G.multiplyPoly(te).addOrSubtract(z),ne.degree()>=$.degree())return null}var me=U.getCoefficient(0);if(me===0)return null;var ae=b.inverse(me);return[U.multiply(ae),ne.multiply(ae)]}function w(b,P){var S=P.degree();if(S===1)return[P.getCoefficient(1)];for(var V=new Array(S),J=0,$=1;$<b.size&&J<S;$++)P.evaluateAt($)===0&&(V[J]=b.inverse($),J++);return J!==S?null:V}function m(b,P,S){for(var V=S.length,J=new Array(V),$=0;$<V;$++){for(var ne=b.inverse(S[$]),te=1,U=0;U<V;U++)$!==U&&(te=b.multiply(te,E.addOrSubtractGF(1,b.multiply(S[U],ne))));J[$]=b.multiply(P.evaluateAt(ne),b.inverse(te)),b.generatorBase!==0&&(J[$]=b.multiply(J[$],ne))}return J}function F(b,P){var S=new Uint8ClampedArray(b.length);S.set(b);for(var V=new E.default(285,256,0),J=new h.default(V,S),$=new Uint8ClampedArray(P),ne=!1,te=0;te<P;te++){var U=J.evaluateAt(V.exp(te+V.generatorBase));$[$.length-1-te]=U,U!==0&&(ne=!0)}if(!ne)return S;var N=new h.default(V,$),z=A(V,V.buildMonomial(P,1),N,P);if(z===null)return null;var G=w(V,z[0]);if(G==null)return null;for(var R=m(V,z[1],G),re=0;re<G.length;re++){var W=S.length-1-V.log(G[re]);if(W<0)return null;S[W]=E.addOrSubtractGF(S[W],R[re])}return S}f.decode=F}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0}),f.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=l(0);function h(F,b,P,S){var V=F.x-b.x+P.x-S.x,J=F.y-b.y+P.y-S.y;if(V===0&&J===0)return{a11:b.x-F.x,a12:b.y-F.y,a13:0,a21:P.x-b.x,a22:P.y-b.y,a23:0,a31:F.x,a32:F.y,a33:1};var $=b.x-P.x,ne=S.x-P.x,te=b.y-P.y,U=S.y-P.y,N=$*U-ne*te,z=(V*U-ne*J)/N,G=($*J-V*te)/N;return{a11:b.x-F.x+z*b.x,a12:b.y-F.y+z*b.y,a13:z,a21:S.x-F.x+G*S.x,a22:S.y-F.y+G*S.y,a23:G,a31:F.x,a32:F.y,a33:1}}function A(F,b,P,S){var V=h(F,b,P,S);return{a11:V.a22*V.a33-V.a23*V.a32,a12:V.a13*V.a32-V.a12*V.a33,a13:V.a12*V.a23-V.a13*V.a22,a21:V.a23*V.a31-V.a21*V.a33,a22:V.a11*V.a33-V.a13*V.a31,a23:V.a13*V.a21-V.a11*V.a23,a31:V.a21*V.a32-V.a22*V.a31,a32:V.a12*V.a31-V.a11*V.a32,a33:V.a11*V.a22-V.a12*V.a21}}function w(F,b){return{a11:F.a11*b.a11+F.a21*b.a12+F.a31*b.a13,a12:F.a12*b.a11+F.a22*b.a12+F.a32*b.a13,a13:F.a13*b.a11+F.a23*b.a12+F.a33*b.a13,a21:F.a11*b.a21+F.a21*b.a22+F.a31*b.a23,a22:F.a12*b.a21+F.a22*b.a22+F.a32*b.a23,a23:F.a13*b.a21+F.a23*b.a22+F.a33*b.a23,a31:F.a11*b.a31+F.a21*b.a32+F.a31*b.a33,a32:F.a12*b.a31+F.a22*b.a32+F.a32*b.a33,a33:F.a13*b.a31+F.a23*b.a32+F.a33*b.a33}}function m(F,b){for(var P=A({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),S=h(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),V=w(S,P),J=E.BitMatrix.createEmpty(b.dimension,b.dimension),$=function(G,R){var re=V.a13*G+V.a23*R+V.a33;return{x:(V.a11*G+V.a21*R+V.a31)/re,y:(V.a12*G+V.a22*R+V.a32)/re}},ne=0;ne<b.dimension;ne++)for(var te=0;te<b.dimension;te++){var U=te+.5,N=ne+.5,z=$(U,N);J.set(te,ne,F.get(Math.floor(z.x),Math.floor(z.y)))}return{matrix:J,mappingFunction:$}}f.extract=m}),(function(c,f,l){Object.defineProperty(f,"__esModule",{value:!0});var E=4,h=.5,A=1.5,w=function(U,N){return Math.sqrt(Math.pow(N.x-U.x,2)+Math.pow(N.y-U.y,2))};function m(U){return U.reduce(function(N,z){return N+z})}function F(U,N,z){var G,R,re,W,be=w(U,N),me=w(N,z),ae=w(U,z),pe,Fe,j;return me>=be&&me>=ae?(G=[N,U,z],pe=G[0],Fe=G[1],j=G[2]):ae>=me&&ae>=be?(R=[U,N,z],pe=R[0],Fe=R[1],j=R[2]):(re=[U,z,N],pe=re[0],Fe=re[1],j=re[2]),(j.x-Fe.x)*(pe.y-Fe.y)-(j.y-Fe.y)*(pe.x-Fe.x)<0&&(W=[j,pe],pe=W[0],j=W[1]),{bottomLeft:pe,topLeft:Fe,topRight:j}}function b(U,N,z,G){var R=(m(S(U,z,G,5))/7+m(S(U,N,G,5))/7+m(S(z,U,G,5))/7+m(S(N,U,G,5))/7)/4;if(R<1)throw new Error("Invalid module size");var re=Math.round(w(U,N)/R),W=Math.round(w(U,z)/R),be=Math.floor((re+W)/2)+7;switch(be%4){case 0:be++;break;case 2:be--;break}return{dimension:be,moduleSize:R}}function P(U,N,z,G){var R=[{x:Math.floor(U.x),y:Math.floor(U.y)}],re=Math.abs(N.y-U.y)>Math.abs(N.x-U.x),W,be,me,ae;re?(W=Math.floor(U.y),be=Math.floor(U.x),me=Math.floor(N.y),ae=Math.floor(N.x)):(W=Math.floor(U.x),be=Math.floor(U.y),me=Math.floor(N.x),ae=Math.floor(N.y));for(var pe=Math.abs(me-W),Fe=Math.abs(ae-be),j=Math.floor(-pe/2),ye=W<me?1:-1,xe=be<ae?1:-1,Se=!0,Je=W,Ke=be;Je!==me+ye;Je+=ye){var ke=re?Ke:Je,Me=re?Je:Ke;if(z.get(ke,Me)!==Se&&(Se=!Se,R.push({x:ke,y:Me}),R.length===G+1))break;if(j+=Fe,j>0){if(Ke===ae)break;Ke+=xe,j-=pe}}for(var lt=[],Te=0;Te<G;Te++)R[Te]&&R[Te+1]?lt.push(w(R[Te],R[Te+1])):lt.push(0);return lt}function S(U,N,z,G){var R,re=N.y-U.y,W=N.x-U.x,be=P(U,N,z,Math.ceil(G/2)),me=P(U,{x:U.x-W,y:U.y-re},z,Math.ceil(G/2)),ae=be.shift()+me.shift()-1;return(R=me.concat(ae)).concat.apply(R,be)}function V(U,N){var z=m(U)/m(N),G=0;return N.forEach(function(R,re){G+=Math.pow(U[re]-R*z,2)}),{averageSize:z,error:G}}function J(U,N,z){try{var G=S(U,{x:-1,y:U.y},z,N.length),R=S(U,{x:U.x,y:-1},z,N.length),re={x:Math.max(0,U.x-U.y)-1,y:Math.max(0,U.y-U.x)-1},W=S(U,re,z,N.length),be={x:Math.min(z.width,U.x+U.y)+1,y:Math.min(z.height,U.y+U.x)+1},me=S(U,be,z,N.length),ae=V(G,N),pe=V(R,N),Fe=V(W,N),j=V(me,N),ye=Math.sqrt(ae.error*ae.error+pe.error*pe.error+Fe.error*Fe.error+j.error*j.error),xe=(ae.averageSize+pe.averageSize+Fe.averageSize+j.averageSize)/4,Se=(Math.pow(ae.averageSize-xe,2)+Math.pow(pe.averageSize-xe,2)+Math.pow(Fe.averageSize-xe,2)+Math.pow(j.averageSize-xe,2))/xe;return ye+Se}catch{return 1/0}}function $(U,N){for(var z=Math.round(N.x);U.get(z,Math.round(N.y));)z--;for(var G=Math.round(N.x);U.get(G,Math.round(N.y));)G++;for(var R=(z+G)/2,re=Math.round(N.y);U.get(Math.round(R),re);)re--;for(var W=Math.round(N.y);U.get(Math.round(R),W);)W++;var be=(re+W)/2;return{x:R,y:be}}function ne(U){for(var N=[],z=[],G=[],R=[],re=function(ke){for(var Me=0,lt=!1,Te=[0,0,0,0,0],e0=function(se){var Ee=U.get(se,ke);if(Ee===lt)Me++;else{Te=[Te[1],Te[2],Te[3],Te[4],Me],Me=1,lt=Ee;var Ce=m(Te)/7,Ie=Math.abs(Te[0]-Ce)<Ce&&Math.abs(Te[1]-Ce)<Ce&&Math.abs(Te[2]-3*Ce)<3*Ce&&Math.abs(Te[3]-Ce)<Ce&&Math.abs(Te[4]-Ce)<Ce&&!Ee,Ve=m(Te.slice(-3))/3,T=Math.abs(Te[2]-Ve)<Ve&&Math.abs(Te[3]-Ve)<Ve&&Math.abs(Te[4]-Ve)<Ve&&Ee;if(Ie){var I=se-Te[3]-Te[4],H=I-Te[2],ie={startX:H,endX:I,y:ke},le=z.filter(function(oe){return H>=oe.bottom.startX&&H<=oe.bottom.endX||I>=oe.bottom.startX&&H<=oe.bottom.endX||H<=oe.bottom.startX&&I>=oe.bottom.endX&&Te[2]/(oe.bottom.endX-oe.bottom.startX)<A&&Te[2]/(oe.bottom.endX-oe.bottom.startX)>h});le.length>0?le[0].bottom=ie:z.push({top:ie,bottom:ie})}if(T){var ee=se-Te[4],ce=ee-Te[3],ie={startX:ce,y:ke,endX:ee},le=R.filter(function(X){return ce>=X.bottom.startX&&ce<=X.bottom.endX||ee>=X.bottom.startX&&ce<=X.bottom.endX||ce<=X.bottom.startX&&ee>=X.bottom.endX&&Te[2]/(X.bottom.endX-X.bottom.startX)<A&&Te[2]/(X.bottom.endX-X.bottom.startX)>h});le.length>0?le[0].bottom=ie:R.push({top:ie,bottom:ie})}}},we=-1;we<=U.width;we++)e0(we);N.push.apply(N,z.filter(function(se){return se.bottom.y!==ke&&se.bottom.y-se.top.y>=2})),z=z.filter(function(se){return se.bottom.y===ke}),G.push.apply(G,R.filter(function(se){return se.bottom.y!==ke})),R=R.filter(function(se){return se.bottom.y===ke})},W=0;W<=U.height;W++)re(W);N.push.apply(N,z.filter(function(ke){return ke.bottom.y-ke.top.y>=2})),G.push.apply(G,R);var be=N.filter(function(ke){return ke.bottom.y-ke.top.y>=2}).map(function(ke){var Me=(ke.top.startX+ke.top.endX+ke.bottom.startX+ke.bottom.endX)/4,lt=(ke.top.y+ke.bottom.y+1)/2;if(U.get(Math.round(Me),Math.round(lt))){var Te=[ke.top.endX-ke.top.startX,ke.bottom.endX-ke.bottom.startX,ke.bottom.y-ke.top.y+1],e0=m(Te)/Te.length,we=J({x:Math.round(Me),y:Math.round(lt)},[1,1,3,1,1],U);return{score:we,x:Me,y:lt,size:e0}}}).filter(function(ke){return!!ke}).sort(function(ke,Me){return ke.score-Me.score}).map(function(ke,Me,lt){if(Me>E)return null;var Te=lt.filter(function(we,se){return Me!==se}).map(function(we){return{x:we.x,y:we.y,score:we.score+Math.pow(we.size-ke.size,2)/ke.size,size:we.size}}).sort(function(we,se){return we.score-se.score});if(Te.length<2)return null;var e0=ke.score+Te[0].score+Te[1].score;return{points:[ke].concat(Te.slice(0,2)),score:e0}}).filter(function(ke){return!!ke}).sort(function(ke,Me){return ke.score-Me.score});if(be.length===0)return null;var me=F(be[0].points[0],be[0].points[1],be[0].points[2]),ae=me.topRight,pe=me.topLeft,Fe=me.bottomLeft,j=te(U,G,ae,pe,Fe),ye=[];j&&ye.push({alignmentPattern:{x:j.alignmentPattern.x,y:j.alignmentPattern.y},bottomLeft:{x:Fe.x,y:Fe.y},dimension:j.dimension,topLeft:{x:pe.x,y:pe.y},topRight:{x:ae.x,y:ae.y}});var xe=$(U,ae),Se=$(U,pe),Je=$(U,Fe),Ke=te(U,G,xe,Se,Je);return Ke&&ye.push({alignmentPattern:{x:Ke.alignmentPattern.x,y:Ke.alignmentPattern.y},bottomLeft:{x:Je.x,y:Je.y},topLeft:{x:Se.x,y:Se.y},topRight:{x:xe.x,y:xe.y},dimension:Ke.dimension}),ye.length===0?null:ye}f.locate=ne;function te(U,N,z,G,R){var re,W,be;try{re=b(G,z,R,U),W=re.dimension,be=re.moduleSize}catch{return null}var me={x:z.x-G.x+R.x,y:z.y-G.y+R.y},ae=(w(G,R)+w(G,z))/2/be,pe=1-3/ae,Fe={x:G.x+pe*(me.x-G.x),y:G.y+pe*(me.y-G.y)},j=N.map(function(xe){var Se=(xe.top.startX+xe.top.endX+xe.bottom.startX+xe.bottom.endX)/4,Je=(xe.top.y+xe.bottom.y+1)/2;if(U.get(Math.floor(Se),Math.floor(Je))){var Ke=[xe.top.endX-xe.top.startX,xe.bottom.endX-xe.bottom.startX,xe.bottom.y-xe.top.y+1];m(Ke)/Ke.length;var ke=J({x:Math.floor(Se),y:Math.floor(Je)},[1,1,1],U),Me=ke+w({x:Se,y:Je},Fe);return{x:Se,y:Je,score:Me}}}).filter(function(xe){return!!xe}).sort(function(xe,Se){return xe.score-Se.score}),ye=ae>=15&&j.length?j[0]:Fe;return{alignmentPattern:ye,dimension:W}}})]).default})})(zn)),zn.exports}var Mu=Ou();const Lu=Iu(Mu),Uu={name:"QrScanner",props:{clientId:{type:Number,required:!0}},emits:["qr-detected"],data(){return{showScanner:!1,cameraStream:null,isScanning:!1,lastScannedData:null}},beforeUnmount(){this.stopCamera()},methods:{openScanner(){this.showScanner=!0,this.$nextTick(()=>{this.startCamera()})},closeScanner(){this.stopCamera(),this.showScanner=!1},async startCamera(){try{let n={video:{facingMode:"environment"}};try{this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}catch(c){console.log("Back camera not available, trying any camera:",c.message),n={video:!0},this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}this.showScanner=!0,await this.$nextTick();const t=this.$refs.cameraVideo;if(t)t.srcObject=this.cameraStream,console.log("Camera opened successfully for QR scanning");else throw new Error("Video element not found")}catch(n){console.error("Error accessing camera for QR scanning:",n);let t="Unable to access camera for QR scanning.";n.name==="NotAllowedError"?t+=" Camera permission was denied. Please allow camera access and try again.":n.name==="NotFoundError"?t+=" No camera found on this device.":n.name==="NotReadableError"?t+=" Camera is already in use by another application.":n.name==="OverconstrainedError"?t+=" Camera constraints cannot be satisfied.":t+=` ${n.message}`,alert(t),this.closeScanner()}},stopCamera(){this.cameraStream&&(this.cameraStream.getTracks().forEach(n=>n.stop()),this.cameraStream=null)},async captureAndScan(){if(!this.cameraStream){alert("Camera not available");return}this.isScanning=!0;try{const n=this.$refs.cameraVideo,t=this.$refs.cameraCanvas,c=t.getContext("2d");t.width=n.videoWidth,t.height=n.videoHeight,c.drawImage(n,0,0,t.width,t.height);try{console.log("Attempting to scan QR code from captured image...");const f=c.getImageData(0,0,t.width,t.height),l=Lu(f.data,f.width,f.height);l?(console.log("QR code detected with jsQR:",l.data),this.handleQrDetection(l.data)):(console.log("No QR code found in image data"),alert("No QR code found in the captured image. Please ensure the QR code is clearly visible and centered in the camera view, then try again."))}catch(f){console.error("QR scan error:",f),alert("Could not detect QR code. Please ensure the QR code is clearly visible and try again. Error: "+f.message)}finally{this.isScanning=!1}}catch(n){console.error("Error capturing image:",n),alert("Error capturing image for scanning."),this.isScanning=!1}},handleQrDetection(n){if(this.lastScannedData!==n){this.lastScannedData=n;try{const t=this.parseQrData(n);if(t){if(t.clientId!==this.clientId){alert(`QR code is for a different client (ID: ${t.clientId}). This QR code is not valid for your account.`);return}this.stopCamera(),this.closeScanner(),this.$emit("qr-detected",t)}else alert("Invalid QR code format. Expected format: CLIENT:{id}|ITEM:{identifier}|LOCATION:{name} or CLIENT:{id}|ITEM:{identifier}|LOCATION:{name}|URL:{siteurl}")}catch(t){console.error("Error parsing QR data:",t),alert("Error reading QR code. Please try again.")}}},parseQrData(n){const t=n.split("|");if(t.length<3||t.length>4)return null;const c=t[0].trim(),f=t[1].trim(),l=t[2].trim();if(!c.startsWith("CLIENT:")||!f.startsWith("ITEM:")||!l.startsWith("LOCATION:"))return null;const E=parseInt(c.substring(7)),h=f.substring(5),A=l.substring(9);if(isNaN(E)||!h.trim())return null;let w=null;if(t.length===4){const m=t[3].trim();if(m.startsWith("URL:"))w=m.substring(4).trim();else return null}return{clientId:E,itemIdentifier:h.trim(),locationName:A.trim(),siteUrl:w}}}},ju={class:"qr-scanner"},Vu={class:"modal-header"},Hu={class:"modal-body p-6"},Gu={class:"scanner-container"},Wu={ref:"cameraVideo",autoplay:"",playsinline:"",class:"camera-video w-full h-64 bg-black rounded-lg"},zu={ref:"cameraCanvas",class:"hidden"},Ju={class:"scanner-controls mt-4 flex gap-3 justify-center"},Xu=["disabled"],Yu={class:"modal-footer"};function Ku(n,t,c,f,l,E){return _(),k("div",ju,[l.showScanner?(_(),k("div",{key:0,class:"modal-overlay",onClick:t[5]||(t[5]=(...h)=>E.closeScanner&&E.closeScanner(...h))},[a("div",{class:"modal-content",onClick:t[4]||(t[4]=Ze(()=>{},["stop"]))},[a("div",Vu,[t[7]||(t[7]=a("h3",{class:"text-xl font-semibold text-gray-900 mb-0"},"Scan QR Code",-1)),a("button",{type:"button",onClick:t[0]||(t[0]=(...h)=>E.closeScanner&&E.closeScanner(...h)),class:"text-gray-500 hover:text-gray-700 text-2xl"},"×")]),a("div",Hu,[a("div",Gu,[a("video",Wu,null,512),a("canvas",zu,null,512),a("div",Ju,[a("button",{type:"button",onClick:t[1]||(t[1]=(...h)=>E.captureAndScan&&E.captureAndScan(...h)),class:"btn-filled",disabled:!l.cameraStream},[...t[8]||(t[8]=[a("span",{class:"material-icon-sm mr-2"},"qr_code_scanner",-1),Z(" Capture & Scan ",-1)])],8,Xu),a("button",{type:"button",onClick:t[2]||(t[2]=(...h)=>n.stopScanning&&n.stopScanning(...h)),class:"btn-outlined"}," Cancel ")])])]),a("div",Yu,[a("button",{type:"button",onClick:t[3]||(t[3]=(...h)=>E.closeScanner&&E.closeScanner(...h)),class:"btn-outlined"},"Close")])])])):fe("",!0),a("button",{type:"button",onClick:t[6]||(t[6]=(...h)=>E.openScanner&&E.openScanner(...h)),class:"btn-outlined btn-small"},[...t[9]||(t[9]=[a("span",{class:"material-icon-sm mr-2"},"qr_code_scanner",-1),Z(" Scan QR ",-1)])])])}const Zu=d0(Uu,[["render",Ku],["__scopeId","data-v-14f79a17"]]),qu={name:"ClientDashboard",components:{ImageUpload:_u,QrScanner:Zu},data(){return{users:null,approvedProviders:null,jobs:null,locations:[],availableRoles:[],userRole:null,userId:null,isAdmin:!1,loading:!0,profileCompleteness:0,showAddUserModal:!1,showEditUserModal:!1,showCreateJobModal:!1,showAssignModal:!1,showAddLocationModal:!1,showEditLocationModal:!1,showJobDetailsModal:!1,showEditJobModal:!1,addingUser:!1,updatingUser:!1,creatingJob:!1,jobFilters:{status:"",location_id:"",provider_id:""},newJob:{client_location_id:"",item_identifier:"",fault_description:"",contact_person:""},jobToAssign:null,selectedImages:[],newUser:{username:"",email:"",mobile:"",password:"",confirmPassword:"",role_id:""},editingUser:{id:null,username:"",email:"",mobile:"",role_id:null,newPassword:""},newLocation:{name:"",address:""},addingLocation:!1,selectedJob:null,selectedImage:null,locationsViewMode:"cards",editingJob:null,originalJobStatus:null,originalProviderId:null,editingImages:[],sectionsExpanded:{users:!1,locations:!1,providers:!1,jobs:!0}}},mounted(){this.checkUserPermissions(),this.loadUsers(),this.loadApprovedProviders(),this.loadAvailableRoles(),this.loadLocations(),this.loadJobs()},watch:{users(){this.calculateProfileCompleteness()},approvedProviders(){this.calculateProfileCompleteness()},locations(){this.calculateProfileCompleteness()}},methods:{checkUserPermissions(){try{const n=localStorage.getItem("token");if(console.log("Token found:",!!n),n){const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));console.log("JWT Payload:",t),console.log("User Role ID:",t.role_id),console.log("User ID:",t.user_id),this.userRole=t.role_id,this.userId=t.user_id,this.isAdmin=t.role_id===2,console.log("isAdmin set to:",this.isAdmin),console.log("userId set to:",this.userId)}else console.log("No token found, setting isAdmin to false"),this.isAdmin=!1,this.userId=null}catch(n){console.error("Failed to decode token:",n),this.isAdmin=!1,this.userId=null}},async loadUsers(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/client-users.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.users=c.users}else this.handleError(await t.json())}catch{alert("Failed to load users")}},async loadApprovedProviders(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/client-approved-providers.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.approvedProviders=c.approved_providers}else console.error("Failed to load approved providers")}catch{console.error("Failed to load approved providers")}},async loadAvailableRoles(){this.availableRoles=[{id:1,name:"Reporting Employee"},{id:2,name:"Site Budget Controller"}]},async addUser(){if(this.newUser.password!==this.newUser.confirmPassword){alert("Passwords do not match");return}this.addingUser=!0;try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/client-users.php",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({username:this.newUser.username,email:this.newUser.email,password:this.newUser.password,mobile:this.newUser.mobile,role_id:this.newUser.role_id})});if(t.ok){const c=await t.json();alert(c.message),this.showAddUserModal=!1,this.resetNewUserForm(),this.loadUsers()}else this.handleError(await t.json())}catch{alert("Failed to add user")}finally{this.addingUser=!1}},editUser(n){this.editingUser={id:n.id,username:n.username,email:n.email,mobile:n.mobile||"",role_id:n.role_id,newPassword:""},this.showEditUserModal=!0},async updateUser(){this.updatingUser=!0;try{const n=localStorage.getItem("token"),t={user_id:this.editingUser.id,email:this.editingUser.email,role_id:this.editingUser.role_id};this.editingUser.newPassword&&(t.password=this.editingUser.newPassword);const c=await fetch("/backend/api/client-users.php",{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(c.ok){const f=await c.json();alert(f.message),this.showEditUserModal=!1,this.loadUsers()}else this.handleError(await c.json())}catch{alert("Failed to update user")}finally{this.updatingUser=!1}},async deleteUser(n){if(confirm(`Are you sure you want to delete user "${n.username}"? This action cannot be undone.`))try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/client-users.php?user_id=${n.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();alert(f.message),this.loadUsers()}else this.handleError(await c.json())}catch{alert("Failed to delete user")}},canDeleteUser(n){const t=JSON.parse(localStorage.getItem("user")||"{}");return n.id!==t.id},viewProviderJobs(n){this.jobFilters.provider_id=n.service_provider_id,this.loadJobs();const t=this.$el.querySelector(".jobs-section");t&&t.scrollIntoView({behavior:"smooth"})},resetNewUserForm(){this.newUser={username:"",email:"",mobile:"",password:"",confirmPassword:"",role_id:""}},getRoleClass(n){return{"Reporting Employee":"admin","Site Budget Controller":"controller"}[n]||"user"},formatDate(n){return new Date(n).toLocaleDateString()},signOut(){localStorage.removeItem("token"),this.$router.push("/")},handleError(n){n.error?alert(n.error):alert("An error occurred")},async loadLocations(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/client-locations.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.locations=c.locations}else console.error("Failed to load locations")}catch(n){console.error("Failed to load locations:",n)}},async loadJobs(){try{const n=localStorage.getItem("token"),t=new URLSearchParams;this.jobFilters.status&&t.append("status",this.jobFilters.status),this.jobFilters.location_id&&t.append("location_id",this.jobFilters.location_id),this.jobFilters.provider_id&&t.append("provider_id",this.jobFilters.provider_id),this.userRole===1&&t.append("user_id",this.userId);const c=await fetch(`/backend/api/client-jobs.php?${t}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();this.jobs=f.jobs}else console.error("Failed to load jobs"),this.jobs=[]}catch(n){console.error("Failed to load jobs:",n),this.jobs=[]}},getStatusClass(n){return{Reported:"reported",Assigned:"assigned","In Progress":"in-progress",Completed:"completed"}[n]||"reported"},canAssignJob(n){return n.job_status==="Reported"},canEditJob(n){return!!(this.userRole===1&&n.job_status==="Reported"&&n.reporting_user_id===this.userId||this.userRole===2&&["Reported","Declined","Quote Requested"].includes(n.job_status))},canEditJobDetails(n){return n.job_status==="Reported"},async viewJobDetails(n){if(this.selectedJob=n,this.showJobDetailsModal=!0,!n.images)try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/job-images.php?job_id=${n.id}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();this.selectedJob.images=f.images||[]}}catch(t){console.error("Failed to load job images:",t),this.selectedJob.images=[]}},showAssignModal(n){this.jobToAssign=n,this.showAssignModal=!0;const t=this.approvedProviders.map(f=>`${f.id}: ${f.name}`).join(`
`),c=prompt(`Select a provider to assign this job to:

${t}`);c&&this.assignJob(n.id,parseInt(c))},async assignJob(n,t){try{const c=localStorage.getItem("token"),f=await fetch("/backend/api/client-jobs.php",{method:"PUT",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({job_id:n,assigned_provider_id:t,job_status:"Assigned"})});if(f.ok)alert("Job assigned successfully!"),this.loadJobs();else{const l=await f.json();this.handleError(l)}}catch{alert("Failed to assign job")}},async createJob(){this.creatingJob=!0;try{const n=localStorage.getItem("token"),t={client_location_id:this.newJob.client_location_id,item_identifier:this.newJob.item_identifier||null,fault_description:this.newJob.fault_description,contact_person:this.newJob.contact_person||null},c=await fetch("/backend/api/client-jobs.php",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(c.ok){const l=(await c.json()).job_id;this.selectedImages.length>0&&await this.uploadJobImages(l),alert("Fault reported successfully!"),this.showCreateJobModal=!1,this.resetNewJobForm(),this.loadJobs()}else{const f=await c.json();this.handleError(f)}}catch{alert("Failed to report fault")}finally{this.creatingJob=!1}},async uploadJobImages(n){const t=localStorage.getItem("token");for(const c of this.selectedImages){const f=new FormData;f.append("job_id",n),f.append("image",c.file);try{const l=await fetch("/backend/api/upload-job-image.php",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:f});if(l.ok)console.log("Successfully uploaded image:",c.name);else{const E=await l.json();console.error("Failed to upload image:",c.name,E.error)}}catch(l){console.error("Error uploading image:",c.name,l)}}},async uploadEditJobImages(n){const t=localStorage.getItem("token");for(const c of this.editingImages){const f=new FormData;f.append("job_id",n),f.append("image",c.file);try{const l=await fetch("/backend/api/upload-job-image.php",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:f});if(l.ok)console.log("Successfully uploaded additional image:",c.name);else{const E=await l.json();console.error("Failed to upload additional image:",c.name,E.error)}}catch(l){console.error("Error uploading additional image:",c.name,l)}}},handleImagesChanged(n){this.selectedImages=n},handleEditImagesChanged(n){this.editingImages=n},resetNewJobForm(){this.newJob={client_location_id:"",item_identifier:"",fault_description:"",contact_person:""},this.$refs.imageUpload&&(this.selectedImages=[])},async addLocation(){this.addingLocation=!0;try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/client-locations.php",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({name:this.newLocation.name.trim(),address:this.newLocation.address?this.newLocation.address.trim():""})});if(t.ok){const c=await t.json();alert(c.message),this.showAddLocationModal=!1,this.resetNewLocationForm(),this.loadLocations()}else{const c=await t.json();this.handleError(c)}}catch{alert("Failed to add location")}finally{this.addingLocation=!1}},resetNewLocationForm(){this.newLocation={name:"",address:""}},async editLocation(n){const t=prompt("Edit location name:",n.name);if(!t||!t.trim()||t.trim()===n.name)return;const c=prompt("Edit location address:",n.address||"");try{const f=localStorage.getItem("token"),l=await fetch("/backend/api/client-locations.php",{method:"PUT",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({location_id:n.id,name:t.trim(),address:c?c.trim():""})});if(l.ok){const E=await l.json();alert(E.message),this.loadLocations()}else{const E=await l.json();this.handleError(E)}}catch{alert("Failed to update location")}},async deleteLocation(n){if(confirm(`Are you sure you want to delete "${n.name}"? This can only be done if there are no associated fault reports.`))try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/client-locations.php?location_id=${n.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();alert(f.message),this.loadLocations()}else{const f=await c.json();this.handleError(f)}}catch{alert("Failed to delete location")}},filterJobsByLocation(n){this.jobFilters.location_id=n.id,this.loadJobs()},openImageModal(n){this.selectedImage=n},editJob(n){if(this.editingJob={...n},this.originalJobStatus=n.job_status,this.originalProviderId=n.assigned_provider_id,n.images)this.editingJob.images=n.images;else try{const t=localStorage.getItem("token");fetch(`/backend/api/job-images.php?job_id=${n.id}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then(f=>{if(f.ok)return f.json()}).then(f=>{this.editingJob.images=f.images||[]}).catch(f=>{console.error("Failed to load job images:",f),this.editingJob.images=[]})}catch(t){console.error("Failed to load job images:",t),this.editingJob.images=[]}this.loadApprovedProviders().then(()=>{const t=this.approvedProviders.some(c=>c.id==this.editingJob.assigned_provider_id);this.editingJob.assigned_provider_id&&!t&&(this.editingJob.assigned_provider_id=null),this.showEditJobModal=!0})},async updateJob(){if((this.editingJob.job_status==="Assigned"||this.editingJob.job_status==="Quote Requested")&&!this.editingJob.assigned_provider_id){alert("A service provider must be selected to set this status.");return}try{const n=localStorage.getItem("token"),t={job_id:this.editingJob.id};this.canEditJobDetails(this.editingJob)&&(t.item_identifier=this.editingJob.item_identifier||null,t.fault_description=this.editingJob.fault_description,t.contact_person=this.editingJob.contact_person||null),this.editingJob.job_status!==this.originalJobStatus&&(t.job_status=this.editingJob.job_status),this.editingJob.assigned_provider_id!==this.originalProviderId&&(t.assigned_provider_id=this.editingJob.assigned_provider_id||null);const c=Object.keys(t).length>1,f=this.editingImages&&this.editingImages.length>0;if(!c&&!f){alert("No changes to save");return}if(c){const l=await fetch("/backend/api/client-jobs.php",{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!l.ok){const E=await l.json();this.handleError(E);return}}f&&await this.uploadEditJobImages(this.editingJob.id),alert("Job updated successfully!"),this.showEditJobModal=!1,this.loadJobs()}catch{alert("Failed to update job")}},getCurrentUserName(){try{const n=localStorage.getItem("user");if(n)return JSON.parse(n).username||"User";if(this.users&&this.users.length>0&&this.userId){const t=this.users.find(c=>c.id==this.userId);return t?t.username:"User"}return"User"}catch{return"User"}},calculateProfileCompleteness(){let n=0;const t=3;this.users&&this.users.length>0&&(n+=1),this.locations&&this.locations.length>0&&(n+=1),this.approvedProviders&&this.approvedProviders.length>0&&(n+=1),this.profileCompleteness=Math.round(n/t*100)},handleQrDetected(n){if(console.log("QR data detected:",n),this.newJob.item_identifier=n.itemIdentifier,n.locationName&&this.locations&&this.locations.length>0){const t=this.locations.find(c=>c.name.toLowerCase()===n.locationName.toLowerCase());t?(this.newJob.client_location_id=t.id,alert(`QR code scanned successfully! Item: ${n.itemIdentifier}, Location: ${n.locationName}`)):alert(`QR code scanned successfully! Item: ${n.itemIdentifier}. Location "${n.locationName}" not found in your locations.`)}else alert(`QR code scanned successfully! Item: ${n.itemIdentifier}`)},getClientId(){try{const n=localStorage.getItem("token");if(n)return JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))).entity_id}catch(n){console.error("Failed to get client ID from token:",n)}return null},toggleSection(n){this.sectionsExpanded[n]=!this.sectionsExpanded[n]}}},Qu={class:"client-dashboard max-w-7xl mx-auto px-6 py-8"},$u={class:"dashboard-header flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8 p-6 bg-gray-50 rounded-xl border border-gray-200"},ef={class:"header-left"},tf={class:"text-3xl font-bold text-gray-900 mb-4"},sf={key:0,class:"user-name-mobile lg:hidden"},nf={class:"text-lg font-medium text-gray-700"},rf={key:1,class:"profile-completeness flex items-center gap-4"},of={class:"completeness-bar w-64 h-3 bg-gray-200 rounded-full overflow-hidden"},xf={class:"completeness-text text-lg font-medium text-gray-900"},lf={class:"header-right"},af={class:"dashboard-content grid gap-8"},cf={key:0,class:"users-section card p-6"},df={class:"section-title flex items-center gap-3"},uf={class:"section-content transition-all duration-300 ease-in-out"},ff={class:"users-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},hf={key:0,class:"loading-state col-span-full text-center py-16"},Ef={class:"user-header card-header flex justify-between items-center"},gf={class:"user-avatar w-12 h-12 bg-primary-600 rounded-full flex items-center justify-center"},Cf={class:"material-icon text-on-primary"},mf={key:0,class:"user-actions flex gap-2"},Af=["onClick"],pf=["onClick"],Bf={class:"user-content card-content"},bf={class:"user-name text-title-medium text-on-surface mb-2"},wf={class:"user-email text-body-medium text-on-surface-variant mb-3"},Df={class:"user-role"},Ff={class:"user-footer card-footer"},yf={class:"user-date text-label-medium text-on-surface-variant"},vf={key:2,class:"no-users col-span-full text-center py-16"},_f={key:3,class:"error-state col-span-full text-center py-16"},kf={key:1,class:"locations-section card p-6"},If={class:"section-title flex items-center gap-3"},Sf={class:"header-right flex items-center gap-4"},Tf={class:"view-mode-toggle flex border border-gray-300 rounded-lg overflow-hidden"},Pf={class:"section-content transition-all duration-300 ease-in-out"},Rf={key:0,class:"locations-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Nf={key:0,class:"loading-state col-span-full text-center py-16"},Of={key:1,class:"default-location col-span-full text-center py-16"},Mf=["onClick"],Lf={class:"location-header card-header flex justify-between items-center"},Uf={key:0,class:"location-actions flex gap-2"},jf=["onClick"],Vf=["onClick"],Hf={class:"location-content card-content"},Gf={class:"location-name text-title-medium text-on-surface mb-2"},Wf={class:"location-address text-body-medium text-on-surface-variant mb-4"},zf={class:"location-stats"},Jf={class:"stat-item"},Xf={class:"stat-number text-2xl font-bold text-on-surface"},Yf={key:1,class:"locations-table-container"},Kf={key:0,class:"loading-state"},Zf={key:1,class:"default-location"},qf={key:2,class:"locations-table-wrapper"},Qf={class:"locations-table"},$f={key:0,class:"col-actions"},e8=["onClick"],t8={class:"col-name"},s8={class:"location-name-cell"},n8={class:"location-name-text"},r8={class:"col-address"},i8={class:"col-jobs"},o8={class:"job-count-badge"},x8={key:0,class:"col-actions"},l8={class:"table-actions"},a8=["onClick"],c8=["onClick"],d8={key:2,class:"providers-section card p-6"},u8={class:"section-title flex items-center gap-3"},f8={class:"section-content transition-all duration-300 ease-in-out"},h8={class:"providers-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},E8={key:0,class:"loading-state col-span-full text-center py-16"},g8={class:"provider-header card-header flex justify-between items-center"},C8={class:"provider-logo w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},m8={class:"material-icon text-on-primary"},A8={class:"provider-actions flex gap-2"},p8=["onClick"],B8={class:"provider-content card-content"},b8={class:"provider-name text-title-medium text-on-surface mb-2"},w8={class:"provider-address text-body-medium text-on-surface-variant mb-4"},D8={class:"provider-stats grid grid-cols-3 gap-3"},F8={class:"stat-item text-center"},y8={class:"stat-number text-xl font-bold text-on-surface"},v8={class:"stat-item text-center"},_8={class:"stat-number text-xl font-bold text-on-surface"},k8={class:"stat-item text-center"},I8={class:"stat-number text-xl font-bold text-on-surface"},S8={class:"provider-footer card-footer"},T8={class:"approval-date text-label-medium text-on-surface-variant"},P8={key:2,class:"no-providers col-span-full text-center py-16"},R8={key:3,class:"error-state col-span-full text-center py-16"},N8={class:"jobs-section card p-6"},O8={key:0,class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200"},M8={key:1,class:"section-header flex justify-end mb-6 pb-4 border-b border-neutral-200"},L8={class:"job-filters flex flex-wrap gap-4 mb-6 p-4 bg-neutral-50 rounded-lg"},U8={class:"filter-group min-w-40"},j8={key:0,class:"filter-group min-w-40"},V8=["value"],H8={key:1,class:"filter-group min-w-40"},G8=["value"],W8={class:"jobs-grid grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"},z8={key:0,class:"loading-state col-span-full text-center py-16"},J8={class:"job-header card-header flex justify-between items-center"},X8={class:"job-status"},Y8={class:"job-actions flex gap-2"},K8=["onClick"],Z8=["onClick"],q8={class:"job-content card-content"},Q8={class:"job-title text-title-medium text-on-surface mb-2"},$8={class:"job-description text-body-medium text-on-surface-variant mb-2 line-clamp-2"},e9={class:"job-location text-body-small text-on-surface-variant mb-4"},t9={class:"job-meta grid grid-cols-2 gap-3 text-sm"},s9={class:"meta-item"},n9={class:"meta-value text-body-small text-on-surface font-medium"},r9={class:"meta-item"},i9={class:"meta-value text-body-small text-on-surface font-medium"},o9={class:"meta-item"},x9={class:"meta-value text-body-small text-on-surface font-medium"},l9={class:"meta-item"},a9={class:"meta-value text-body-small text-on-surface font-medium"},c9={class:"job-footer card-footer"},d9={class:"job-date text-label-medium text-on-surface-variant"},u9={key:2,class:"no-jobs col-span-full text-center py-16"},f9={key:3,class:"error-state col-span-full text-center py-16"},h9={class:"modal-header"},E9={class:"form-row"},g9={class:"form-group"},C9={class:"form-group"},m9={class:"form-row"},A9={class:"form-group"},p9={class:"form-group"},B9=["value"],b9={class:"form-row"},w9={class:"form-group"},D9={class:"form-group"},F9={class:"form-actions"},y9=["disabled"],v9={class:"modal-header"},_9={class:"form-row"},k9={class:"form-group"},I9={class:"form-group"},S9={class:"form-row"},T9={class:"form-group"},P9=["value"],R9={class:"form-group"},N9={class:"form-group"},O9={class:"form-actions"},M9=["disabled"],L9={class:"modal-header"},U9={class:"form-row"},j9={class:"form-group"},V9={class:"input-with-button"},H9={class:"form-group"},G9=["value"],W9={key:1,class:"default-location-display"},z9={class:"form-group"},J9={class:"form-group"},X9={class:"form-actions"},Y9=["disabled"],K9={class:"modal-header"},Z9={class:"form-group"},q9={class:"form-group"},Q9={class:"form-actions"},$9=["disabled"],e2={class:"modal-header"},t2={key:0,class:"job-details-content"},s2={class:"job-info-section"},n2={class:"info-grid"},r2={class:"info-item"},i2={class:"info-item"},o2={class:"info-item"},x2={class:"info-item"},l2={key:0,class:"info-item"},a2={class:"info-item"},c2={class:"description-section"},d2={class:"fault-description"},u2={key:0,class:"contact-section"},f2={class:"images-section"},h2={key:0,class:"no-images"},E2={key:1,class:"images-gallery"},g2={class:"gallery-grid"},C2=["src","alt","onClick"],m2={class:"image-overlay"},A2={class:"image-filename"},p2={class:"modal-header"},B2={class:"form-row"},b2={class:"form-group"},w2=["disabled"],D2=["disabled"],F2={key:0,class:"form-help text-red-600"},y2={key:0,class:"form-group"},v2=["value"],_2={key:1,class:"form-group"},k2={class:"readonly-field"},I2={key:0,class:"edit-details-section"},S2={class:"form-row"},T2={class:"form-group"},P2={class:"form-group"},R2={class:"form-group"},N2={class:"form-group"},O2={key:1,class:"readonly-details-section"},M2={class:"readonly-info"},L2={class:"info-row"},U2={class:"info-row"},j2={class:"info-row"},V2={class:"images-section"},H2={key:0,class:"no-images"},G2={key:1,class:"images-gallery"},W2={class:"gallery-grid"},z2=["src","alt","onClick"],J2={class:"image-overlay"},X2={class:"image-filename"},Y2={class:"form-actions"},K2={class:"image-modal-header"},Z2={class:"image-modal-body"},q2=["src","alt"];function Q2(n,t,c,f,l,E){const h=H0("router-link"),A=H0("QrScanner"),w=H0("ImageUpload");return _(),k("div",Qu,[a("div",$u,[a("div",ef,[a("h1",tf,O(l.userRole===1?"Report Dashboard":"Client Dashboard"),1),l.userRole===1?(_(),k("div",sf,[a("p",nf,O(E.getCurrentUserName()),1)])):fe("",!0),l.userRole===2?(_(),k("div",rf,[a("div",of,[a("div",{class:"completeness-fill h-full bg-blue-600 transition-all duration-500 ease-out",style:Gs({width:l.profileCompleteness+"%"})},null,4)]),a("span",xf,O(l.profileCompleteness)+"% Complete",1)])):fe("",!0)]),a("div",lf,[a("button",{onClick:t[0]||(t[0]=(...m)=>E.signOut&&E.signOut(...m)),class:"btn-filled flex items-center gap-2"},[...t[71]||(t[71]=[a("span",{class:"material-icon-sm"},"logout",-1),Z(" Sign Out ",-1)])])])]),a("div",af,[l.userRole===2?(_(),k("div",cf,[a("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[2]||(t[2]=m=>E.toggleSection("users")),style:{cursor:"pointer"}},[a("div",df,[a("button",{class:vt(["expand-btn",{expanded:l.sectionsExpanded.users}])},[...t[72]||(t[72]=[a("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[73]||(t[73]=a("h2",{class:"text-title-large text-on-surface mb-0"},"User Management",-1))]),l.isAdmin?(_(),k("button",{key:0,onClick:t[1]||(t[1]=Ze(m=>l.showAddUserModal=!0,["stop"])),class:"btn-filled"},[...t[74]||(t[74]=[a("span",{class:"material-icon-sm mr-2"},"person_add",-1),Z(" Add New User ",-1)])])):fe("",!0)]),De(a("div",uf,[a("div",ff,[l.users===null?(_(),k("div",hf,[...t[75]||(t[75]=[a("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),a("p",{class:"text-body-large text-on-surface-variant"},"Loading users...",-1)])])):l.users&&l.users.length>0?(_(!0),k(ze,{key:1},tt(l.users,m=>(_(),k("div",{key:m.id,class:"user-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3"},[a("div",Ef,[a("div",gf,[a("span",Cf,O(m.username.charAt(0).toUpperCase()),1)]),l.isAdmin?(_(),k("div",mf,[a("button",{onClick:F=>E.editUser(m),class:"btn-outlined btn-small"},[...t[76]||(t[76]=[a("span",{class:"material-icon-sm"},"edit",-1)])],8,Af),E.canDeleteUser(m)?(_(),k("button",{key:0,onClick:F=>E.deleteUser(m),class:"btn-outlined btn-small text-error-600 border-error-600 hover:bg-error-50"},[...t[77]||(t[77]=[a("span",{class:"material-icon-sm"},"delete",-1)])],8,pf)):fe("",!0)])):fe("",!0)]),a("div",Bf,[a("h3",bf,O(m.username),1),a("p",wf,O(m.email),1),a("div",Df,[a("span",{class:vt(["role-badge status-badge",E.getRoleClass(m.role_name)])},O(m.role_name),3)])]),a("div",Ff,[a("div",yf," Added "+O(E.formatDate(m.created_at)),1)])]))),128)):l.users&&l.users.length===0?(_(),k("div",vf,[...t[78]||(t[78]=[a("div",{class:"no-users-icon material-icon-xl text-neutral-400 mb-4"},"group",-1),a("h3",{class:"text-title-large text-on-surface mb-2"},"No users found",-1),a("p",{class:"text-body-large text-on-surface-variant"},"Get started by adding your first user.",-1)])])):(_(),k("div",_f,[...t[79]||(t[79]=[a("div",{class:"error-icon material-icon-xl text-error-400 mb-4"},"error",-1),a("h3",{class:"text-title-large text-on-surface mb-2"},"Failed to load users",-1),a("p",{class:"text-body-large text-on-surface-variant"},"Please try refreshing the page.",-1)])]))])],512),[[Gr,l.sectionsExpanded.users]])])):fe("",!0),l.userRole===2?(_(),k("div",kf,[a("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[6]||(t[6]=m=>E.toggleSection("locations")),style:{cursor:"pointer"}},[a("div",If,[a("button",{class:vt(["expand-btn",{expanded:l.sectionsExpanded.locations}])},[...t[80]||(t[80]=[a("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[81]||(t[81]=a("h2",{class:"text-title-large text-on-surface mb-0"},"Locations",-1))]),a("div",Sf,[a("div",Tf,[a("button",{onClick:t[3]||(t[3]=Ze(m=>l.locationsViewMode="cards",["stop"])),class:vt([{"bg-blue-600 text-white":l.locationsViewMode==="cards","bg-white text-gray-700 hover:bg-gray-50":l.locationsViewMode!=="cards"},"px-4 py-2 text-sm font-medium transition-colors"])},[...t[82]||(t[82]=[a("span",{class:"material-icon-sm mr-1"},"grid_view",-1),Z(" Cards ",-1)])],2),a("button",{onClick:t[4]||(t[4]=Ze(m=>l.locationsViewMode="table",["stop"])),class:vt([{"bg-blue-600 text-white":l.locationsViewMode==="table","bg-white text-gray-700 hover:bg-gray-50":l.locationsViewMode!=="table"},"px-4 py-2 text-sm font-medium transition-colors"])},[...t[83]||(t[83]=[a("span",{class:"material-icon-sm mr-1"},"table_chart",-1),Z(" Table ",-1)])],2)]),l.isAdmin?(_(),k("button",{key:0,onClick:t[5]||(t[5]=Ze(m=>l.showAddLocationModal=!0,["stop"])),class:"btn-filled"},[...t[84]||(t[84]=[a("span",{class:"material-icon-sm mr-2"},"add",-1),Z(" Add Location ",-1)])])):fe("",!0)])]),De(a("div",Pf,[l.locationsViewMode==="cards"?(_(),k("div",Rf,[l.locations===null?(_(),k("div",Nf,[...t[85]||(t[85]=[a("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),a("p",{class:"text-body-large text-on-surface-variant"},"Loading locations...",-1)])])):l.locations&&l.locations.length===0?(_(),k("div",Of,[...t[86]||(t[86]=[a("div",{class:"material-icon-xl text-neutral-400 mb-4"},"business",-1),a("h3",{class:"text-title-large text-on-surface mb-2"},"Default Location",-1),a("p",{class:"text-body-large text-on-surface-variant"},"Using client name as default location. Add specific locations if needed.",-1)])])):l.locations&&l.locations.length>0?(_(!0),k(ze,{key:2},tt(l.locations,m=>(_(),k("div",{key:m.id,class:"location-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3 cursor-pointer",onClick:F=>E.filterJobsByLocation(m)},[a("div",Lf,[t[89]||(t[89]=a("div",{class:"location-icon w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},[a("span",{class:"material-icon text-white"},"location_on")],-1)),l.isAdmin?(_(),k("div",Uf,[a("button",{onClick:Ze(F=>E.editLocation(m),["stop"]),class:"btn-outlined btn-small"},[...t[87]||(t[87]=[a("span",{class:"material-icon-sm"},"edit",-1)])],8,jf),m.job_count===0?(_(),k("button",{key:0,onClick:Ze(F=>E.deleteLocation(m),["stop"]),class:"btn-outlined btn-small text-error-600 border-error-600 hover:bg-error-50"},[...t[88]||(t[88]=[a("span",{class:"material-icon-sm"},"delete",-1)])],8,Vf)):fe("",!0)])):fe("",!0)]),a("div",Hf,[a("h3",Gf,O(m.name),1),a("p",Wf,O(m.address||"No address specified"),1),a("div",zf,[a("div",Jf,[a("span",Xf,O(m.job_count),1),t[90]||(t[90]=a("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Fault Reports",-1))])])]),t[91]||(t[91]=a("div",{class:"location-footer card-footer"},[a("div",{class:"location-click-hint text-label-medium text-on-surface-variant"},[a("span",{class:"material-icon-sm mr-1"},"filter_list"),Z(" Click to filter jobs ")])],-1))],8,Mf))),128)):fe("",!0)])):l.locationsViewMode==="table"?(_(),k("div",Yf,[l.locations===null?(_(),k("div",Kf,[...t[92]||(t[92]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Loading locations...",-1)])])):l.locations&&l.locations.length===0?(_(),k("div",Zf,[...t[93]||(t[93]=[a("div",{class:"default-location-icon"},"🏢",-1),a("h3",null,"Default Location",-1),a("p",null,"Using client name as default location. Add specific locations if needed.",-1)])])):l.locations&&l.locations.length>0?(_(),k("div",qf,[a("table",Qf,[a("thead",null,[a("tr",null,[t[94]||(t[94]=a("th",{class:"col-name"},"Location Name",-1)),t[95]||(t[95]=a("th",{class:"col-address"},"Address",-1)),t[96]||(t[96]=a("th",{class:"col-jobs"},"Fault Reports",-1)),l.isAdmin?(_(),k("th",$f,"Actions")):fe("",!0)])]),a("tbody",null,[(_(!0),k(ze,null,tt(l.locations,m=>(_(),k("tr",{key:m.id,class:"location-row",onClick:F=>E.filterJobsByLocation(m)},[a("td",t8,[a("div",s8,[t[97]||(t[97]=a("span",{class:"location-icon"},"📍",-1)),a("span",n8,O(m.name),1)])]),a("td",r8,O(m.address||"No address specified"),1),a("td",i8,[a("span",o8,O(m.job_count),1)]),l.isAdmin?(_(),k("td",x8,[a("div",l8,[a("button",{onClick:Ze(F=>E.editLocation(m),["stop"]),class:"btn-secondary btn-small"}," Edit ",8,a8),m.job_count===0?(_(),k("button",{key:0,onClick:Ze(F=>E.deleteLocation(m),["stop"]),class:"btn-danger btn-small"}," Delete ",8,c8)):fe("",!0)])])):fe("",!0)],8,e8))),128))])])])):fe("",!0)])):fe("",!0)],512),[[Gr,l.sectionsExpanded.locations]])])):fe("",!0),l.userRole===2?(_(),k("div",d8,[a("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[8]||(t[8]=m=>E.toggleSection("providers")),style:{cursor:"pointer"}},[a("div",u8,[a("button",{class:vt(["expand-btn",{expanded:l.sectionsExpanded.providers}])},[...t[98]||(t[98]=[a("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[99]||(t[99]=a("h2",{class:"text-title-large text-on-surface mb-0"},"Approved Service Providers",-1))]),l.isAdmin?(_(),Yx(h,{key:0,to:"/browse-providers",class:"btn-outlined",onClick:t[7]||(t[7]=Ze(()=>{},["stop"]))},{default:P0(()=>[...t[100]||(t[100]=[a("span",{class:"material-icon-sm mr-2"},"search",-1),Z(" Browse Providers ",-1)])]),_:1})):fe("",!0)]),De(a("div",f8,[a("div",h8,[l.approvedProviders===null?(_(),k("div",E8,[...t[101]||(t[101]=[a("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),a("p",{class:"text-body-large text-on-surface-variant"},"Loading providers...",-1)])])):l.approvedProviders&&l.approvedProviders.length>0?(_(!0),k(ze,{key:1},tt(l.approvedProviders,m=>(_(),k("div",{key:m.id,class:"provider-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3"},[a("div",g8,[a("div",C8,[a("span",m8,O(m.name.charAt(0).toUpperCase()),1)]),a("div",A8,[a("button",{onClick:F=>E.viewProviderJobs(m),class:"btn-outlined btn-small"},[...t[102]||(t[102]=[a("span",{class:"material-icon-sm"},"visibility",-1)])],8,p8)])]),a("div",B8,[a("h3",b8,O(m.name),1),a("p",w8,O(m.address),1),a("div",D8,[a("div",F8,[a("span",y8,O(m.total_jobs),1),t[103]||(t[103]=a("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Total",-1))]),a("div",v8,[a("span",_8,O(m.active_jobs),1),t[104]||(t[104]=a("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Active",-1))]),a("div",k8,[a("span",I8,O(m.completed_jobs),1),t[105]||(t[105]=a("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Completed",-1))])])]),a("div",S8,[a("div",T8,[t[106]||(t[106]=a("span",{class:"material-icon-sm mr-1"},"check_circle",-1)),Z(" Approved "+O(E.formatDate(m.approved_at)),1)])])]))),128)):l.approvedProviders&&l.approvedProviders.length===0?(_(),k("div",P8,[...t[107]||(t[107]=[a("div",{class:"material-icon-xl text-neutral-400 mb-4"},"handshake",-1),a("h3",{class:"text-title-large text-on-surface mb-2"},"No approved providers",-1),a("p",{class:"text-body-large text-on-surface-variant"},"Browse and approve service providers to get started.",-1)])])):(_(),k("div",R8,[...t[108]||(t[108]=[a("div",{class:"error-icon material-icon-xl text-error-400 mb-4"},"error",-1),a("h3",{class:"text-title-large text-on-surface mb-2"},"Failed to load providers",-1),a("p",{class:"text-body-large text-on-surface-variant"},"Please try refreshing the page.",-1)])]))])],512),[[Gr,l.sectionsExpanded.providers]])])):fe("",!0),a("div",N8,[l.userRole===2?(_(),k("div",O8,[t[110]||(t[110]=a("h2",{class:"text-title-large text-on-surface mb-0"},"Job Management",-1)),a("button",{onClick:t[9]||(t[9]=m=>l.showCreateJobModal=!0),class:"btn-filled"},[...t[109]||(t[109]=[a("span",{class:"material-icon-sm mr-2"},"add",-1),Z(" Report New Fault ",-1)])])])):(_(),k("div",M8,[a("button",{onClick:t[10]||(t[10]=m=>l.showCreateJobModal=!0),class:"btn-filled"},[...t[111]||(t[111]=[a("span",{class:"material-icon-sm mr-2"},"add",-1),Z(" Report New Fault ",-1)])])])),a("div",L8,[a("div",U8,[t[113]||(t[113]=a("label",{for:"status-filter",class:"form-label mb-1"},"Status:",-1)),De(a("select",{id:"status-filter","onUpdate:modelValue":t[11]||(t[11]=m=>l.jobFilters.status=m),onChange:t[12]||(t[12]=(...m)=>E.loadJobs&&E.loadJobs(...m)),class:"form-input"},[...t[112]||(t[112]=[hr('<option value="" data-v-937bd1f6>All Statuses</option><option value="Reported" data-v-937bd1f6>Reported</option><option value="Assigned" data-v-937bd1f6>Assigned</option><option value="In Progress" data-v-937bd1f6>In Progress</option><option value="Completed" data-v-937bd1f6>Completed</option>',5)])],544),[[Ht,l.jobFilters.status]])]),l.userRole===2?(_(),k("div",j8,[t[115]||(t[115]=a("label",{for:"location-filter",class:"form-label mb-1"},"Location:",-1)),De(a("select",{id:"location-filter","onUpdate:modelValue":t[13]||(t[13]=m=>l.jobFilters.location_id=m),onChange:t[14]||(t[14]=(...m)=>E.loadJobs&&E.loadJobs(...m)),class:"form-input"},[t[114]||(t[114]=a("option",{value:""},"All Locations",-1)),(_(!0),k(ze,null,tt(l.locations,m=>(_(),k("option",{key:m.id,value:m.id},O(m.name),9,V8))),128))],544),[[Ht,l.jobFilters.location_id]])])):fe("",!0),l.userRole===2?(_(),k("div",H8,[t[117]||(t[117]=a("label",{for:"provider-filter",class:"form-label mb-1"},"Provider:",-1)),De(a("select",{id:"provider-filter","onUpdate:modelValue":t[15]||(t[15]=m=>l.jobFilters.provider_id=m),onChange:t[16]||(t[16]=(...m)=>E.loadJobs&&E.loadJobs(...m)),class:"form-input"},[t[116]||(t[116]=a("option",{value:""},"All Providers",-1)),(_(!0),k(ze,null,tt(l.approvedProviders,m=>(_(),k("option",{key:m.service_provider_id,value:m.service_provider_id},O(m.name),9,G8))),128))],544),[[Ht,l.jobFilters.provider_id]])])):fe("",!0)]),a("div",W8,[l.jobs===null?(_(),k("div",z8,[...t[118]||(t[118]=[a("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),a("p",{class:"text-body-large text-on-surface-variant"},"Loading jobs...",-1)])])):l.jobs&&l.jobs.length>0?(_(!0),k(ze,{key:1},tt(l.jobs,m=>(_(),k("div",{key:m.id,class:"job-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3"},[a("div",J8,[a("div",X8,[a("span",{class:vt(["status-badge",E.getStatusClass(m.job_status)])},O(m.job_status),3)]),a("div",Y8,[E.canEditJob(m)?(_(),k("button",{key:0,onClick:F=>E.editJob(m),class:"btn-outlined btn-small"},[...t[119]||(t[119]=[a("span",{class:"material-icon-sm"},"edit",-1)])],8,K8)):(_(),k("button",{key:1,onClick:F=>E.viewJobDetails(m),class:"btn-outlined btn-small"},[...t[120]||(t[120]=[a("span",{class:"material-icon-sm"},"visibility",-1)])],8,Z8))])]),a("div",q8,[a("h3",Q8,O(m.item_identifier||"No Item ID"),1),a("p",$8,O(m.fault_description),1),a("p",e9,[t[121]||(t[121]=a("span",{class:"material-icon-sm mr-1"},"location_on",-1)),Z(" "+O(m.location_name),1)]),a("div",t9,[a("div",s9,[t[122]||(t[122]=a("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Reported by:",-1)),a("span",n9,O(m.reporting_user),1)]),a("div",r9,[t[123]||(t[123]=a("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Date:",-1)),a("span",i9,O(E.formatDate(m.created_at)),1)]),a("div",o9,[t[124]||(t[124]=a("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Provider:",-1)),a("span",x9,O(m.assigned_provider_name||"Not assigned"),1)]),a("div",l9,[t[125]||(t[125]=a("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Images:",-1)),a("span",a9,O(m.image_count),1)])])]),a("div",c9,[a("div",d9,[t[126]||(t[126]=a("span",{class:"material-icon-sm mr-1"},"schedule",-1)),Z(" Last updated "+O(E.formatDate(m.updated_at)),1)])])]))),128)):l.jobs&&l.jobs.length===0?(_(),k("div",u9,[...t[127]||(t[127]=[a("div",{class:"no-jobs-icon material-icon-xl text-neutral-400 mb-4"},"build",-1),a("h3",{class:"text-title-large text-on-surface mb-2"},"No jobs found",-1),a("p",{class:"text-body-large text-on-surface-variant"},"Report your first fault to get started.",-1)])])):(_(),k("div",f9,[...t[128]||(t[128]=[a("div",{class:"error-icon material-icon-xl text-error-400 mb-4"},"error",-1),a("h3",{class:"text-title-large text-on-surface mb-2"},"Failed to load jobs",-1),a("p",{class:"text-body-large text-on-surface-variant"},"Please try refreshing the page.",-1)])]))])])]),l.showAddUserModal?(_(),k("div",{key:0,class:"modal-overlay",onClick:t[27]||(t[27]=m=>l.showAddUserModal=!1)},[a("div",{class:"modal-content",onClick:t[26]||(t[26]=Ze(()=>{},["stop"]))},[a("div",h9,[t[129]||(t[129]=a("h3",null,"Add New User",-1)),a("button",{onClick:t[17]||(t[17]=m=>l.showAddUserModal=!1),class:"close-btn"},"×")]),a("form",{onSubmit:t[25]||(t[25]=Ze((...m)=>E.addUser&&E.addUser(...m),["prevent"])),class:"user-form"},[a("div",E9,[a("div",g9,[t[130]||(t[130]=a("label",{for:"username"},"Username *",-1)),De(a("input",{type:"text",id:"username","onUpdate:modelValue":t[18]||(t[18]=m=>l.newUser.username=m),required:""},null,512),[[Oe,l.newUser.username]])]),a("div",C9,[t[131]||(t[131]=a("label",{for:"email"},"Email Address *",-1)),De(a("input",{type:"email",id:"email","onUpdate:modelValue":t[19]||(t[19]=m=>l.newUser.email=m),required:""},null,512),[[Oe,l.newUser.email]])])]),a("div",m9,[a("div",A9,[t[132]||(t[132]=a("label",{for:"mobile"},"Mobile Number *",-1)),De(a("input",{type:"tel",id:"mobile","onUpdate:modelValue":t[20]||(t[20]=m=>l.newUser.mobile=m),required:"",placeholder:"+27 12 345 6789"},null,512),[[Oe,l.newUser.mobile]])]),a("div",p9,[t[134]||(t[134]=a("label",{for:"role"},"Role *",-1)),De(a("select",{id:"role","onUpdate:modelValue":t[21]||(t[21]=m=>l.newUser.role_id=m),required:""},[t[133]||(t[133]=a("option",{value:""},"Select Role",-1)),(_(!0),k(ze,null,tt(l.availableRoles,m=>(_(),k("option",{key:m.id,value:m.id},O(m.name),9,B9))),128))],512),[[Ht,l.newUser.role_id]])])]),a("div",b9,[a("div",w9,[t[135]||(t[135]=a("label",{for:"password"},"Password *",-1)),De(a("input",{type:"password",id:"password","onUpdate:modelValue":t[22]||(t[22]=m=>l.newUser.password=m),required:"",minlength:"6"},null,512),[[Oe,l.newUser.password]])]),a("div",D9,[t[136]||(t[136]=a("label",{for:"confirmPassword"},"Confirm Password *",-1)),De(a("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[23]||(t[23]=m=>l.newUser.confirmPassword=m),required:""},null,512),[[Oe,l.newUser.confirmPassword]])])]),a("div",F9,[a("button",{type:"button",onClick:t[24]||(t[24]=m=>l.showAddUserModal=!1),class:"btn-secondary"},"Cancel"),a("button",{type:"submit",class:"btn-primary",disabled:l.addingUser},O(l.addingUser?"Adding User...":"Add User"),9,y9)])],32)])])):fe("",!0),l.showEditUserModal?(_(),k("div",{key:1,class:"modal-overlay",onClick:t[37]||(t[37]=m=>l.showEditUserModal=!1)},[a("div",{class:"modal-content",onClick:t[36]||(t[36]=Ze(()=>{},["stop"]))},[a("div",v9,[a("h3",null,"Edit User: "+O(l.editingUser.username),1),a("button",{onClick:t[28]||(t[28]=m=>l.showEditUserModal=!1),class:"close-btn"},"×")]),a("form",{onSubmit:t[35]||(t[35]=Ze((...m)=>E.updateUser&&E.updateUser(...m),["prevent"])),class:"user-form"},[a("div",_9,[a("div",k9,[t[137]||(t[137]=a("label",{for:"edit-username"},"Username",-1)),De(a("input",{type:"text",id:"edit-username","onUpdate:modelValue":t[29]||(t[29]=m=>l.editingUser.username=m),disabled:""},null,512),[[Oe,l.editingUser.username]]),t[138]||(t[138]=a("small",{class:"form-help"},"Username cannot be changed",-1))]),a("div",I9,[t[139]||(t[139]=a("label",{for:"edit-email"},"Email Address *",-1)),De(a("input",{type:"email",id:"edit-email","onUpdate:modelValue":t[30]||(t[30]=m=>l.editingUser.email=m),required:""},null,512),[[Oe,l.editingUser.email]])])]),a("div",S9,[a("div",T9,[t[140]||(t[140]=a("label",{for:"edit-role"},"Role *",-1)),De(a("select",{id:"edit-role","onUpdate:modelValue":t[31]||(t[31]=m=>l.editingUser.role_id=m),required:""},[(_(!0),k(ze,null,tt(l.availableRoles,m=>(_(),k("option",{key:m.id,value:m.id},O(m.name),9,P9))),128))],512),[[Ht,l.editingUser.role_id]])]),a("div",R9,[t[141]||(t[141]=a("label",{for:"edit-mobile"},"Mobile Number",-1)),De(a("input",{type:"tel",id:"edit-mobile","onUpdate:modelValue":t[32]||(t[32]=m=>l.editingUser.mobile=m),placeholder:"+27 12 345 6789"},null,512),[[Oe,l.editingUser.mobile]])])]),a("div",N9,[t[142]||(t[142]=a("label",{for:"edit-password"},"New Password (leave blank to keep current)",-1)),De(a("input",{type:"password",id:"edit-password","onUpdate:modelValue":t[33]||(t[33]=m=>l.editingUser.newPassword=m),minlength:"6"},null,512),[[Oe,l.editingUser.newPassword]]),t[143]||(t[143]=a("small",{class:"form-help"},"Minimum 6 characters",-1))]),a("div",O9,[a("button",{type:"button",onClick:t[34]||(t[34]=m=>l.showEditUserModal=!1),class:"btn-secondary"},"Cancel"),a("button",{type:"submit",class:"btn-primary",disabled:l.updatingUser},O(l.updatingUser?"Updating...":"Update User"),9,M9)])],32)])])):fe("",!0),l.showCreateJobModal?(_(),k("div",{key:2,class:"modal-overlay",onClick:t[47]||(t[47]=m=>l.showCreateJobModal=!1)},[a("div",{class:"modal-content",onClick:t[46]||(t[46]=Ze(()=>{},["stop"]))},[a("div",L9,[t[144]||(t[144]=a("h3",null,"Report New Fault",-1)),a("button",{onClick:t[38]||(t[38]=m=>l.showCreateJobModal=!1),class:"close-btn"},"×")]),a("form",{onSubmit:t[45]||(t[45]=Ze((...m)=>E.createJob&&E.createJob(...m),["prevent"])),class:"job-form"},[a("div",U9,[a("div",j9,[t[145]||(t[145]=a("label",{for:"item-identifier"},"Item Identifier *",-1)),a("div",V9,[De(a("input",{type:"text",id:"item-identifier","onUpdate:modelValue":t[39]||(t[39]=m=>l.newJob.item_identifier=m),required:"",placeholder:"e.g., Computer-001, Printer-ABC or scan QR code"},null,512),[[Oe,l.newJob.item_identifier]]),_t(A,{"client-id":E.getClientId(),onQrDetected:E.handleQrDetected,class:"qr-scanner-inline"},null,8,["client-id","onQrDetected"])]),t[146]||(t[146]=a("small",{class:"form-help"},"Required: Unique identifier for the item (scan QR or enter manually)",-1))]),a("div",H9,[t[149]||(t[149]=a("label",{for:"location"},"Location",-1)),l.locations&&l.locations.length>0?De((_(),k("select",{key:0,id:"location","onUpdate:modelValue":t[40]||(t[40]=m=>l.newJob.client_location_id=m)},[t[147]||(t[147]=a("option",{value:""},"Select Location (optional)",-1)),(_(!0),k(ze,null,tt(l.locations,m=>(_(),k("option",{key:m.id,value:m.id},O(m.name),9,G9))),128))],512)),[[Ht,l.newJob.client_location_id]]):(_(),k("div",W9,[t[148]||(t[148]=a("span",{class:"default-location-text"},"Default Location (Client Name)",-1)),De(a("input",{type:"hidden","onUpdate:modelValue":t[41]||(t[41]=m=>l.newJob.client_location_id=m),value:""},null,512),[[Oe,l.newJob.client_location_id]])])),t[150]||(t[150]=a("small",{class:"form-help"}," Optional: Can be auto-filled from QR code. If no custom locations defined, this fault will be associated with your client name. ",-1))])]),a("div",z9,[t[151]||(t[151]=a("label",{for:"fault-description"},"Fault Description *",-1)),De(a("textarea",{id:"fault-description","onUpdate:modelValue":t[42]||(t[42]=m=>l.newJob.fault_description=m),required:"",rows:"4",placeholder:"Describe the fault in detail..."},null,512),[[Oe,l.newJob.fault_description]])]),a("div",J9,[t[152]||(t[152]=a("label",{for:"contact-person"},"Contact Person",-1)),De(a("input",{type:"text",id:"contact-person","onUpdate:modelValue":t[43]||(t[43]=m=>l.newJob.contact_person=m),placeholder:"Person to contact about this fault"},null,512),[[Oe,l.newJob.contact_person]]),t[153]||(t[153]=a("small",{class:"form-help"},"Optional: Who should the technician contact?",-1))]),_t(w,{ref:"imageUpload","max-images":10,"max-file-size":10*1024*1024,onImagesChanged:E.handleImagesChanged},null,8,["onImagesChanged"]),a("div",X9,[a("button",{type:"button",onClick:t[44]||(t[44]=m=>l.showCreateJobModal=!1),class:"btn-secondary"},"Cancel"),a("button",{type:"submit",class:"btn-primary",disabled:l.creatingJob},O(l.creatingJob?"Reporting Fault...":"Report Fault"),9,Y9)])],32)])])):fe("",!0),l.showAddLocationModal?(_(),k("div",{key:3,class:"modal-overlay",onClick:t[54]||(t[54]=m=>l.showAddLocationModal=!1)},[a("div",{class:"modal-content",onClick:t[53]||(t[53]=Ze(()=>{},["stop"]))},[a("div",K9,[t[154]||(t[154]=a("h3",null,"Add New Location",-1)),a("button",{onClick:t[48]||(t[48]=m=>l.showAddLocationModal=!1),class:"close-btn"},"×")]),a("form",{onSubmit:t[52]||(t[52]=Ze((...m)=>E.addLocation&&E.addLocation(...m),["prevent"])),class:"location-form"},[a("div",Z9,[t[155]||(t[155]=a("label",{for:"location-name"},"Location Name *",-1)),De(a("input",{type:"text",id:"location-name","onUpdate:modelValue":t[49]||(t[49]=m=>l.newLocation.name=m),required:"",placeholder:"e.g., Main Office, Warehouse, Branch Office"},null,512),[[Oe,l.newLocation.name]])]),a("div",q9,[t[156]||(t[156]=a("label",{for:"location-address"},"Address",-1)),De(a("textarea",{id:"location-address","onUpdate:modelValue":t[50]||(t[50]=m=>l.newLocation.address=m),rows:"3",placeholder:"Street address, city, postal code"},null,512),[[Oe,l.newLocation.address]]),t[157]||(t[157]=a("small",{class:"form-help"},"Optional: Physical address of the location",-1))]),a("div",Q9,[a("button",{type:"button",onClick:t[51]||(t[51]=m=>l.showAddLocationModal=!1),class:"btn-secondary"},"Cancel"),a("button",{type:"submit",class:"btn-primary",disabled:l.addingLocation},O(l.addingLocation?"Adding Location...":"Add Location"),9,$9)])],32)])])):fe("",!0),l.showJobDetailsModal?(_(),k("div",{key:4,class:"modal-overlay",onClick:t[57]||(t[57]=m=>l.showJobDetailsModal=!1)},[a("div",{class:"modal-content large-modal",onClick:t[56]||(t[56]=Ze(()=>{},["stop"]))},[a("div",e2,[a("h3",null,"Job Details: "+O(l.selectedJob?.item_identifier||"No Item ID"),1),a("button",{onClick:t[55]||(t[55]=m=>l.showJobDetailsModal=!1),class:"close-btn"},"×")]),l.selectedJob?(_(),k("div",t2,[a("div",s2,[a("div",n2,[a("div",r2,[t[158]||(t[158]=a("label",null,"Status:",-1)),a("span",{class:vt(["status-badge",E.getStatusClass(l.selectedJob.job_status)])},O(l.selectedJob.job_status),3)]),a("div",i2,[t[159]||(t[159]=a("label",null,"Location:",-1)),a("span",null,O(l.selectedJob.location_name),1)]),a("div",o2,[t[160]||(t[160]=a("label",null,"Reported By:",-1)),a("span",null,O(l.selectedJob.reporting_user),1)]),a("div",x2,[t[161]||(t[161]=a("label",null,"Date Reported:",-1)),a("span",null,O(E.formatDate(l.selectedJob.created_at)),1)]),l.selectedJob.assigned_provider_name?(_(),k("div",l2,[t[162]||(t[162]=a("label",null,"Assigned Provider:",-1)),a("span",null,O(l.selectedJob.assigned_provider_name),1)])):fe("",!0),a("div",a2,[t[163]||(t[163]=a("label",null,"Last Updated:",-1)),a("span",null,O(E.formatDate(l.selectedJob.updated_at)),1)])]),a("div",c2,[t[164]||(t[164]=a("label",null,"Fault Description:",-1)),a("p",d2,O(l.selectedJob.fault_description),1)]),l.selectedJob.contact_person?(_(),k("div",u2,[t[165]||(t[165]=a("label",null,"Contact Person:",-1)),a("span",null,O(l.selectedJob.contact_person),1)])):fe("",!0)]),a("div",f2,[a("h4",null,"Attached Images ("+O(l.selectedJob.images?.length||0)+")",1),!l.selectedJob.images||l.selectedJob.images.length===0?(_(),k("div",h2,[...t[166]||(t[166]=[a("div",{class:"no-images-icon"},"📷",-1),a("p",null,"No images attached to this job",-1)])])):(_(),k("div",E2,[a("div",g2,[(_(!0),k(ze,null,tt(l.selectedJob.images,m=>(_(),k("div",{key:m.id,class:"gallery-item"},[a("img",{src:`/backend/uploads/job_images/${m.filename}`,alt:m.original_filename,class:"gallery-image",onClick:F=>E.openImageModal(m)},null,8,C2),a("div",m2,[a("span",A2,O(m.original_filename),1)])]))),128))])]))])])):fe("",!0)])])):fe("",!0),l.showEditJobModal?(_(),k("div",{key:5,class:"modal-overlay",onClick:t[67]||(t[67]=m=>l.showEditJobModal=!1)},[a("div",{class:"modal-content large-modal",onClick:t[66]||(t[66]=Ze(()=>{},["stop"]))},[a("div",p2,[a("h3",null,"Edit Job: "+O(l.editingJob?.item_identifier||"No Item ID"),1),a("button",{onClick:t[58]||(t[58]=m=>l.showEditJobModal=!1),class:"close-btn"},"×")]),l.editingJob?(_(),k("form",{key:0,onSubmit:t[65]||(t[65]=Ze((...m)=>E.updateJob&&E.updateJob(...m),["prevent"])),class:"job-form"},[a("div",B2,[a("div",b2,[t[171]||(t[171]=a("label",{for:"edit-status"},"Status *",-1)),De(a("select",{id:"edit-status","onUpdate:modelValue":t[59]||(t[59]=m=>l.editingJob.job_status=m),required:""},[t[167]||(t[167]=a("option",{value:"Reported"},"Reported",-1)),a("option",{value:"Assigned",disabled:!l.editingJob.assigned_provider_id},"Assigned",8,w2),t[168]||(t[168]=a("option",{value:"In Progress",disabled:""},"In Progress",-1)),t[169]||(t[169]=a("option",{value:"Completed",disabled:""},"Completed",-1)),t[170]||(t[170]=a("option",{value:"Declined",disabled:""},"Declined",-1)),a("option",{value:"Quote Requested",disabled:!l.editingJob.assigned_provider_id},"Quote Requested",8,D2)],512),[[Ht,l.editingJob.job_status]]),!l.editingJob.assigned_provider_id&&(l.editingJob.job_status==="Assigned"||l.editingJob.job_status==="Quote Requested")?(_(),k("small",F2," A service provider must be selected to set this status ")):fe("",!0)]),l.userRole===2?(_(),k("div",y2,[t[173]||(t[173]=a("label",{for:"edit-provider"},"Assigned Provider",-1)),De(a("select",{id:"edit-provider","onUpdate:modelValue":t[60]||(t[60]=m=>l.editingJob.assigned_provider_id=m)},[t[172]||(t[172]=a("option",{value:""},"No Provider Assigned",-1)),(_(!0),k(ze,null,tt(l.approvedProviders,m=>(_(),k("option",{key:m.service_provider_id,value:m.service_provider_id},O(m.name),9,v2))),128))],512),[[Ht,l.editingJob.assigned_provider_id]])])):l.editingJob.assigned_provider_name?(_(),k("div",_2,[t[174]||(t[174]=a("label",null,"Assigned Provider",-1)),a("div",k2,O(l.editingJob.assigned_provider_name),1),t[175]||(t[175]=a("small",{class:"form-help"},"Only Budget Controllers can change provider assignments",-1))])):fe("",!0)]),E.canEditJobDetails(l.editingJob)?(_(),k("div",I2,[t[182]||(t[182]=a("h4",null,"Job Details",-1)),a("div",S2,[a("div",T2,[t[176]||(t[176]=a("label",{for:"edit-item-identifier"},"Item Identifier",-1)),De(a("input",{type:"text",id:"edit-item-identifier","onUpdate:modelValue":t[61]||(t[61]=m=>l.editingJob.item_identifier=m),placeholder:"e.g., Computer-001, Printer-ABC"},null,512),[[Oe,l.editingJob.item_identifier]]),t[177]||(t[177]=a("small",{class:"form-help"},"Optional: Unique identifier for the item",-1))]),a("div",P2,[t[178]||(t[178]=a("label",{for:"edit-contact-person"},"Contact Person",-1)),De(a("input",{type:"text",id:"edit-contact-person","onUpdate:modelValue":t[62]||(t[62]=m=>l.editingJob.contact_person=m),placeholder:"Person to contact about this fault"},null,512),[[Oe,l.editingJob.contact_person]]),t[179]||(t[179]=a("small",{class:"form-help"},"Optional: Who should the technician contact?",-1))])]),a("div",R2,[t[180]||(t[180]=a("label",{for:"edit-fault-description"},"Fault Description *",-1)),De(a("textarea",{id:"edit-fault-description","onUpdate:modelValue":t[63]||(t[63]=m=>l.editingJob.fault_description=m),required:"",rows:"4",placeholder:"Describe the fault in detail..."},null,512),[[Oe,l.editingJob.fault_description]])]),a("div",N2,[t[181]||(t[181]=a("label",null,"Attach Additional Images",-1)),_t(w,{ref:"editImageUpload","max-images":10,"max-file-size":10*1024*1024,onImagesChanged:E.handleEditImagesChanged},null,8,["onImagesChanged"])])])):(_(),k("div",O2,[t[186]||(t[186]=a("h4",null,"Job Details (Read Only)",-1)),a("div",M2,[a("div",L2,[t[183]||(t[183]=a("label",null,"Item Identifier:",-1)),a("span",null,O(l.editingJob.item_identifier||"Not specified"),1)]),a("div",U2,[t[184]||(t[184]=a("label",null,"Contact Person:",-1)),a("span",null,O(l.editingJob.contact_person||"Not specified"),1)]),a("div",j2,[t[185]||(t[185]=a("label",null,"Fault Description:",-1)),a("span",null,O(l.editingJob.fault_description),1)])])])),a("div",V2,[a("h4",null,"Attached Images ("+O(l.editingJob.images?.length||0)+")",1),!l.editingJob.images||l.editingJob.images.length===0?(_(),k("div",H2,[...t[187]||(t[187]=[a("div",{class:"no-images-icon"},"📷",-1),a("p",null,"No images attached to this job",-1)])])):(_(),k("div",G2,[a("div",W2,[(_(!0),k(ze,null,tt(l.editingJob.images,m=>(_(),k("div",{key:m.id,class:"gallery-item"},[a("img",{src:`/backend/uploads/job_images/${m.filename}`,alt:m.original_filename,class:"gallery-image",onClick:F=>E.openImageModal(m)},null,8,z2),a("div",J2,[a("span",X2,O(m.original_filename),1)])]))),128))])]))]),a("div",Y2,[a("button",{type:"button",onClick:t[64]||(t[64]=m=>l.showEditJobModal=!1),class:"btn-secondary"},"Cancel"),t[188]||(t[188]=a("button",{type:"submit",class:"btn-primary"}," Update Job ",-1))])],32)):fe("",!0)])])):fe("",!0),l.selectedImage?(_(),k("div",{key:6,class:"modal-overlay",onClick:t[70]||(t[70]=m=>l.selectedImage=null)},[a("div",{class:"image-modal-content",onClick:t[69]||(t[69]=Ze(()=>{},["stop"]))},[a("div",K2,[a("h3",null,O(l.selectedImage.original_filename),1),a("button",{onClick:t[68]||(t[68]=m=>l.selectedImage=null),class:"close-btn"},"×")]),a("div",Z2,[a("img",{src:`/backend/uploads/job_images/${l.selectedImage.filename}`,alt:l.selectedImage.original_filename,class:"full-size-image"},null,8,q2)])])])):fe("",!0)])}const $2=d0(qu,[["render",Q2],["__scopeId","data-v-937bd1f6"]]),eh={name:"ServiceProviderRegistration",data(){return{form:{providerName:"",address:"",username:"",email:"",password:""}}},methods:{async register(){try{const n=await fetch("/backend/api/register-service-provider.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await n.json();n.ok?(alert("Registration successful! You can now sign in."),this.$router.push("/service-provider-signin")):alert(t.error)}catch{alert("Registration failed. Please try again.")}}}},th={class:"registration"},sh={class:"form-group"},nh={class:"form-group"},rh={class:"form-group"},ih={class:"form-group"},oh={class:"form-group"};function xh(n,t,c,f,l,E){const h=H0("router-link");return _(),k("div",th,[t[14]||(t[14]=a("h2",null,"Service Provider Registration",-1)),a("form",{onSubmit:t[5]||(t[5]=Ze((...A)=>E.register&&E.register(...A),["prevent"]))},[a("div",sh,[t[6]||(t[6]=a("label",{for:"providerName"},"Company Name:",-1)),De(a("input",{type:"text",id:"providerName","onUpdate:modelValue":t[0]||(t[0]=A=>l.form.providerName=A),required:""},null,512),[[Oe,l.form.providerName]])]),a("div",nh,[t[7]||(t[7]=a("label",{for:"address"},"Address:",-1)),De(a("textarea",{id:"address","onUpdate:modelValue":t[1]||(t[1]=A=>l.form.address=A),required:""},null,512),[[Oe,l.form.address]])]),a("div",rh,[t[8]||(t[8]=a("label",{for:"username"},"Username:",-1)),De(a("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=A=>l.form.username=A),required:""},null,512),[[Oe,l.form.username]])]),a("div",ih,[t[9]||(t[9]=a("label",{for:"email"},"Email:",-1)),De(a("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=A=>l.form.email=A),required:""},null,512),[[Oe,l.form.email]])]),a("div",oh,[t[10]||(t[10]=a("label",{for:"password"},"Password:",-1)),De(a("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=A=>l.form.password=A),required:""},null,512),[[Oe,l.form.password]])]),t[11]||(t[11]=a("button",{type:"submit"},"Register",-1))],32),a("p",null,[t[13]||(t[13]=Z("Already have an account? ",-1)),_t(h,{to:"/service-provider-signin"},{default:P0(()=>[...t[12]||(t[12]=[Z("Sign In",-1)])]),_:1})])])}const lh=d0(eh,[["render",xh],["__scopeId","data-v-84f69fd6"]]),ah={name:"ServiceProviderSignin",data(){return{form:{username:"",password:""},showSwitchUser:!1}},mounted(){const n=localStorage.getItem("token");if(n)try{JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))).entity_type==="service_provider"?this.$router.push("/service-provider-dashboard"):this.showSwitchUser=!0}catch{localStorage.removeItem("token")}},methods:{signOut(){localStorage.removeItem("token"),this.showSwitchUser=!1},async signin(){try{const n=await fetch("/backend/api/auth.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await n.json();n.ok?(localStorage.setItem("token",t.token),this.$router.push("/service-provider-dashboard")):alert(t.error)}catch{alert("Sign in failed")}}}},ch={class:"signin"},dh={key:0,class:"switch-user-notice"},uh={class:"form-group"},fh={class:"form-group"},hh={key:2};function Eh(n,t,c,f,l,E){const h=H0("router-link");return _(),k("div",ch,[t[10]||(t[10]=a("h2",null,"Service Provider Sign In",-1)),l.showSwitchUser?(_(),k("div",dh,[t[4]||(t[4]=a("p",null,"You are currently signed in as a client. To sign in as a service provider, you need to sign out first.",-1)),a("button",{onClick:t[0]||(t[0]=(...A)=>E.signOut&&E.signOut(...A)),class:"btn-secondary"},"Sign Out & Continue")])):(_(),k("form",{key:1,onSubmit:t[3]||(t[3]=Ze((...A)=>E.signin&&E.signin(...A),["prevent"]))},[a("div",uh,[t[5]||(t[5]=a("label",{for:"username"},"Username:",-1)),De(a("input",{type:"text",id:"username","onUpdate:modelValue":t[1]||(t[1]=A=>l.form.username=A),required:""},null,512),[[Oe,l.form.username]])]),a("div",fh,[t[6]||(t[6]=a("label",{for:"password"},"Password:",-1)),De(a("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=A=>l.form.password=A),required:""},null,512),[[Oe,l.form.password]])]),t[7]||(t[7]=a("button",{type:"submit"},"Sign In",-1))],32)),l.showSwitchUser?fe("",!0):(_(),k("p",hh,[t[9]||(t[9]=Z("Don't have an account? ",-1)),_t(h,{to:"/service-provider-registration"},{default:P0(()=>[...t[8]||(t[8]=[Z("Register",-1)])]),_:1})]))])}const gh=d0(ah,[["render",Eh],["__scopeId","data-v-e4dfb3fc"]]),Ch={name:"ServiceProviderDashboard",data(){return{profile:{},services:[],regions:[],approvedClients:[],technicians:[],profileCompleteness:0,availableServices:[],availableRegions:[],selectedServices:[],selectedRegions:[],primaryServiceId:null,showProfileModal:!1,showServicesModal:!1,showRegionsModal:!1,showAddTechnicianModal:!1,showEditTechnicianModal:!1,loading:!1,editingTechnician:null,userRole:null,technicianForm:{username:"",password:"",email:"",first_name:"",last_name:"",phone:""},editForm:{name:"",address:"",website:"",description:"",manager_name:"",manager_email:"",manager_phone:"",vat_number:"",business_registration_number:""}}},mounted(){this.getUserRole(),this.loadProfile(),this.loadAvailableOptions(),this.loadApprovedClients(),this.userRole===3&&this.loadTechnicians()},methods:{async loadProfile(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/service-provider-profile.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.profile=c.profile,this.services=c.services,this.regions=c.regions,this.profileCompleteness=c.profile_completeness,Object.keys(this.editForm).forEach(f=>{this.profile[f]!==void 0&&(this.editForm[f]=this.profile[f])}),this.selectedServices=this.services.map(f=>f.id),this.selectedRegions=this.regions.map(f=>f.id),this.primaryServiceId=this.services.find(f=>f.is_primary)?.id||null}else this.handleError(await t.json())}catch{alert("Failed to load profile")}},async loadAvailableOptions(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/service-providers.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.availableServices=c.filters.services,this.availableRegions=c.filters.regions}}catch{console.error("Failed to load available options")}},async updateProfile(){this.loading=!0;try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/service-provider-profile.php",{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(this.editForm)});if(t.ok){const c=await t.json();this.profile=c.profile,this.services=c.services,this.regions=c.regions,this.profileCompleteness=c.profile_completeness,this.showProfileModal=!1,alert("Profile updated successfully!")}else this.handleError(await t.json())}catch{alert("Failed to update profile")}finally{this.loading=!1}},async updateServices(){this.loading=!0;try{const n=this.selectedServices.map(f=>({id:f,is_primary:f===this.primaryServiceId})),t=localStorage.getItem("token"),c=await fetch("/backend/api/service-provider-profile.php",{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({services:n})});if(c.ok){const f=await c.json();this.services=f.services,this.showServicesModal=!1,alert("Services updated successfully!")}else this.handleError(await c.json())}catch{alert("Failed to update services")}finally{this.loading=!1}},async updateRegions(){this.loading=!0;try{const n=this.selectedRegions.map(f=>({id:f})),t=localStorage.getItem("token"),c=await fetch("/backend/api/service-provider-profile.php",{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({regions:n})});if(c.ok){const f=await c.json();this.regions=f.regions,this.showRegionsModal=!1,alert("Regions updated successfully!")}else this.handleError(await c.json())}catch{alert("Failed to update regions")}finally{this.loading=!1}},setPrimaryService(n){this.primaryServiceId=n},isPrimaryService(n){return this.primaryServiceId===n},getServiceName(n){const t=this.availableServices.find(c=>c.id===n);return t?t.name:"Unknown Service"},async loadApprovedClients(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/service-provider-approved-clients.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.approvedClients=c.clients}else console.error("Failed to load approved clients")}catch{console.error("Failed to load approved clients")}},viewClientJobs(n){this.$router.push(`/service-provider/client/${n}/jobs`)},viewTechnicianJobs(n){this.$router.push(`/service-provider/technician/${n.id}/jobs`)},formatDate(n){return new Date(n).toLocaleDateString()},getRegionName(n){const t=this.availableRegions.find(c=>c.id===n);return t?t.name:"Unknown Region"},signOut(){localStorage.removeItem("token"),this.$router.push("/")},getUserRole(){const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));this.userRole=t.role_id}catch(t){console.error("Error parsing token:",t),this.userRole=null}},handleError(n){n.error?alert(n.error):alert("An error occurred")},async loadTechnicians(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/technicians.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.technicians=c.technicians}else console.error("Failed to load technicians")}catch{console.error("Failed to load technicians")}},openAddTechnicianModal(){this.technicianForm={username:"",password:"",email:"",first_name:"",last_name:"",phone:""},this.editingTechnician=null,this.showAddTechnicianModal=!0},closeAddTechnicianModal(){this.showAddTechnicianModal=!1,this.technicianForm={username:"",password:"",email:"",first_name:"",last_name:"",phone:""}},async createTechnician(){if(!this.technicianForm.username||!this.technicianForm.password||!this.technicianForm.email||!this.technicianForm.first_name||!this.technicianForm.last_name){alert("Please fill in all required fields");return}this.loading=!0;try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/technicians.php",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(this.technicianForm)});if(t.ok){const c=await t.json();this.closeAddTechnicianModal(),this.loadTechnicians(),alert("Technician created successfully!")}else this.handleError(await t.json())}catch{alert("Failed to create technician")}finally{this.loading=!1}},editTechnician(n){this.editingTechnician=n,this.technicianForm={username:n.username,email:n.email,first_name:n.first_name,last_name:n.last_name,phone:n.phone||"",is_active:n.is_active},this.showEditTechnicianModal=!0},closeEditTechnicianModal(){this.showEditTechnicianModal=!1,this.editingTechnician=null,this.technicianForm={username:"",password:"",email:"",first_name:"",last_name:"",phone:""}},async updateTechnician(){if(this.editingTechnician){this.loading=!0;try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/technicians.php",{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({technician_id:this.editingTechnician.id,...this.technicianForm})});t.ok?(this.closeEditTechnicianModal(),this.loadTechnicians(),alert("Technician updated successfully!")):this.handleError(await t.json())}catch{alert("Failed to update technician")}finally{this.loading=!1}}},async deleteTechnician(n){if(confirm(`Are you sure you want to delete ${n.full_name}?`))try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/technicians.php?id=${n.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});c.ok?(this.loadTechnicians(),alert("Technician deleted successfully!")):this.handleError(await c.json())}catch{alert("Failed to delete technician")}}}},mh={class:"min-h-screen bg-gray-50"},Ah={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ph={class:"dashboard-header flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8 p-6 bg-white rounded-xl border border-gray-200"},Bh={class:"header-left"},bh={class:"profile-completeness flex items-center gap-4"},wh={class:"completeness-bar w-64 h-3 bg-gray-200 rounded-full overflow-hidden"},Dh={class:"completeness-text text-lg font-medium text-gray-900"},Fh={class:"header-right"},yh={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},vh={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},_h={class:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200"},kh={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ih={class:"space-y-4"},Sh={class:"flex items-center gap-3"},Th={class:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},Ph={class:"material-icon text-white"},Rh={class:"text-xl font-semibold text-gray-900"},Nh={class:"text-gray-600 flex items-center gap-2"},Oh={key:0,class:"bg-gray-50 rounded-lg p-4"},Mh={class:"text-gray-700"},Lh={class:"space-y-4"},Uh={key:0,class:"bg-blue-50 rounded-lg p-4"},jh={class:"space-y-2"},Vh={key:0,class:"text-gray-700 flex items-center gap-2"},Hh={key:1,class:"text-gray-700 flex items-center gap-2"},Gh=["href"],Wh={key:0,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},zh={class:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200"},Jh={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Xh={class:"flex items-center justify-between"},Yh={class:"flex items-center gap-3"},Kh={class:"font-semibold text-gray-900"},Zh={class:"text-sm text-gray-600"},qh={key:0,class:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full"},Qh={key:1,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},$h={class:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200"},eE={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},tE={class:"flex items-center gap-3"},sE={class:"font-semibold text-gray-900"},nE={class:"text-sm text-gray-600"},rE={key:2,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},iE={class:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200"},oE={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},xE={class:"flex justify-between items-center p-4 bg-gray-50 border-b border-gray-200"},lE={class:"flex items-center gap-3"},aE={class:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center"},cE={class:"material-icon text-white"},dE={class:"font-semibold text-gray-900"},uE={class:"flex gap-2"},fE=["onClick"],hE=["onClick"],EE=["onClick"],gE={class:"p-4"},CE={class:"text-sm text-gray-600 flex items-center gap-1 mb-2"},mE={key:0,class:"text-sm text-gray-600 flex items-center gap-1"},AE={class:"px-4 pb-4"},pE={class:"text-xs text-gray-500"},BE={key:0,class:"text-center py-16"},bE={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},wE={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},DE={class:"flex items-start justify-between mb-4"},FE={class:"flex items-center gap-3"},yE={class:"w-12 h-12 bg-orange-600 rounded-full flex items-center justify-center"},vE={class:"material-icon text-white"},_E={class:"font-semibold text-gray-900"},kE={class:"text-sm text-gray-600 flex items-center gap-1"},IE={class:"grid grid-cols-3 gap-2 mb-4"},SE={class:"text-center"},TE={class:"text-lg font-bold text-blue-600"},PE={class:"text-center"},RE={class:"text-lg font-bold text-green-600"},NE={class:"text-center"},OE={class:"text-lg font-bold text-gray-600"},ME={class:"flex gap-2"},LE=["onClick"],UE={class:"mt-3 pt-3 border-t border-gray-200"},jE={class:"text-xs text-gray-500 flex items-center gap-1"},VE={key:0,class:"text-center py-16"},HE={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},GE={class:"flex justify-between items-center p-6 border-b border-gray-200"},WE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},zE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},JE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},XE={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},YE=["disabled"],KE={key:0,class:"material-icon-sm animate-spin"},ZE={key:1,class:"material-icon-sm"},qE=["disabled"],QE={key:0,class:"material-icon-sm animate-spin"},$E={key:1,class:"material-icon-sm"},e6={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},t6={class:"flex justify-between items-center p-6 border-b border-gray-200"},s6={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},n6={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},r6={class:"space-y-4"},i6={class:"space-y-3 max-h-96 overflow-y-auto"},o6=["value"],x6={class:"flex-1"},l6={class:"font-medium text-gray-900"},a6={class:"text-sm text-gray-600"},c6={class:"space-y-4"},d6={key:0,class:"text-center py-8 text-gray-500"},u6={key:1,class:"space-y-3 max-h-96 overflow-y-auto"},f6={class:"flex-1"},h6={class:"font-medium text-gray-900"},E6=["onClick"],g6={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6"},C6=["disabled"],m6={key:0,class:"material-icon-sm animate-spin"},A6={key:1,class:"material-icon-sm"},p6=["disabled"],B6={key:0,class:"material-icon-sm animate-spin"},b6={key:1,class:"material-icon-sm"},w6={key:2,class:"fixed inset-0 z-50 flex items-center justify-center"},D6={class:"flex justify-between items-center p-6 border-b border-gray-200"},F6={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},y6={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},v6={class:"space-y-4"},_6={class:"space-y-3 max-h-96 overflow-y-auto"},k6=["value"],I6={class:"flex-1"},S6={class:"font-medium text-gray-900"},T6={class:"text-sm text-gray-600"},P6={class:"space-y-4"},R6={key:0,class:"text-center py-8 text-gray-500"},N6={key:1,class:"space-y-3 max-h-96 overflow-y-auto"},O6={class:"flex-1"},M6={class:"font-medium text-gray-900"},L6={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6"},U6=["disabled"],j6={key:0,class:"material-icon-sm animate-spin"},V6={key:1,class:"material-icon-sm"},H6=["disabled"],G6={key:0,class:"material-icon-sm animate-spin"},W6={key:1,class:"material-icon-sm"},z6={key:3,class:"fixed inset-0 z-50 flex items-center justify-center"},J6={class:"flex justify-between items-center p-6 border-b border-gray-200"},X6={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y6={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K6={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z6={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},q6=["disabled"],Q6={key:0,class:"material-icon-sm animate-spin"},$6={key:1,class:"material-icon-sm"},e5=["disabled"],t5={key:0,class:"material-icon-sm animate-spin"},s5={key:1,class:"material-icon-sm"},n5={key:4,class:"fixed inset-0 z-50 flex items-center justify-center"},r5={class:"flex justify-between items-center p-6 border-b border-gray-200"},i5={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},o5={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},x5={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},l5={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},a5=["disabled"],c5={key:0,class:"material-icon-sm animate-spin"},d5={key:1,class:"material-icon-sm"},u5=["disabled"],f5={key:0,class:"material-icon-sm animate-spin"},h5={key:1,class:"material-icon-sm"};function E5(n,t,c,f,l,E){return _(),k("div",mh,[a("div",Ah,[a("div",ph,[a("div",Bh,[t[57]||(t[57]=a("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Service Provider Dashboard",-1)),a("div",bh,[a("div",wh,[a("div",{class:"completeness-fill h-full bg-blue-600 transition-all duration-500 ease-out",style:Gs({width:l.profileCompleteness+"%"})},null,4)]),a("span",Dh,O(l.profileCompleteness)+"% Complete",1)])]),a("div",Fh,[a("button",{onClick:t[0]||(t[0]=(...h)=>E.signOut&&E.signOut(...h)),class:"btn-filled flex items-center gap-2"},[...t[58]||(t[58]=[a("span",{class:"material-icon-sm"},"logout",-1),Z(" Sign Out ",-1)])])])])]),a("div",yh,[a("div",vh,[a("div",_h,[t[60]||(t[60]=a("h2",{class:"text-2xl font-bold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"business"),Z(" Profile Overview ")],-1)),l.userRole===3?(_(),k("button",{key:0,onClick:t[1]||(t[1]=h=>l.showProfileModal=!0),class:"btn-filled flex items-center gap-2"},[...t[59]||(t[59]=[a("span",{class:"material-icon-sm"},"edit",-1),Z(" Edit Profile ",-1)])])):fe("",!0)]),a("div",kh,[a("div",Ih,[a("div",Sh,[a("div",Th,[a("span",Ph,O(l.profile.name?.charAt(0)||"B"),1)]),a("div",null,[a("h3",Rh,O(l.profile.name),1),a("p",Nh,[t[61]||(t[61]=a("span",{class:"material-icon-sm"},"location_on",-1)),Z(" "+O(l.profile.address),1)])])]),l.profile.description?(_(),k("div",Oh,[a("p",Mh,O(l.profile.description),1)])):fe("",!0)]),a("div",Lh,[l.profile.manager_name||l.profile.website?(_(),k("div",Uh,[t[66]||(t[66]=a("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-blue-600"},"contact_mail"),Z(" Contact Information ")],-1)),a("div",jh,[l.profile.manager_name?(_(),k("p",Vh,[t[62]||(t[62]=a("span",{class:"material-icon-sm text-gray-500"},"person",-1)),t[63]||(t[63]=a("strong",null,"Manager:",-1)),Z(" "+O(l.profile.manager_name),1)])):fe("",!0),l.profile.website?(_(),k("p",Hh,[t[64]||(t[64]=a("span",{class:"material-icon-sm text-gray-500"},"link",-1)),t[65]||(t[65]=a("strong",null,"Website:",-1)),a("a",{href:l.profile.website,target:"_blank",class:"text-blue-600 hover:text-blue-800 underline"},O(l.profile.website),9,Gh)])):fe("",!0)])])):fe("",!0)])])]),l.userRole===3?(_(),k("div",Wh,[a("div",zh,[t[68]||(t[68]=a("h2",{class:"text-2xl font-bold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"build"),Z(" Services Offered ")],-1)),a("button",{onClick:t[2]||(t[2]=h=>l.showServicesModal=!0),class:"btn-filled flex items-center gap-2"},[...t[67]||(t[67]=[a("span",{class:"material-icon-sm"},"add",-1),Z(" Manage Services ",-1)])])]),a("div",Jh,[(_(!0),k(ze,null,tt(l.services,h=>(_(),k("div",{key:h.id,class:"relative bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[a("div",Xh,[a("div",Yh,[t[69]||(t[69]=a("div",{class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center"},[a("span",{class:"material-icon-sm text-white"},"build")],-1)),a("div",null,[a("h3",Kh,O(h.name),1),a("p",Zh,O(h.category),1)])]),h.is_primary?(_(),k("span",qh," Primary ")):fe("",!0)])]))),128)),a("button",{onClick:t[3]||(t[3]=h=>l.showServicesModal=!0),class:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-400 hover:bg-blue-50 transition-colors flex flex-col items-center justify-center gap-2 text-gray-500 hover:text-blue-600"},[...t[70]||(t[70]=[a("span",{class:"material-icon text-2xl"},"add_circle",-1),a("span",{class:"font-medium"},"Add Service",-1)])])])])):fe("",!0),l.userRole===3?(_(),k("div",Qh,[a("div",$h,[t[72]||(t[72]=a("h2",{class:"text-2xl font-bold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"location_on"),Z(" Service Regions ")],-1)),a("button",{onClick:t[4]||(t[4]=h=>l.showRegionsModal=!0),class:"btn-filled flex items-center gap-2"},[...t[71]||(t[71]=[a("span",{class:"material-icon-sm"},"add",-1),Z(" Manage Regions ",-1)])])]),a("div",eE,[(_(!0),k(ze,null,tt(l.regions,h=>(_(),k("div",{key:h.id,class:"relative bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[a("div",tE,[t[73]||(t[73]=a("div",{class:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center"},[a("span",{class:"material-icon-sm text-white"},"location_on")],-1)),a("div",null,[a("h3",sE,O(h.name),1),a("p",nE,O(h.code),1)])])]))),128)),a("button",{onClick:t[5]||(t[5]=h=>l.showRegionsModal=!0),class:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-green-400 hover:bg-green-50 transition-colors flex flex-col items-center justify-center gap-2 text-gray-500 hover:text-green-600"},[...t[74]||(t[74]=[a("span",{class:"material-icon text-2xl"},"add_location",-1),a("span",{class:"font-medium"},"Add Region",-1)])])])])):fe("",!0),l.userRole===3?(_(),k("div",rE,[a("div",iE,[t[76]||(t[76]=a("h2",{class:"text-2xl font-bold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"engineering"),Z(" Technicians ")],-1)),a("button",{onClick:t[6]||(t[6]=(...h)=>E.openAddTechnicianModal&&E.openAddTechnicianModal(...h)),class:"btn-filled flex items-center gap-2"},[...t[75]||(t[75]=[a("span",{class:"material-icon-sm"},"person_add",-1),Z(" Add Technician ",-1)])])]),a("div",oE,[(_(!0),k(ze,null,tt(l.technicians,h=>(_(),k("div",{key:h.id,class:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow"},[a("div",xE,[a("div",lE,[a("div",aE,[a("span",cE,O(h.full_name.charAt(0)),1)]),a("div",null,[a("h3",dE,O(h.full_name),1),a("span",{class:vt(["px-2 py-1 rounded-full text-xs font-medium",h.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},O(h.is_active?"Active":"Inactive"),3)])]),a("div",uE,[a("button",{onClick:A=>E.viewTechnicianJobs(h),class:"btn-round",title:"View Jobs"},[...t[77]||(t[77]=[a("span",{class:"material-icon-sm"},"work",-1)])],8,fE),a("button",{onClick:A=>E.editTechnician(h),class:"btn-round",title:"Edit Technician"},[...t[78]||(t[78]=[a("span",{class:"material-icon-sm"},"edit",-1)])],8,hE),a("button",{onClick:A=>E.deleteTechnician(h),class:"btn-round-filled",title:"Delete Technician"},[...t[79]||(t[79]=[a("span",{class:"material-icon-sm"},"delete",-1)])],8,EE)])]),a("div",gE,[a("p",CE,[t[80]||(t[80]=a("span",{class:"material-icon-sm"},"email",-1)),Z(" "+O(h.email),1)]),h.phone?(_(),k("p",mE,[t[81]||(t[81]=a("span",{class:"material-icon-sm"},"phone",-1)),Z(" "+O(h.phone),1)])):fe("",!0)]),a("div",AE,[a("p",pE," Added "+O(E.formatDate(h.created_at)),1)])]))),128)),a("button",{onClick:t[7]||(t[7]=(...h)=>E.openAddTechnicianModal&&E.openAddTechnicianModal(...h)),class:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-purple-400 hover:bg-purple-50 transition-colors flex flex-col items-center justify-center gap-3 text-gray-500 hover:text-purple-600"},[...t[82]||(t[82]=[a("span",{class:"material-icon text-3xl"},"person_add",-1),a("div",{class:"text-center"},[a("div",{class:"font-medium"},"Add Technician"),a("div",{class:"text-sm"},"Create a new technician account")],-1)])])]),l.technicians.length===0?(_(),k("div",BE,[t[84]||(t[84]=a("div",{class:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gray-100 mb-6"},[a("span",{class:"material-icon text-gray-400"},"engineering")],-1)),t[85]||(t[85]=a("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No Technicians Yet",-1)),t[86]||(t[86]=a("p",{class:"text-gray-600 mb-6"},"Add technicians to help manage your jobs and assignments.",-1)),a("button",{onClick:t[8]||(t[8]=(...h)=>E.openAddTechnicianModal&&E.openAddTechnicianModal(...h)),class:"btn-filled flex items-center gap-2 mx-auto"},[...t[83]||(t[83]=[a("span",{class:"material-icon-sm"},"person_add",-1),Z(" Add Your First Technician ",-1)])])])):fe("",!0)])):fe("",!0),a("div",bE,[t[94]||(t[94]=a("div",{class:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200"},[a("h2",{class:"text-2xl font-bold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"group"),Z(" Approved Clients ")])],-1)),a("div",wE,[(_(!0),k(ze,null,tt(l.approvedClients,h=>(_(),k("div",{key:h.id,class:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[a("div",DE,[a("div",FE,[a("div",yE,[a("span",vE,O(h.name.charAt(0)),1)]),a("div",null,[a("h3",_E,O(h.name),1),a("p",kE,[t[87]||(t[87]=a("span",{class:"material-icon-sm"},"location_on",-1)),Z(" "+O(h.address),1)])])])]),a("div",IE,[a("div",SE,[a("div",TE,O(h.total_jobs),1),t[88]||(t[88]=a("div",{class:"text-xs text-gray-600"},"Total Jobs",-1))]),a("div",PE,[a("div",RE,O(h.active_jobs),1),t[89]||(t[89]=a("div",{class:"text-xs text-gray-600"},"Active",-1))]),a("div",NE,[a("div",OE,O(h.completed_jobs),1),t[90]||(t[90]=a("div",{class:"text-xs text-gray-600"},"Completed",-1))])]),a("div",ME,[a("button",{onClick:A=>E.viewClientJobs(h.id),class:"btn-filled btn-small flex items-center gap-1 flex-1"},[...t[91]||(t[91]=[a("span",{class:"material-icon-sm"},"work",-1),Z(" View Jobs ",-1)])],8,LE)]),a("div",UE,[a("p",jE,[t[92]||(t[92]=a("span",{class:"material-icon-sm"},"event_available",-1)),Z(" Approved "+O(E.formatDate(h.approved_at)),1)])])]))),128))]),l.approvedClients.length===0?(_(),k("div",VE,[...t[93]||(t[93]=[a("div",{class:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gray-100 mb-6"},[a("span",{class:"material-icon text-gray-400"},"group")],-1),a("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No Approved Clients Yet",-1),a("p",{class:"text-gray-600"},"Clients will appear here once they approve your services.",-1)])])):fe("",!0)])]),l.showProfileModal?(_(),k("div",HE,[a("div",{class:"absolute inset-0 bg-black/50",onClick:t[9]||(t[9]=h=>l.showProfileModal=!1)}),a("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:t[22]||(t[22]=Ze(()=>{},["stop"]))},[a("div",GE,[t[95]||(t[95]=a("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"edit"),Z(" Edit Profile ")],-1)),a("button",{onClick:t[10]||(t[10]=h=>l.showProfileModal=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},"×")]),a("form",{onSubmit:t[21]||(t[21]=Ze((...h)=>E.updateProfile&&E.updateProfile(...h),["prevent"])),class:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-140px)]"},[a("div",WE,[a("div",null,[t[96]||(t[96]=a("label",{for:"name",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"business"),Z(" Company Name * ")],-1)),De(a("input",{type:"text",id:"name","onUpdate:modelValue":t[11]||(t[11]=h=>l.editForm.name=h),required:"",class:"form-input",placeholder:"Enter company name"},null,512),[[Oe,l.editForm.name]])]),a("div",null,[t[97]||(t[97]=a("label",{for:"website",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"link"),Z(" Website ")],-1)),De(a("input",{type:"url",id:"website","onUpdate:modelValue":t[12]||(t[12]=h=>l.editForm.website=h),class:"form-input",placeholder:"https://example.com"},null,512),[[Oe,l.editForm.website]])])]),a("div",null,[t[98]||(t[98]=a("label",{for:"address",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"location_on"),Z(" Address * ")],-1)),De(a("textarea",{id:"address","onUpdate:modelValue":t[13]||(t[13]=h=>l.editForm.address=h),required:"",rows:"3",class:"form-input resize-none",placeholder:"Enter company address"},null,512),[[Oe,l.editForm.address]])]),a("div",null,[t[99]||(t[99]=a("label",{for:"description",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"description"),Z(" Description ")],-1)),De(a("textarea",{id:"description","onUpdate:modelValue":t[14]||(t[14]=h=>l.editForm.description=h),rows:"3",class:"form-input resize-none",placeholder:"Describe your company and services"},null,512),[[Oe,l.editForm.description]])]),a("div",zE,[a("div",null,[t[100]||(t[100]=a("label",{for:"manager_name",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"person"),Z(" Manager Name ")],-1)),De(a("input",{type:"text",id:"manager_name","onUpdate:modelValue":t[15]||(t[15]=h=>l.editForm.manager_name=h),class:"form-input",placeholder:"Enter manager name"},null,512),[[Oe,l.editForm.manager_name]])]),a("div",null,[t[101]||(t[101]=a("label",{for:"manager_email",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"email"),Z(" Manager Email ")],-1)),De(a("input",{type:"email",id:"manager_email","onUpdate:modelValue":t[16]||(t[16]=h=>l.editForm.manager_email=h),class:"form-input",placeholder:"Enter manager email"},null,512),[[Oe,l.editForm.manager_email]])])]),a("div",JE,[a("div",null,[t[102]||(t[102]=a("label",{for:"manager_phone",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"phone"),Z(" Manager Phone ")],-1)),De(a("input",{type:"tel",id:"manager_phone","onUpdate:modelValue":t[17]||(t[17]=h=>l.editForm.manager_phone=h),class:"form-input",placeholder:"Enter manager phone"},null,512),[[Oe,l.editForm.manager_phone]])]),a("div",null,[t[103]||(t[103]=a("label",{for:"vat_number",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"receipt"),Z(" VAT Number ")],-1)),De(a("input",{type:"text",id:"vat_number","onUpdate:modelValue":t[18]||(t[18]=h=>l.editForm.vat_number=h),class:"form-input",placeholder:"Enter VAT number"},null,512),[[Oe,l.editForm.vat_number]])])]),a("div",null,[t[104]||(t[104]=a("label",{for:"business_registration_number",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"badge"),Z(" Business Registration Number ")],-1)),De(a("input",{type:"text",id:"business_registration_number","onUpdate:modelValue":t[19]||(t[19]=h=>l.editForm.business_registration_number=h),class:"form-input",placeholder:"Enter business registration number"},null,512),[[Oe,l.editForm.business_registration_number]])]),a("div",XE,[a("button",{type:"button",onClick:t[20]||(t[20]=h=>l.showProfileModal=!1),class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",KE,"refresh")):(_(),k("span",ZE,"close")),Z(" "+O(l.loading?"Saving...":"Cancel"),1)],8,YE),a("button",{type:"submit",class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",QE,"refresh")):(_(),k("span",$E,"save")),Z(" "+O(l.loading?"Saving...":"Save Changes"),1)],8,qE)])],32)])])):fe("",!0),l.showServicesModal?(_(),k("div",e6,[a("div",{class:"absolute inset-0 bg-black/50",onClick:t[23]||(t[23]=h=>l.showServicesModal=!1)}),a("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:t[28]||(t[28]=Ze(()=>{},["stop"]))},[a("div",t6,[t[105]||(t[105]=a("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"build"),Z(" Manage Services ")],-1)),a("button",{onClick:t[24]||(t[24]=h=>l.showServicesModal=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},"×")]),a("div",s6,[a("div",n6,[a("div",r6,[t[106]||(t[106]=a("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-blue-600"},"list"),Z(" Available Services ")],-1)),a("div",i6,[(_(!0),k(ze,null,tt(l.availableServices,h=>(_(),k("div",{key:h.id,class:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[De(a("input",{type:"checkbox",value:h.id,"onUpdate:modelValue":t[25]||(t[25]=A=>l.selectedServices=A),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,8,o6),[[Bo,l.selectedServices]]),a("div",x6,[a("div",l6,O(h.name),1),a("div",a6,O(h.category),1)])]))),128))])]),a("div",c6,[t[108]||(t[108]=a("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-green-600"},"check_circle"),Z(" Selected Services ")],-1)),l.selectedServices.length===0?(_(),k("div",d6,[...t[107]||(t[107]=[a("span",{class:"material-icon text-4xl text-gray-300"},"inventory_2",-1),a("p",{class:"mt-2"},"No services selected",-1)])])):(_(),k("div",u6,[(_(!0),k(ze,null,tt(l.selectedServices,h=>(_(),k("div",{key:h,class:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg"},[a("div",f6,[a("div",h6,O(E.getServiceName(h)),1)]),a("button",{type:"button",onClick:A=>E.setPrimaryService(h),class:vt(["px-3 py-1 text-xs font-medium rounded-full transition-colors",E.isPrimaryService(h)?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-200 text-gray-700 hover:bg-yellow-100 hover:text-yellow-800"])},O(E.isPrimaryService(h)?"Primary":"Set Primary"),11,E6)]))),128))]))])]),a("div",g6,[a("button",{type:"button",onClick:t[26]||(t[26]=h=>l.showServicesModal=!1),class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",m6,"refresh")):(_(),k("span",A6,"close")),Z(" "+O(l.loading?"Saving...":"Cancel"),1)],8,C6),a("button",{type:"button",onClick:t[27]||(t[27]=(...h)=>E.updateServices&&E.updateServices(...h)),class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",B6,"refresh")):(_(),k("span",b6,"save")),Z(" "+O(l.loading?"Saving...":"Save Services"),1)],8,p6)])])])])):fe("",!0),l.showRegionsModal?(_(),k("div",w6,[a("div",{class:"absolute inset-0 bg-black/50",onClick:t[29]||(t[29]=h=>l.showRegionsModal=!1)}),a("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:t[34]||(t[34]=Ze(()=>{},["stop"]))},[a("div",D6,[t[109]||(t[109]=a("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-green-600"},"location_on"),Z(" Manage Regions ")],-1)),a("button",{onClick:t[30]||(t[30]=h=>l.showRegionsModal=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},"×")]),a("div",F6,[a("div",y6,[a("div",v6,[t[110]||(t[110]=a("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-green-600"},"list"),Z(" Available Regions ")],-1)),a("div",_6,[(_(!0),k(ze,null,tt(l.availableRegions,h=>(_(),k("div",{key:h.id,class:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[De(a("input",{type:"checkbox",value:h.id,"onUpdate:modelValue":t[31]||(t[31]=A=>l.selectedRegions=A),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"},null,8,k6),[[Bo,l.selectedRegions]]),a("div",I6,[a("div",S6,O(h.name),1),a("div",T6,O(h.code),1)])]))),128))])]),a("div",P6,[t[113]||(t[113]=a("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-blue-600"},"check_circle"),Z(" Selected Regions ")],-1)),l.selectedRegions.length===0?(_(),k("div",R6,[...t[111]||(t[111]=[a("span",{class:"material-icon text-4xl text-gray-300"},"location_off",-1),a("p",{class:"mt-2"},"No regions selected",-1)])])):(_(),k("div",N6,[(_(!0),k(ze,null,tt(l.selectedRegions,h=>(_(),k("div",{key:h,class:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg"},[t[112]||(t[112]=a("div",{class:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center"},[a("span",{class:"material-icon-sm text-white"},"location_on")],-1)),a("div",O6,[a("div",M6,O(E.getRegionName(h)),1)])]))),128))]))])]),a("div",L6,[a("button",{type:"button",onClick:t[32]||(t[32]=h=>l.showRegionsModal=!1),class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",j6,"refresh")):(_(),k("span",V6,"close")),Z(" "+O(l.loading?"Saving...":"Cancel"),1)],8,U6),a("button",{type:"button",onClick:t[33]||(t[33]=(...h)=>E.updateRegions&&E.updateRegions(...h)),class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",G6,"refresh")):(_(),k("span",W6,"save")),Z(" "+O(l.loading?"Saving...":"Save Regions"),1)],8,H6)])])])])):fe("",!0),l.showAddTechnicianModal?(_(),k("div",z6,[a("div",{class:"absolute inset-0 bg-black/50",onClick:t[35]||(t[35]=(...h)=>E.closeAddTechnicianModal&&E.closeAddTechnicianModal(...h))}),a("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:t[45]||(t[45]=Ze(()=>{},["stop"]))},[a("div",J6,[t[114]||(t[114]=a("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-purple-600"},"person_add"),Z(" Add New Technician ")],-1)),a("button",{onClick:t[36]||(t[36]=(...h)=>E.closeAddTechnicianModal&&E.closeAddTechnicianModal(...h)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"×")]),a("form",{onSubmit:t[44]||(t[44]=Ze((...h)=>E.createTechnician&&E.createTechnician(...h),["prevent"])),class:"p-6 space-y-6"},[a("div",X6,[a("div",null,[t[115]||(t[115]=a("label",{for:"tech_username",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"person"),Z(" Username * ")],-1)),De(a("input",{type:"text",id:"tech_username","onUpdate:modelValue":t[37]||(t[37]=h=>l.technicianForm.username=h),required:"",class:"form-input",placeholder:"Enter username"},null,512),[[Oe,l.technicianForm.username]])]),a("div",null,[t[116]||(t[116]=a("label",{for:"tech_email",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"email"),Z(" Email Address * ")],-1)),De(a("input",{type:"email",id:"tech_email","onUpdate:modelValue":t[38]||(t[38]=h=>l.technicianForm.email=h),required:"",class:"form-input",placeholder:"Enter email address"},null,512),[[Oe,l.technicianForm.email]])])]),a("div",Y6,[a("div",null,[t[117]||(t[117]=a("label",{for:"tech_first_name",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"badge"),Z(" First Name * ")],-1)),De(a("input",{type:"text",id:"tech_first_name","onUpdate:modelValue":t[39]||(t[39]=h=>l.technicianForm.first_name=h),required:"",class:"form-input",placeholder:"Enter first name"},null,512),[[Oe,l.technicianForm.first_name]])]),a("div",null,[t[118]||(t[118]=a("label",{for:"tech_last_name",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"badge"),Z(" Last Name * ")],-1)),De(a("input",{type:"text",id:"tech_last_name","onUpdate:modelValue":t[40]||(t[40]=h=>l.technicianForm.last_name=h),required:"",class:"form-input",placeholder:"Enter last name"},null,512),[[Oe,l.technicianForm.last_name]])])]),a("div",K6,[a("div",null,[t[119]||(t[119]=a("label",{for:"tech_password",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"lock"),Z(" Password * ")],-1)),De(a("input",{type:"password",id:"tech_password","onUpdate:modelValue":t[41]||(t[41]=h=>l.technicianForm.password=h),required:"",class:"form-input",placeholder:"Create a secure password"},null,512),[[Oe,l.technicianForm.password]])]),a("div",null,[t[120]||(t[120]=a("label",{for:"tech_phone",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"phone"),Z(" Phone Number ")],-1)),De(a("input",{type:"tel",id:"tech_phone","onUpdate:modelValue":t[42]||(t[42]=h=>l.technicianForm.phone=h),class:"form-input",placeholder:"Enter phone number"},null,512),[[Oe,l.technicianForm.phone]])])]),a("div",Z6,[a("button",{type:"button",onClick:t[43]||(t[43]=(...h)=>E.closeAddTechnicianModal&&E.closeAddTechnicianModal(...h)),class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",Q6,"refresh")):(_(),k("span",$6,"close")),Z(" "+O(l.loading?"Creating...":"Cancel"),1)],8,q6),a("button",{type:"submit",class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",t5,"refresh")):(_(),k("span",s5,"person_add")),Z(" "+O(l.loading?"Creating...":"Create Technician"),1)],8,e5)])],32)])])):fe("",!0),l.showEditTechnicianModal?(_(),k("div",n5,[a("div",{class:"absolute inset-0 bg-black/50",onClick:t[46]||(t[46]=(...h)=>E.closeEditTechnicianModal&&E.closeEditTechnicianModal(...h))}),a("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:t[56]||(t[56]=Ze(()=>{},["stop"]))},[a("div",r5,[t[121]||(t[121]=a("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-purple-600"},"edit"),Z(" Edit Technician ")],-1)),a("button",{onClick:t[47]||(t[47]=(...h)=>E.closeEditTechnicianModal&&E.closeEditTechnicianModal(...h)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"×")]),a("form",{onSubmit:t[55]||(t[55]=Ze((...h)=>E.updateTechnician&&E.updateTechnician(...h),["prevent"])),class:"p-6 space-y-6"},[a("div",i5,[a("div",null,[t[122]||(t[122]=a("label",{for:"edit_username",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"person"),Z(" Username ")],-1)),De(a("input",{type:"text",id:"edit_username","onUpdate:modelValue":t[48]||(t[48]=h=>l.technicianForm.username=h),readonly:"",class:"form-input bg-gray-50 cursor-not-allowed",placeholder:"Username cannot be changed"},null,512),[[Oe,l.technicianForm.username]])]),a("div",null,[t[123]||(t[123]=a("label",{for:"edit_email",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"email"),Z(" Email Address ")],-1)),De(a("input",{type:"email",id:"edit_email","onUpdate:modelValue":t[49]||(t[49]=h=>l.technicianForm.email=h),class:"form-input",placeholder:"Enter email address"},null,512),[[Oe,l.technicianForm.email]])])]),a("div",o5,[a("div",null,[t[124]||(t[124]=a("label",{for:"edit_first_name",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"badge"),Z(" First Name ")],-1)),De(a("input",{type:"text",id:"edit_first_name","onUpdate:modelValue":t[50]||(t[50]=h=>l.technicianForm.first_name=h),class:"form-input",placeholder:"Enter first name"},null,512),[[Oe,l.technicianForm.first_name]])]),a("div",null,[t[125]||(t[125]=a("label",{for:"edit_last_name",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"badge"),Z(" Last Name ")],-1)),De(a("input",{type:"text",id:"edit_last_name","onUpdate:modelValue":t[51]||(t[51]=h=>l.technicianForm.last_name=h),class:"form-input",placeholder:"Enter last name"},null,512),[[Oe,l.technicianForm.last_name]])])]),a("div",x5,[a("div",null,[t[126]||(t[126]=a("label",{for:"edit_phone",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"phone"),Z(" Phone Number ")],-1)),De(a("input",{type:"tel",id:"edit_phone","onUpdate:modelValue":t[52]||(t[52]=h=>l.technicianForm.phone=h),class:"form-input",placeholder:"Enter phone number"},null,512),[[Oe,l.technicianForm.phone]])]),a("div",null,[t[128]||(t[128]=a("label",{for:"edit_status",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"toggle_on"),Z(" Status ")],-1)),De(a("select",{id:"edit_status","onUpdate:modelValue":t[53]||(t[53]=h=>l.technicianForm.is_active=h),class:"form-input"},[...t[127]||(t[127]=[a("option",{value:!0},"Active",-1),a("option",{value:!1},"Inactive",-1)])],512),[[Ht,l.technicianForm.is_active]])])]),a("div",l5,[a("button",{type:"button",onClick:t[54]||(t[54]=(...h)=>E.closeEditTechnicianModal&&E.closeEditTechnicianModal(...h)),class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",c5,"refresh")):(_(),k("span",d5,"close")),Z(" "+O(l.loading?"Updating...":"Cancel"),1)],8,a5),a("button",{type:"submit",class:"btn-filled flex items-center gap-2",disabled:l.loading},[l.loading?(_(),k("span",f5,"refresh")):(_(),k("span",h5,"save")),Z(" "+O(l.loading?"Updating...":"Update Technician"),1)],8,u5)])],32)])])):fe("",!0)])}const g5=d0(Ch,[["render",E5]]),C5={name:"ServiceProviderClientJobs",data(){return{client:{},jobs:[],loading:!1,selectedJob:null,statusUpdateJob:null,newStatus:"",statusNotes:"",updatingStatus:!1,userRole:null,technicians:[],selectedTechnicianId:null,jobImages:{}}},computed:{activeJobsCount(){return this.jobs.filter(n=>["Reported","Assigned","In Progress"].includes(n.job_status)).length},completedJobsCount(){return this.jobs.filter(n=>n.job_status==="Completed").length}},mounted(){this.getUserRole();const n=this.$route.params.clientId;n?this.loadClientJobs(n):this.$router.push("/service-provider/dashboard")},methods:{async loadClientJobs(n){this.loading=!0;try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/service-provider-client-jobs.php?client_id=${n}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();this.client=f.client,this.jobs=f.jobs}else this.handleError(await c.json())}catch{alert("Failed to load client jobs")}finally{this.loading=!1}},async showJobDetails(n){this.selectedJob={...n},console.log("Loading images for job:",n.id),await this.loadJobImages(n.id),console.log("Images loaded:",this.jobImages[n.id])},closeJobDetails(){this.selectedJob=null},async showStatusModal(n){this.statusUpdateJob={...n},this.newStatus=n.job_status,this.statusNotes="",this.selectedTechnicianId=null,this.userRole===3&&await this.loadTechnicians()},closeStatusModal(){this.statusUpdateJob=null,this.newStatus="",this.statusNotes="",this.selectedTechnicianId=null},canUpdateStatus(n){return["Reported","Assigned","In Progress","On Hold"].includes(n.job_status)},async updateJobStatus(){if(!this.newStatus){alert("Please select a new status");return}if(this.newStatus==="In Progress"&&!this.selectedTechnicianId){alert('Please select a technician before setting the job to "In Progress"');return}this.updatingStatus=!0;try{const n=localStorage.getItem("token"),t={job_id:this.statusUpdateJob.id,status:this.newStatus,notes:this.statusNotes};this.newStatus==="In Progress"&&this.selectedTechnicianId&&(t.technician_id=this.selectedTechnicianId);const c=await fetch("/backend/api/job-status-update.php",{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(c.ok){const f=this.jobs.findIndex(l=>l.id===this.statusUpdateJob.id);if(f!==-1&&(this.jobs[f].job_status=this.newStatus,this.jobs[f].updated_at=new Date().toISOString(),this.newStatus==="In Progress"&&this.selectedTechnicianId)){const l=this.technicians.find(E=>E.id==this.selectedTechnicianId);l&&(this.jobs[f].assigned_technician=l.full_name)}this.closeStatusModal(),alert("Job status updated successfully!")}else this.handleError(await c.json())}catch{alert("Failed to update job status")}finally{this.updatingStatus=!1}},getStatusClass(n){return{Reported:"reported",Assigned:"assigned","In Progress":"in-progress",Completed:"completed","On Hold":"on-hold",Cancelled:"cancelled"}[n]||"unknown"},formatDate(n){const t=new Date(n);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},formatFileSize(n){if(n===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,f)).toFixed(2))+" "+c[f]},openImageModal(n){window.open(n.url,"_blank")},handleError(n){n.error?alert(n.error):alert("An error occurred")},getUserRole(){const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));this.userRole=t.role_id}catch(t){console.error("Error parsing token:",t),this.userRole=null}},async loadTechnicians(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/technicians.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.technicians=c.technicians||[]}else console.error("Failed to load technicians"),this.technicians=[]}catch(n){console.error("Error loading technicians:",n),this.technicians=[]}},async loadJobImages(n){try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/job-images.php?job_id=${n}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();this.jobImages[n]=f.images||[]}else console.error("Failed to load job images"),this.jobImages[n]=[]}catch(t){console.error("Error loading job images:",t),this.jobImages[n]=[]}},canSelectStatus(n){if(!this.statusUpdateJob)return!1;const t=this.statusUpdateJob.job_status,c=this.userRole===3,f=this.userRole===4;switch(n){case"Declined":return c&&t==="Assigned";case"In Progress":return c&&t==="Assigned";case"Quote Provided":return c;case"Repaired":return(c||f)&&t==="In Progress";case"Payment Requested":return c&&t==="Repaired";default:return!1}}}},m5={class:"min-h-screen bg-gray-50"},A5={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},p5={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},B5={class:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6"},b5={class:"text-3xl font-bold text-gray-900 mb-2"},w5={class:"text-gray-600 flex items-center gap-2"},D5={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},F5={class:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6 pb-4 border-b border-gray-200"},y5={class:"text-2xl font-bold text-gray-900 flex items-center gap-3"},v5={class:"flex gap-4"},_5={class:"text-center"},k5={class:"text-lg font-bold text-gray-900"},I5={class:"text-center"},S5={class:"text-lg font-bold text-blue-600"},T5={class:"text-center"},P5={class:"text-lg font-bold text-green-600"},R5={key:0,class:"text-center py-16"},N5={key:1,class:"text-center py-16"},O5={key:2,class:"space-y-6"},M5={class:"p-6 bg-gray-50 border-b border-gray-200"},L5={class:"flex justify-between items-start"},U5={class:"flex-1"},j5={class:"flex items-center justify-between mb-2"},V5={class:"text-xl font-semibold text-gray-900"},H5={class:"flex items-center gap-4 text-sm text-gray-600"},G5={class:"flex items-center gap-1"},W5={class:"flex items-center gap-1"},z5={class:"p-6"},J5={class:"mb-4"},X5={class:"text-gray-700"},Y5={key:0,class:"mb-4"},K5={class:"text-gray-700"},Z5={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 pt-4 border-t border-gray-200"},q5={class:"text-sm text-gray-600"},Q5={key:0},$5={class:"text-sm text-gray-600"},e3={class:"text-sm text-gray-600"},t3={class:"flex justify-end gap-3"},s3=["onClick"],n3=["onClick"],r3={class:"modal-header"},i3={class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},o3={class:"modal-body"},x3={class:"mb-6"},l3={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},a3={class:"space-y-3"},c3={class:"flex justify-between py-2 border-b border-gray-200"},d3={class:"text-gray-600"},u3={class:"flex justify-between py-2 border-b border-gray-200"},f3={class:"text-gray-600"},h3={class:"flex justify-between py-2 border-b border-gray-200"},E3={class:"text-gray-600"},g3={class:"flex justify-between py-2 border-b border-gray-200"},C3={class:"text-gray-600"},m3={class:"space-y-3"},A3={class:"flex justify-between py-2 border-b border-gray-200"},p3={class:"text-gray-600"},B3={class:"flex justify-between py-2 border-b border-gray-200"},b3={class:"text-gray-600"},w3={key:0,class:"flex justify-between py-2 border-b border-gray-200"},D3={class:"text-gray-600"},F3={class:"mb-6"},y3={class:"bg-gray-50 rounded-lg p-4"},v3={class:"text-gray-700"},_3={key:0,class:"mb-6"},k3={class:"bg-gray-50 rounded-lg p-4"},I3={class:"text-gray-700"},S3={key:1,class:"mb-6"},T3={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},P3={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},R3={class:"aspect-w-16 aspect-h-12 bg-gray-100 rounded-lg overflow-hidden border border-gray-200"},N3=["src","alt","onClick"],O3={class:"mt-2 text-sm text-gray-600"},M3={class:"font-medium truncate"},L3={class:"text-xs"},U3={key:0,class:"space-y-3"},j3={class:"flex-1"},V3={class:"font-medium text-gray-900"},H3={class:"text-sm text-gray-600"},G3={key:0},W3={key:1,class:"text-center py-8 text-gray-500"},z3={class:"modal-footer"},J3={class:"modal-header"},X3={class:"modal-body"},Y3={class:"p-4 mb-6 bg-gray-50 rounded-lg"},K3={class:"flex items-center justify-between"},Z3={class:"mb-6"},q3={key:0,value:"Declined"},Q3={key:1,value:"In Progress"},$3={key:2,value:"Quote Provided"},e4={key:3,value:"Repaired"},t4={key:4,value:"Payment Requested"},s4={key:0,class:"mb-6"},n4=["value"],r4={key:0,class:"text-sm text-red-600 mt-1"},i4={class:"mb-6"},o4={class:"modal-footer"},x4=["disabled"],l4={key:0,class:"material-icon-sm animate-spin mr-2"};function a4(n,t,c,f,l,E){return _(),k("div",m5,[a("div",A5,[a("div",p5,[a("div",B5,[a("div",null,[a("h1",b5,O(l.client.name),1),a("p",w5,[t[13]||(t[13]=a("span",{class:"material-icon-sm text-gray-500"},"location_on",-1)),Z(" "+O(l.client.address),1)])]),a("button",{onClick:t[0]||(t[0]=h=>n.$router.go(-1)),class:"btn-filled flex items-center gap-2"},[...t[14]||(t[14]=[a("span",{class:"material-icon-sm"},"arrow_back",-1),Z(" Back to Dashboard ",-1)])])])]),a("div",D5,[a("div",F5,[a("h2",y5,[t[15]||(t[15]=a("span",{class:"material-icon text-blue-600"},"work",-1)),Z(" Jobs for "+O(l.client.name),1)]),a("div",v5,[a("div",_5,[a("div",k5,O(l.jobs.length),1),t[16]||(t[16]=a("div",{class:"text-xs text-gray-600"},"Total Jobs",-1))]),a("div",I5,[a("div",S5,O(E.activeJobsCount),1),t[17]||(t[17]=a("div",{class:"text-xs text-gray-600"},"Active",-1))]),a("div",T5,[a("div",P5,O(E.completedJobsCount),1),t[18]||(t[18]=a("div",{class:"text-xs text-gray-600"},"Completed",-1))])])]),l.loading?(_(),k("div",R5,[...t[19]||(t[19]=[a("div",{class:"h-16 w-16 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center"},[a("span",{class:"material-icon text-gray-400 animate-spin"},"refresh")],-1),a("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Loading Jobs",-1),a("p",{class:"text-gray-600"},"Please wait while we fetch the job information...",-1)])])):l.jobs.length===0?(_(),k("div",N5,[...t[20]||(t[20]=[a("div",{class:"h-16 w-16 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center"},[a("span",{class:"material-icon text-gray-400"},"work_off")],-1),a("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No Jobs Found",-1),a("p",{class:"text-gray-600"},"No jobs have been assigned to you for this client yet.",-1)])])):(_(),k("div",O5,[(_(!0),k(ze,null,tt(l.jobs,h=>(_(),k("div",{key:h.id,class:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow bg-white"},[a("div",M5,[a("div",L5,[a("div",U5,[a("div",j5,[a("h3",V5,O(h.item_identifier||"No Item ID"),1),a("span",{class:vt(["px-3 py-1 rounded-full text-sm font-medium",h.job_status==="Reported"?"bg-blue-100 text-blue-800":h.job_status==="Assigned"?"bg-pink-100 text-pink-800":h.job_status==="In Progress"?"bg-purple-100 text-purple-800":h.job_status==="Completed"?"bg-gray-100 text-gray-800":h.job_status==="On Hold"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},O(h.job_status),3)]),a("div",H5,[a("span",G5,[t[21]||(t[21]=a("span",{class:"material-icon-sm"},"location_on",-1)),Z(" "+O(h.location_name),1)]),a("span",W5,[t[22]||(t[22]=a("span",{class:"material-icon-sm"},"event",-1)),Z(" "+O(E.formatDate(h.created_at)),1)])])])])]),a("div",z5,[a("div",J5,[t[23]||(t[23]=a("h4",{class:"text-lg font-medium text-gray-900 mb-2 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-blue-600"},"description"),Z(" Fault Description ")],-1)),a("p",X5,O(h.fault_description),1)]),h.technician_notes?(_(),k("div",Y5,[t[24]||(t[24]=a("h4",{class:"text-lg font-medium text-gray-900 mb-2 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-green-600"},"engineering"),Z(" Technician Notes ")],-1)),a("p",K5,O(h.technician_notes),1)])):fe("",!0),a("div",Z5,[a("div",null,[t[25]||(t[25]=a("span",{class:"text-sm font-medium text-gray-900"},"Reported by:",-1)),a("div",q5,O(h.reporting_user||"Unknown"),1)]),h.assigned_technician?(_(),k("div",Q5,[t[26]||(t[26]=a("span",{class:"text-sm font-medium text-gray-900"},"Assigned Technician:",-1)),a("div",$5,O(h.assigned_technician),1)])):fe("",!0),a("div",null,[t[27]||(t[27]=a("span",{class:"text-sm font-medium text-gray-900"},"Last Updated:",-1)),a("div",e3,O(E.formatDate(h.updated_at)),1)])]),a("div",t3,[a("button",{onClick:A=>E.showJobDetails(h),class:"btn-filled flex items-center gap-2"},[...t[28]||(t[28]=[a("span",{class:"material-icon-sm"},"visibility",-1),Z(" View Details ",-1)])],8,s3),E.canUpdateStatus(h)?(_(),k("button",{key:0,onClick:A=>E.showStatusModal(h),class:"btn-text flex items-center gap-2"},[...t[29]||(t[29]=[a("span",{class:"material-icon-sm"},"update",-1),Z(" Update Status ",-1)])],8,n3)):fe("",!0)])])]))),128))]))]),l.selectedJob?(_(),k("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=(...h)=>E.closeJobDetails&&E.closeJobDetails(...h))},[a("div",{class:"modal-content",onClick:t[3]||(t[3]=Ze(()=>{},["stop"]))},[a("div",r3,[a("h3",i3,[t[30]||(t[30]=a("span",{class:"material-icon text-blue-600"},"work",-1)),Z(" Job Details - "+O(l.selectedJob.item_identifier||"No Item ID"),1)]),a("button",{onClick:t[1]||(t[1]=(...h)=>E.closeJobDetails&&E.closeJobDetails(...h)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"×")]),a("div",o3,[a("div",x3,[a("span",{class:vt(["px-3 py-1 rounded-full text-sm font-medium",l.selectedJob.job_status==="Reported"?"bg-blue-100 text-blue-800":l.selectedJob.job_status==="Assigned"?"bg-pink-100 text-pink-800":l.selectedJob.job_status==="In Progress"?"bg-purple-100 text-purple-800":l.selectedJob.job_status==="Completed"?"bg-gray-100 text-gray-800":l.selectedJob.job_status==="On Hold"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},O(l.selectedJob.job_status),3)]),a("div",l3,[a("div",null,[t[35]||(t[35]=a("h4",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-blue-600"},"info"),Z(" Job Information ")],-1)),a("div",a3,[a("div",c3,[t[31]||(t[31]=a("span",{class:"font-medium text-gray-900"},"Location:",-1)),a("span",d3,O(l.selectedJob.location_name),1)]),a("div",u3,[t[32]||(t[32]=a("span",{class:"font-medium text-gray-900"},"Address:",-1)),a("span",f3,O(l.selectedJob.location_address),1)]),a("div",h3,[t[33]||(t[33]=a("span",{class:"font-medium text-gray-900"},"Reported:",-1)),a("span",E3,O(E.formatDate(l.selectedJob.created_at)),1)]),a("div",g3,[t[34]||(t[34]=a("span",{class:"font-medium text-gray-900"},"Last Updated:",-1)),a("span",C3,O(E.formatDate(l.selectedJob.updated_at)),1)])])]),a("div",null,[t[39]||(t[39]=a("h4",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-green-600"},"group"),Z(" People Involved ")],-1)),a("div",m3,[a("div",A3,[t[36]||(t[36]=a("span",{class:"font-medium text-gray-900"},"Client:",-1)),a("span",p3,O(l.selectedJob.client_name),1)]),a("div",B3,[t[37]||(t[37]=a("span",{class:"font-medium text-gray-900"},"Reported by:",-1)),a("span",b3,O(l.selectedJob.reporting_user||"Unknown"),1)]),l.selectedJob.assigned_technician?(_(),k("div",w3,[t[38]||(t[38]=a("span",{class:"font-medium text-gray-900"},"Assigned Technician:",-1)),a("span",D3,O(l.selectedJob.assigned_technician),1)])):fe("",!0)])])]),a("div",F3,[t[40]||(t[40]=a("h4",{class:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-blue-600"},"description"),Z(" Fault Description ")],-1)),a("div",y3,[a("p",v3,O(l.selectedJob.fault_description),1)])]),l.selectedJob.technician_notes?(_(),k("div",_3,[t[41]||(t[41]=a("h4",{class:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-green-600"},"engineering"),Z(" Technician Notes ")],-1)),a("div",k3,[a("p",I3,O(l.selectedJob.technician_notes),1)])])):fe("",!0),l.jobImages[l.selectedJob.id]&&l.jobImages[l.selectedJob.id].length>0?(_(),k("div",S3,[a("h4",T3,[t[42]||(t[42]=a("span",{class:"material-icon-sm text-orange-600"},"image",-1)),Z(" Attached Images ("+O(l.jobImages[l.selectedJob.id].length)+") ",1)]),a("div",P3,[(_(!0),k(ze,null,tt(l.jobImages[l.selectedJob.id],h=>(_(),k("div",{key:h.id,class:"relative group"},[a("div",R3,[a("img",{src:h.url,alt:h.original_filename,class:"w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform",onClick:A=>E.openImageModal(h)},null,8,N3)]),a("div",O3,[a("div",M3,O(h.original_filename),1),a("div",L3,O(E.formatFileSize(h.file_size))+" • "+O(E.formatDate(h.uploaded_at)),1)])]))),128))])])):fe("",!0),a("div",null,[t[45]||(t[45]=a("h4",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},[a("span",{class:"material-icon-sm text-purple-600"},"history"),Z(" Status History ")],-1)),l.selectedJob.status_history&&l.selectedJob.status_history.length>0?(_(),k("div",U3,[(_(!0),k(ze,null,tt(l.selectedJob.status_history,h=>(_(),k("div",{key:h.changed_at,class:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg"},[t[43]||(t[43]=a("div",{class:"w-3 h-3 bg-blue-600 rounded-full mt-2 flex-shrink-0"},null,-1)),a("div",j3,[a("div",V3,O(h.status),1),a("div",H3,[Z(O(E.formatDate(h.changed_at))+" ",1),h.changed_by?(_(),k("span",G3,"by "+O(h.changed_by),1)):fe("",!0)])])]))),128))])):(_(),k("div",W3,[...t[44]||(t[44]=[a("span",{class:"material-icon text-4xl text-gray-300"},"history",-1),a("p",{class:"mt-2"},"No status history available",-1)])]))])]),a("div",z3,[a("button",{onClick:t[2]||(t[2]=(...h)=>E.closeJobDetails&&E.closeJobDetails(...h)),class:"btn-filled"},"Close")])])])):fe("",!0),l.statusUpdateJob?(_(),k("div",{key:1,class:"modal-overlay",onClick:t[12]||(t[12]=(...h)=>E.closeStatusModal&&E.closeStatusModal(...h))},[a("div",{class:"modal-content",onClick:t[11]||(t[11]=Ze(()=>{},["stop"])),style:{"max-width":"500px"}},[a("div",J3,[t[46]||(t[46]=a("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[a("span",{class:"material-icon text-blue-600"},"update"),Z(" Update Job Status ")],-1)),a("button",{onClick:t[5]||(t[5]=(...h)=>E.closeStatusModal&&E.closeStatusModal(...h)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"×")]),a("div",X3,[a("div",Y3,[a("div",K3,[t[47]||(t[47]=a("span",{class:"font-medium text-gray-900"},"Current Status:",-1)),a("span",{class:vt(["px-3 py-1 rounded-full text-sm font-medium",l.statusUpdateJob.job_status==="Reported"?"bg-blue-100 text-blue-800":l.statusUpdateJob.job_status==="Assigned"?"bg-pink-100 text-pink-800":l.statusUpdateJob.job_status==="In Progress"?"bg-purple-100 text-purple-800":l.statusUpdateJob.job_status==="Completed"?"bg-gray-100 text-gray-800":l.statusUpdateJob.job_status==="On Hold"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},O(l.statusUpdateJob.job_status),3)])]),a("div",Z3,[t[48]||(t[48]=a("label",{for:"newStatus",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"flag"),Z(" New Status ")],-1)),De(a("select",{id:"newStatus","onUpdate:modelValue":t[6]||(t[6]=h=>l.newStatus=h),class:"form-input"},[E.canSelectStatus("Declined")?(_(),k("option",q3,"Declined")):fe("",!0),E.canSelectStatus("In Progress")?(_(),k("option",Q3,"In Progress")):fe("",!0),E.canSelectStatus("Quote Provided")?(_(),k("option",$3,"Quote Provided")):fe("",!0),E.canSelectStatus("Repaired")?(_(),k("option",e4,"Repaired")):fe("",!0),E.canSelectStatus("Payment Requested")?(_(),k("option",t4,"Payment Requested")):fe("",!0)],512),[[Ht,l.newStatus]])]),l.newStatus==="In Progress"?(_(),k("div",s4,[t[50]||(t[50]=a("label",{for:"technician",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"engineering"),Z(" Assign Technician * ")],-1)),De(a("select",{id:"technician","onUpdate:modelValue":t[7]||(t[7]=h=>l.selectedTechnicianId=h),class:"form-input"},[t[49]||(t[49]=a("option",{value:""},"Select a technician...",-1)),(_(!0),k(ze,null,tt(l.technicians,h=>(_(),k("option",{key:h.id,value:h.id},O(h.full_name)+" ("+O(h.username)+") ",9,n4))),128))],512),[[Ht,l.selectedTechnicianId]]),l.selectedTechnicianId?fe("",!0):(_(),k("p",r4,' A technician must be assigned before setting the job to "In Progress" '))])):fe("",!0),a("div",i4,[t[51]||(t[51]=a("label",{for:"notes",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"notes"),Z(" Notes (Optional) ")],-1)),De(a("textarea",{id:"notes","onUpdate:modelValue":t[8]||(t[8]=h=>l.statusNotes=h),rows:"3",class:"form-input resize-none",placeholder:"Add any notes about this status change..."},null,512),[[Oe,l.statusNotes]])])]),a("div",o4,[a("button",{onClick:t[9]||(t[9]=(...h)=>E.closeStatusModal&&E.closeStatusModal(...h)),class:"btn-text"},"Cancel"),a("button",{onClick:t[10]||(t[10]=(...h)=>E.updateJobStatus&&E.updateJobStatus(...h)),class:"btn-filled",disabled:l.updatingStatus},[l.updatingStatus?(_(),k("span",l4,"refresh")):fe("",!0),Z(" "+O(l.updatingStatus?"Updating...":"Update Status"),1)],8,x4)])])])):fe("",!0)])])}const c4=d0(C5,[["render",a4]]),d4={name:"ServiceProviderTechnicianJobs",data(){return{technician:{},jobs:[],loading:!1,selectedJob:null,statusUpdateJob:null,newStatus:"",statusNotes:"",updatingStatus:!1,userRole:null,technicians:[],selectedTechnicianId:null,jobImages:{}}},computed:{activeJobsCount(){return this.jobs.filter(n=>["Reported","Assigned","In Progress"].includes(n.job_status)).length},completedJobsCount(){return this.jobs.filter(n=>n.job_status==="Completed").length}},mounted(){this.getUserRole();const n=this.$route.params.technicianId;n?this.loadTechnicianJobs(n):this.$router.push("/service-provider/dashboard")},methods:{async loadTechnicianJobs(n){this.loading=!0;try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/technician-jobs.php?technician_id=${n}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();this.technician=f.technician,this.jobs=f.jobs}else this.handleError(await c.json())}catch{alert("Failed to load technician jobs")}finally{this.loading=!1}},async showJobDetails(n){this.selectedJob={...n},await this.loadJobImages(n.id)},closeJobDetails(){this.selectedJob=null},async showStatusModal(n){this.statusUpdateJob={...n},this.newStatus=n.job_status,this.statusNotes="",this.selectedTechnicianId=null,this.userRole===3&&await this.loadTechnicians()},closeStatusModal(){this.statusUpdateJob=null,this.newStatus="",this.statusNotes="",this.selectedTechnicianId=null},canUpdateStatus(n){return["Reported","Assigned","In Progress","On Hold"].includes(n.job_status)},async updateJobStatus(){if(!this.newStatus){alert("Please select a new status");return}if(this.newStatus==="In Progress"&&!this.selectedTechnicianId){alert('Please select a technician before setting the job to "In Progress"');return}this.updatingStatus=!0;try{const n=localStorage.getItem("token"),t={job_id:this.statusUpdateJob.id,status:this.newStatus,notes:this.statusNotes};this.newStatus==="In Progress"&&this.selectedTechnicianId&&(t.technician_id=this.selectedTechnicianId);const c=await fetch("/backend/api/job-status-update.php",{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(c.ok){const f=this.jobs.findIndex(l=>l.id===this.statusUpdateJob.id);if(f!==-1&&(this.jobs[f].job_status=this.newStatus,this.jobs[f].updated_at=new Date().toISOString(),this.newStatus==="In Progress"&&this.selectedTechnicianId)){const l=this.technicians.find(E=>E.id==this.selectedTechnicianId);l&&(this.jobs[f].assigned_technician=l.full_name)}this.closeStatusModal(),alert("Job status updated successfully!")}else this.handleError(await c.json())}catch{alert("Failed to update job status")}finally{this.updatingStatus=!1}},getStatusClass(n){return{Reported:"reported",Assigned:"assigned","In Progress":"in-progress",Completed:"completed","On Hold":"on-hold",Cancelled:"cancelled"}[n]||"unknown"},formatDate(n){const t=new Date(n);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},formatFileSize(n){if(n===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,f)).toFixed(2))+" "+c[f]},openImageModal(n){window.open(n.url,"_blank")},handleError(n){n.error?alert(n.error):alert("An error occurred")},getUserRole(){const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));this.userRole=t.role_id}catch(t){console.error("Error parsing token:",t),this.userRole=null}},async loadTechnicians(){try{const n=localStorage.getItem("token"),t=await fetch("/backend/api/technicians.php",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(t.ok){const c=await t.json();this.technicians=c.technicians||[]}else console.error("Failed to load technicians"),this.technicians=[]}catch(n){console.error("Error loading technicians:",n),this.technicians=[]}},async loadJobImages(n){try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/job-images.php?job_id=${n}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();this.jobImages[n]=f.images||[]}else console.error("Failed to load job images"),this.jobImages[n]=[]}catch(t){console.error("Error loading job images:",t),this.jobImages[n]=[]}},canSelectStatus(n){if(!this.statusUpdateJob)return!1;const t=this.statusUpdateJob.job_status,c=this.userRole===3,f=this.userRole===4;switch(n){case"Declined":return c&&t==="Assigned";case"In Progress":return c&&t==="Assigned";case"Quote Provided":return c;case"Repaired":return(c||f)&&t==="In Progress";case"Payment Requested":return c&&t==="Repaired";default:return!1}}}},u4={class:"technician-jobs"},f4={class:"page-header"},h4={class:"header-content"},E4={class:"technician-info"},g4={class:"technician-email"},C4={key:0,class:"technician-phone"},m4={class:"back-button"},A4={class:"jobs-section"},p4={class:"section-header"},B4={class:"jobs-summary"},b4={class:"summary-item"},w4={class:"summary-item active"},D4={class:"summary-item completed"},F4={key:0,class:"loading-state"},y4={key:1,class:"no-jobs"},v4={key:2,class:"jobs-list"},_4={class:"job-header"},k4={class:"job-title"},I4={class:"job-meta"},S4={class:"client"},T4={class:"location"},P4={class:"date"},R4={class:"job-content"},N4={class:"fault-description"},O4={key:0,class:"technician-notes"},M4={class:"job-details"},L4={class:"detail-item"},U4={class:"detail-item"},j4={class:"detail-item"},V4={class:"job-actions"},H4=["onClick"],G4=["onClick"],W4={class:"modal-header"},z4={class:"job-details-content"},J4={class:"job-info-grid"},X4={class:"info-section"},Y4={class:"info-grid"},K4={class:"info-item"},Z4={class:"info-item"},q4={class:"info-item"},Q4={class:"info-item"},$4={class:"info-item"},eg={class:"info-item"},tg={class:"info-section"},sg={class:"info-grid"},ng={class:"info-item"},rg={class:"info-item"},ig={class:"info-item"},og={class:"job-description-section"},xg={key:0,class:"job-notes-section"},lg={key:1,class:"job-images-section"},ag={class:"images-grid"},cg={class:"image-container"},dg=["src","alt","onClick"],ug={class:"image-info"},fg={class:"image-name"},hg={class:"image-meta"},Eg={class:"status-history-section"},gg={key:0,class:"status-timeline"},Cg={class:"timeline-content"},mg={class:"status-change"},Ag={class:"status-meta"},pg={key:0},Bg={key:1,class:"no-history"},bg={class:"modal-header"},wg={class:"status-form"},Dg={class:"current-status"},Fg={class:"form-group"},yg={key:0,value:"Declined"},vg={key:1,value:"In Progress"},_g={key:2,value:"Quote Provided"},kg={key:3,value:"Repaired"},Ig={key:4,value:"Payment Requested"},Sg={key:0,class:"form-group"},Tg=["value"],Pg={key:0,class:"text-sm text-red-600 mt-1"},Rg={class:"form-group"},Ng={class:"form-actions"},Og=["disabled"];function Mg(n,t,c,f,l,E){return _(),k("div",u4,[a("div",f4,[a("div",h4,[a("div",E4,[a("h1",null,O(l.technician.full_name),1),a("p",g4,O(l.technician.email),1),l.technician.phone?(_(),k("p",C4,O(l.technician.phone),1)):fe("",!0)]),a("div",m4,[a("button",{onClick:t[0]||(t[0]=h=>n.$router.go(-1)),class:"btn-secondary"}," ← Back to Dashboard ")])])]),a("div",A4,[a("div",p4,[a("h2",null,"Jobs Assigned to "+O(l.technician.full_name),1),a("div",B4,[a("span",b4," Total: "+O(l.jobs.length),1),a("span",w4," Active: "+O(E.activeJobsCount),1),a("span",D4," Completed: "+O(E.completedJobsCount),1)])]),l.loading?(_(),k("div",F4,[...t[12]||(t[12]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Loading technician jobs...",-1)])])):l.jobs.length===0?(_(),k("div",y4,[t[13]||(t[13]=a("div",{class:"no-jobs-icon"},"📋",-1)),t[14]||(t[14]=a("h3",null,"No jobs assigned",-1)),a("p",null,O(l.technician.full_name)+" doesn't have any jobs assigned yet.",1)])):(_(),k("div",v4,[(_(!0),k(ze,null,tt(l.jobs,h=>(_(),k("div",{key:h.id,class:"job-card"},[a("div",_4,[a("div",k4,[a("h3",null,O(h.item_identifier||"No Item ID"),1),a("span",{class:vt(["status-badge",E.getStatusClass(h.job_status)])},O(h.job_status),3)]),a("div",I4,[a("span",S4,O(h.client_name),1),a("span",T4,O(h.location_name),1),a("span",P4,O(E.formatDate(h.created_at)),1)])]),a("div",R4,[a("div",N4,[t[15]||(t[15]=a("h4",null,"Fault Description",-1)),a("p",null,O(h.fault_description),1)]),h.technician_notes?(_(),k("div",O4,[t[16]||(t[16]=a("h4",null,"Technician Notes",-1)),a("p",null,O(h.technician_notes),1)])):fe("",!0),a("div",M4,[a("div",L4,[t[17]||(t[17]=a("strong",null,"Service Provider:",-1)),Z(" "+O(h.service_provider_name),1)]),a("div",U4,[t[18]||(t[18]=a("strong",null,"Reported by:",-1)),Z(" "+O(h.reporting_user||"Unknown"),1)]),a("div",j4,[t[19]||(t[19]=a("strong",null,"Last Updated:",-1)),Z(" "+O(E.formatDate(h.updated_at)),1)])])]),a("div",V4,[a("button",{onClick:A=>E.showJobDetails(h),class:"btn-primary"}," View Details ",8,H4),E.canUpdateStatus(h)?(_(),k("button",{key:0,onClick:A=>E.showStatusModal(h),class:"btn-secondary"}," Update Status ",8,G4)):fe("",!0)])]))),128))]))]),l.selectedJob?(_(),k("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=(...h)=>E.closeJobDetails&&E.closeJobDetails(...h))},[a("div",{class:"modal-content job-details-modal",onClick:t[2]||(t[2]=Ze(()=>{},["stop"]))},[a("div",W4,[a("h3",null,"Job Details - "+O(l.selectedJob.item_identifier||"No Item ID"),1),a("button",{onClick:t[1]||(t[1]=(...h)=>E.closeJobDetails&&E.closeJobDetails(...h)),class:"close-btn"},"×")]),a("div",z4,[a("div",J4,[a("div",X4,[t[26]||(t[26]=a("h4",null,"Job Information",-1)),a("div",Y4,[a("div",K4,[t[20]||(t[20]=a("strong",null,"Status:",-1)),a("span",{class:vt(["status-badge",E.getStatusClass(l.selectedJob.job_status)])},O(l.selectedJob.job_status),3)]),a("div",Z4,[t[21]||(t[21]=a("strong",null,"Client:",-1)),Z(" "+O(l.selectedJob.client_name),1)]),a("div",q4,[t[22]||(t[22]=a("strong",null,"Location:",-1)),Z(" "+O(l.selectedJob.location_name),1)]),a("div",Q4,[t[23]||(t[23]=a("strong",null,"Address:",-1)),Z(" "+O(l.selectedJob.location_address),1)]),a("div",$4,[t[24]||(t[24]=a("strong",null,"Reported:",-1)),Z(" "+O(E.formatDate(l.selectedJob.created_at)),1)]),a("div",eg,[t[25]||(t[25]=a("strong",null,"Last Updated:",-1)),Z(" "+O(E.formatDate(l.selectedJob.updated_at)),1)])])]),a("div",tg,[t[30]||(t[30]=a("h4",null,"Assignment Details",-1)),a("div",sg,[a("div",ng,[t[27]||(t[27]=a("strong",null,"Technician:",-1)),Z(" "+O(l.technician.full_name),1)]),a("div",rg,[t[28]||(t[28]=a("strong",null,"Service Provider:",-1)),Z(" "+O(l.selectedJob.service_provider_name),1)]),a("div",ig,[t[29]||(t[29]=a("strong",null,"Reported by:",-1)),Z(" "+O(l.selectedJob.reporting_user||"Unknown"),1)])])])]),a("div",og,[t[31]||(t[31]=a("h4",null,"Fault Description",-1)),a("p",null,O(l.selectedJob.fault_description),1)]),l.selectedJob.technician_notes?(_(),k("div",xg,[t[32]||(t[32]=a("h4",null,"Technician Notes",-1)),a("p",null,O(l.selectedJob.technician_notes),1)])):fe("",!0),l.jobImages[l.selectedJob.id]&&l.jobImages[l.selectedJob.id].length>0?(_(),k("div",lg,[a("h4",null,"Attached Images ("+O(l.jobImages[l.selectedJob.id].length)+")",1),a("div",ag,[(_(!0),k(ze,null,tt(l.jobImages[l.selectedJob.id],h=>(_(),k("div",{key:h.id,class:"image-item"},[a("div",cg,[a("img",{src:h.url,alt:h.original_filename,class:"job-image",onClick:A=>E.openImageModal(h)},null,8,dg)]),a("div",ug,[a("div",fg,O(h.original_filename),1),a("div",hg,O(E.formatFileSize(h.file_size))+" • "+O(E.formatDate(h.uploaded_at)),1)])]))),128))])])):fe("",!0),a("div",Eg,[t[34]||(t[34]=a("h4",null,"Status History",-1)),l.selectedJob.status_history&&l.selectedJob.status_history.length>0?(_(),k("div",gg,[(_(!0),k(ze,null,tt(l.selectedJob.status_history,h=>(_(),k("div",{key:h.changed_at,class:"timeline-item"},[t[33]||(t[33]=a("div",{class:"timeline-marker"},null,-1)),a("div",Cg,[a("div",mg,O(h.status),1),a("div",Ag,[Z(O(E.formatDate(h.changed_at))+" ",1),h.changed_by?(_(),k("span",pg,"by "+O(h.changed_by),1)):fe("",!0)])])]))),128))])):(_(),k("div",Bg," No status history available "))])])])])):fe("",!0),l.statusUpdateJob?(_(),k("div",{key:1,class:"modal-overlay",onClick:t[11]||(t[11]=(...h)=>E.closeStatusModal&&E.closeStatusModal(...h))},[a("div",{class:"modal-content status-modal",onClick:t[10]||(t[10]=Ze(()=>{},["stop"]))},[a("div",bg,[t[35]||(t[35]=a("h3",null,"Update Job Status",-1)),a("button",{onClick:t[4]||(t[4]=(...h)=>E.closeStatusModal&&E.closeStatusModal(...h)),class:"close-btn"},"×")]),a("div",wg,[a("div",Dg,[t[36]||(t[36]=a("strong",null,"Current Status:",-1)),a("span",{class:vt(["status-badge",E.getStatusClass(l.statusUpdateJob.job_status)])},O(l.statusUpdateJob.job_status),3)]),a("div",Fg,[t[37]||(t[37]=a("label",{for:"newStatus"},"New Status",-1)),De(a("select",{id:"newStatus","onUpdate:modelValue":t[5]||(t[5]=h=>l.newStatus=h),class:"status-select"},[E.canSelectStatus("Declined")?(_(),k("option",yg,"Declined")):fe("",!0),E.canSelectStatus("In Progress")?(_(),k("option",vg,"In Progress")):fe("",!0),E.canSelectStatus("Quote Provided")?(_(),k("option",_g,"Quote Provided")):fe("",!0),E.canSelectStatus("Repaired")?(_(),k("option",kg,"Repaired")):fe("",!0),E.canSelectStatus("Payment Requested")?(_(),k("option",Ig,"Payment Requested")):fe("",!0)],512),[[Ht,l.newStatus]])]),l.newStatus==="In Progress"?(_(),k("div",Sg,[t[39]||(t[39]=a("label",{for:"technician",class:"form-label flex items-center gap-2"},[a("span",{class:"material-icon-sm text-gray-500"},"engineering"),Z(" Assign Technician * ")],-1)),De(a("select",{id:"technician","onUpdate:modelValue":t[6]||(t[6]=h=>l.selectedTechnicianId=h),class:"status-select"},[t[38]||(t[38]=a("option",{value:""},"Select a technician...",-1)),(_(!0),k(ze,null,tt(l.technicians,h=>(_(),k("option",{key:h.id,value:h.id},O(h.full_name)+" ("+O(h.username)+") ",9,Tg))),128))],512),[[Ht,l.selectedTechnicianId]]),l.selectedTechnicianId?fe("",!0):(_(),k("p",Pg,' A technician must be assigned before setting the job to "In Progress" '))])):fe("",!0),a("div",Rg,[t[40]||(t[40]=a("label",{for:"notes"},"Notes (Optional)",-1)),De(a("textarea",{id:"notes","onUpdate:modelValue":t[7]||(t[7]=h=>l.statusNotes=h),rows:"3",placeholder:"Add any notes about this status change..."},null,512),[[Oe,l.statusNotes]])]),a("div",Ng,[a("button",{onClick:t[8]||(t[8]=(...h)=>E.closeStatusModal&&E.closeStatusModal(...h)),class:"btn-secondary"},"Cancel"),a("button",{onClick:t[9]||(t[9]=(...h)=>E.updateJobStatus&&E.updateJobStatus(...h)),class:"btn-primary",disabled:l.updatingStatus},O(l.updatingStatus?"Updating...":"Update Status"),9,Og)])])])])):fe("",!0)])}const Lg=d0(d4,[["render",Mg],["__scopeId","data-v-6d461586"]]),Ug={name:"ClientServiceProviderBrowser",data(){return{providers:[],availableServices:[],availableRegions:[],loading:!1,currentPage:1,totalPages:1,totalCount:0,viewMode:"grid",selectedProvider:null,approvingProvider:null,removingProvider:null,filters:{search:"",selectedService:"",selectedRegion:"",sortBy:"name",sortOrder:"ASC"},searchTimeout:null}},computed:{hasActiveFilters(){return this.filters.search||this.filters.selectedService||this.filters.selectedRegion},visiblePages(){const n=[],t=this.totalPages,c=this.currentPage;if(t<=7)for(let f=1;f<=t;f++)n.push(f);else c<=4?n.push(1,2,3,4,5,"...",t):c>=t-3?n.push(1,"...",t-4,t-3,t-2,t-1,t):n.push(1,"...",c-1,c,c+1,"...",t);return n}},mounted(){this.loadProviders()},methods:{async loadProviders(){this.loading=!0;try{const n=localStorage.getItem("token"),t=new URLSearchParams({page:this.currentPage,limit:12,search:this.filters.search,services:this.filters.selectedService,regions:this.filters.selectedRegion,sort:this.filters.sortBy,order:this.filters.sortOrder}),c=await fetch(`/backend/api/service-providers.php?${t}`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();this.providers=f.providers,this.availableServices=f.filters.services,this.availableRegions=f.filters.regions,this.totalCount=f.pagination.total_count,this.totalPages=f.pagination.total_pages}else this.handleError(await c.json())}catch{alert("Failed to load service providers")}finally{this.loading=!1}},debouncedSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.currentPage=1,this.loadProviders()},500)},applyFilters(){this.currentPage=1,this.loadProviders()},clearSearch(){this.filters.search="",this.applyFilters()},clearServiceFilter(){this.filters.selectedService="",this.applyFilters()},clearRegionFilter(){this.filters.selectedRegion="",this.applyFilters()},clearAllFilters(){this.filters.search="",this.filters.selectedService="",this.filters.selectedRegion="",this.filters.sortBy="name",this.filters.sortOrder="ASC",this.currentPage=1,this.loadProviders()},goToPage(n){n>=1&&n<=this.totalPages&&(this.currentPage=n,this.loadProviders())},async addToApproved(n){this.approvingProvider=n;try{const t=localStorage.getItem("token"),c=await fetch("/backend/api/client-approved-providers.php",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({service_provider_id:n})});if(c.ok){const f=await c.json();alert(f.message);const l=this.providers.find(E=>E.id===n);l&&(l.is_approved=!0,l.approval_details=f)}else this.handleError(await c.json())}catch{alert("Failed to add provider to approved list")}finally{this.approvingProvider=null}},async removeFromApproved(n){this.removingProvider=n;try{const t=localStorage.getItem("token"),c=await fetch(`/backend/api/client-approved-providers.php?provider_id=${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const f=await c.json();alert(f.message);const l=this.providers.find(E=>E.id===n);l&&(l.is_approved=!1,l.approval_details=null)}else this.handleError(await c.json())}catch{alert("Failed to remove provider from approved list")}finally{this.removingProvider=null}},showProviderDetails(n){this.selectedProvider={...n}},closeProviderDetails(){this.selectedProvider=null},getServiceName(n){const t=this.availableServices.find(c=>c.id===n);return t?t.name:"Unknown Service"},getRegionName(n){const t=this.availableRegions.find(c=>c.id===n);return t?t.name:"Unknown Region"},truncateText(n,t){return n.length<=t?n:n.substring(0,t)+"..."},formatDate(n){return new Date(n).toLocaleDateString()},handleError(n){n.error?alert(n.error):alert("An error occurred")}}},jg={class:"min-h-screen bg-gray-50"},Vg={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Hg={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},Gg={class:"space-y-6"},Wg={class:"relative"},zg={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Jg=["value"],Xg=["value"],Yg={key:0,class:"pt-4 border-t border-gray-200"},Kg={class:"flex flex-wrap gap-2 mt-2"},Zg={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800"},qg={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800"},Qg={key:2,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800"},$g={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},eC={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-gray-200"},tC={class:"text-sm text-gray-600"},sC={key:0,class:"flex items-center gap-2"},nC={key:1},rC={class:"flex gap-2"},iC={key:0,class:"text-center py-16"},oC={key:1,class:"text-center py-16"},xC={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},lC={class:"card-header flex justify-between items-center"},aC={class:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},cC={class:"material-icon text-white"},dC={class:"flex gap-2"},uC=["onClick","disabled"],fC={key:0,class:"material-icon-sm animate-spin"},hC={key:1,class:"material-icon-sm"},EC=["onClick","disabled"],gC={key:0,class:"material-icon-sm animate-spin"},CC={key:1,class:"material-icon-sm"},mC={class:"card-content"},AC={class:"text-lg font-semibold text-gray-900 mb-2"},pC={class:"text-gray-600 text-sm mb-3"},BC={key:0,class:"text-gray-700 text-sm mb-4 line-clamp-2"},bC={class:"flex gap-4 text-sm text-gray-500 mb-4"},wC={class:"flex items-center gap-1"},DC={class:"flex items-center gap-1"},FC={class:"card-footer flex justify-between items-center"},yC=["onClick"],vC={class:"text-xs text-gray-500"},_C={key:3,class:"providers-list"},kC={class:"provider-list-content"},IC={class:"provider-list-header"},SC={class:"provider-list-actions"},TC=["onClick","disabled"],PC=["onClick","disabled"],RC=["onClick"],NC={class:"provider-address"},OC={class:"provider-meta"},MC={key:4,class:"pagination"},LC=["disabled"],UC={key:0,class:"page-ellipsis"},jC=["onClick"],VC=["disabled"],HC={class:"modal-header"},GC={class:"provider-details-content"},WC={class:"provider-details-main"},zC={class:"provider-info-section"},JC={class:"info-grid"},XC={class:"info-item"},YC={key:0,class:"info-item"},KC=["href"],ZC={key:1,class:"info-item full-width"},qC={class:"provider-services-section"},QC={class:"services-tags"},$C={key:0,class:"primary-indicator"},e7={class:"provider-regions-section"},t7={class:"regions-tags"},s7={class:"provider-details-actions"},n7=["disabled"],r7=["disabled"];function i7(n,t,c,f,l,E){return _(),k("div",jg,[a("div",Vg,[t[60]||(t[60]=hr('<div class="text-center mb-12" data-v-521d56a7><div class="mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-blue-100 mb-6" data-v-521d56a7><span class="material-icon text-blue-600" data-v-521d56a7>search</span></div><h1 class="text-4xl font-bold text-gray-900 mb-4" data-v-521d56a7>Find Service Providers</h1><p class="text-xl text-gray-600 max-w-2xl mx-auto" data-v-521d56a7> Discover and connect with qualified service providers in your area </p></div>',1)),a("div",Hg,[a("div",Gg,[a("div",Wg,[t[24]||(t[24]=a("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[a("span",{class:"material-icon-sm text-gray-400"},"search")],-1)),De(a("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=h=>l.filters.search=h),placeholder:"Search by name, description, or location...",onInput:t[1]||(t[1]=(...h)=>E.debouncedSearch&&E.debouncedSearch(...h)),class:"form-input pl-10 w-full"},null,544),[[Oe,l.filters.search]])]),a("div",zg,[a("div",null,[t[26]||(t[26]=a("label",{class:"form-label flex items-center gap-2 mb-2"},[a("span",{class:"material-icon-sm text-gray-500"},"build"),Z(" Services ")],-1)),De(a("select",{"onUpdate:modelValue":t[2]||(t[2]=h=>l.filters.selectedService=h),onChange:t[3]||(t[3]=(...h)=>E.applyFilters&&E.applyFilters(...h)),class:"form-input"},[t[25]||(t[25]=a("option",{value:""},"All Services",-1)),(_(!0),k(ze,null,tt(l.availableServices,h=>(_(),k("option",{key:h.id,value:h.id},O(h.name),9,Jg))),128))],544),[[Ht,l.filters.selectedService]])]),a("div",null,[t[28]||(t[28]=a("label",{class:"form-label flex items-center gap-2 mb-2"},[a("span",{class:"material-icon-sm text-gray-500"},"location_on"),Z(" Regions ")],-1)),De(a("select",{"onUpdate:modelValue":t[4]||(t[4]=h=>l.filters.selectedRegion=h),onChange:t[5]||(t[5]=(...h)=>E.applyFilters&&E.applyFilters(...h)),class:"form-input"},[t[27]||(t[27]=a("option",{value:""},"All Regions",-1)),(_(!0),k(ze,null,tt(l.availableRegions,h=>(_(),k("option",{key:h.id,value:h.id},O(h.name),9,Xg))),128))],544),[[Ht,l.filters.selectedRegion]])]),a("div",null,[t[30]||(t[30]=a("label",{class:"form-label flex items-center gap-2 mb-2"},[a("span",{class:"material-icon-sm text-gray-500"},"sort"),Z(" Sort By ")],-1)),De(a("select",{"onUpdate:modelValue":t[6]||(t[6]=h=>l.filters.sortBy=h),onChange:t[7]||(t[7]=(...h)=>E.applyFilters&&E.applyFilters(...h)),class:"form-input"},[...t[29]||(t[29]=[a("option",{value:"name"},"Name",-1),a("option",{value:"created_at"},"Newest",-1),a("option",{value:"updated_at"},"Recently Updated",-1)])],544),[[Ht,l.filters.sortBy]])]),a("div",null,[t[32]||(t[32]=a("label",{class:"form-label flex items-center gap-2 mb-2"},[a("span",{class:"material-icon-sm text-gray-500"},"arrow_upward"),Z(" Order ")],-1)),De(a("select",{"onUpdate:modelValue":t[8]||(t[8]=h=>l.filters.sortOrder=h),onChange:t[9]||(t[9]=(...h)=>E.applyFilters&&E.applyFilters(...h)),class:"form-input"},[...t[31]||(t[31]=[a("option",{value:"ASC"},"Ascending",-1),a("option",{value:"DESC"},"Descending",-1)])],544),[[Ht,l.filters.sortOrder]])])]),E.hasActiveFilters?(_(),k("div",Yg,[t[40]||(t[40]=a("span",{class:"text-sm font-medium text-gray-700 mr-3"},"Active Filters:",-1)),a("div",Kg,[l.filters.search?(_(),k("span",Zg,[t[34]||(t[34]=a("span",{class:"material-icon-sm mr-1"},"search",-1)),Z(' "'+O(l.filters.search)+'" ',1),a("button",{onClick:t[10]||(t[10]=(...h)=>E.clearSearch&&E.clearSearch(...h)),class:"ml-2 text-blue-600 hover:text-blue-800"},[...t[33]||(t[33]=[a("span",{class:"material-icon-sm"},"close",-1)])])])):fe("",!0),l.filters.selectedService?(_(),k("span",qg,[t[36]||(t[36]=a("span",{class:"material-icon-sm mr-1"},"build",-1)),Z(" "+O(E.getServiceName(l.filters.selectedService))+" ",1),a("button",{onClick:t[11]||(t[11]=(...h)=>E.clearServiceFilter&&E.clearServiceFilter(...h)),class:"ml-2 text-green-600 hover:text-green-800"},[...t[35]||(t[35]=[a("span",{class:"material-icon-sm"},"close",-1)])])])):fe("",!0),l.filters.selectedRegion?(_(),k("span",Qg,[t[38]||(t[38]=a("span",{class:"material-icon-sm mr-1"},"location_on",-1)),Z(" "+O(E.getRegionName(l.filters.selectedRegion))+" ",1),a("button",{onClick:t[12]||(t[12]=(...h)=>E.clearRegionFilter&&E.clearRegionFilter(...h)),class:"ml-2 text-purple-600 hover:text-purple-800"},[...t[37]||(t[37]=[a("span",{class:"material-icon-sm"},"close",-1)])])])):fe("",!0),a("button",{onClick:t[13]||(t[13]=(...h)=>E.clearAllFilters&&E.clearAllFilters(...h)),class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 text-red-800 hover:bg-red-200 transition-colors"},[...t[39]||(t[39]=[a("span",{class:"material-icon-sm mr-1"},"clear_all",-1),Z(" Clear All ",-1)])])])])):fe("",!0)])]),a("div",$g,[a("div",eC,[a("div",tC,[l.loading?(_(),k("span",sC,[...t[41]||(t[41]=[a("div",{class:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"},null,-1),Z(" Loading... ",-1)])])):(_(),k("span",nC,O(l.totalCount)+" service providers found",1))]),a("div",rC,[a("button",{onClick:t[14]||(t[14]=h=>l.viewMode="grid"),class:vt(["px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",l.viewMode==="grid"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},[...t[42]||(t[42]=[a("span",{class:"material-icon-sm"},"grid_view",-1),Z(" Grid ",-1)])],2),a("button",{onClick:t[15]||(t[15]=h=>l.viewMode="list"),class:vt(["px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",l.viewMode==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},[...t[43]||(t[43]=[a("span",{class:"material-icon-sm"},"list",-1),Z(" List ",-1)])],2)])]),l.loading?(_(),k("div",iC,[...t[44]||(t[44]=[a("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"},null,-1),a("p",{class:"text-gray-600"},"Loading service providers...",-1)])])):l.providers.length===0?(_(),k("div",oC,[t[46]||(t[46]=a("div",{class:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gray-100 mb-6"},[a("span",{class:"material-icon text-gray-400"},"search_off")],-1)),t[47]||(t[47]=a("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No service providers found",-1)),t[48]||(t[48]=a("p",{class:"text-gray-600 mb-6"},"Try adjusting your search criteria or filters",-1)),a("button",{onClick:t[16]||(t[16]=(...h)=>E.clearAllFilters&&E.clearAllFilters(...h)),class:"btn-filled flex items-center gap-2 mx-auto"},[...t[45]||(t[45]=[a("span",{class:"material-icon-sm"},"refresh",-1),Z(" Clear Filters ",-1)])])])):l.viewMode==="grid"?(_(),k("div",xC,[(_(!0),k(ze,null,tt(l.providers,h=>(_(),k("div",{key:h.id,class:"card hover:shadow-lg transition-shadow"},[a("div",lC,[a("div",aC,[a("span",cC,O(h.name.charAt(0)),1)]),a("div",dC,[h.is_approved?(_(),k("button",{key:1,onClick:A=>E.removeFromApproved(h.id),class:"btn-outlined btn-small flex items-center gap-1",disabled:l.removingProvider===h.id},[l.removingProvider===h.id?(_(),k("span",gC,"refresh")):(_(),k("span",CC,"check")),Z(" "+O(l.removingProvider===h.id?"Removing...":"Added"),1)],8,EC)):(_(),k("button",{key:0,onClick:A=>E.addToApproved(h.id),class:"btn-filled btn-small flex items-center gap-1",disabled:l.approvingProvider===h.id},[l.approvingProvider===h.id?(_(),k("span",fC,"refresh")):(_(),k("span",hC,"add")),Z(" "+O(l.approvingProvider===h.id?"Adding...":"Add"),1)],8,uC))])]),a("div",mC,[a("h3",AC,O(h.name),1),a("p",pC,O(h.address),1),h.description?(_(),k("p",BC,O(E.truncateText(h.description,100)),1)):fe("",!0),a("div",bC,[a("div",wC,[t[49]||(t[49]=a("span",{class:"material-icon-sm"},"build",-1)),Z(" "+O(h.services_count)+" services ",1)]),a("div",DC,[t[50]||(t[50]=a("span",{class:"material-icon-sm"},"location_on",-1)),Z(" "+O(h.regions_count)+" regions ",1)])])]),a("div",FC,[a("button",{onClick:A=>E.showProviderDetails(h),class:"btn-text btn-small flex items-center gap-1"},[...t[51]||(t[51]=[a("span",{class:"material-icon-sm"},"visibility",-1),Z(" View Details ",-1)])],8,yC),a("div",vC," Updated "+O(E.formatDate(h.updated_at)),1)])]))),128))])):(_(),k("div",_C,[(_(!0),k(ze,null,tt(l.providers,h=>(_(),k("div",{key:h.id,class:"provider-list-item"},[a("div",kC,[a("div",IC,[a("h3",null,O(h.name),1),a("div",SC,[h.is_approved?(_(),k("button",{key:1,onClick:A=>E.removeFromApproved(h.id),class:"remove-btn-small",disabled:l.removingProvider===h.id},O(l.removingProvider===h.id?"Removing...":"✓ Added"),9,PC)):(_(),k("button",{key:0,onClick:A=>E.addToApproved(h.id),class:"approve-btn-small",disabled:l.approvingProvider===h.id},O(l.approvingProvider===h.id?"Adding...":"+ Add"),9,TC)),a("button",{onClick:A=>E.showProviderDetails(h),class:"details-btn-small"}," Details ",8,RC)])]),a("p",NC,O(h.address),1),a("div",OC,[a("span",null,O(h.services_count)+" services",1),t[52]||(t[52]=Z(" • ",-1)),a("span",null,O(h.regions_count)+" regions",1),t[53]||(t[53]=Z(" • ",-1)),a("span",null,"Updated "+O(E.formatDate(h.updated_at)),1)])])]))),128))])),l.totalPages>1?(_(),k("div",MC,[a("button",{onClick:t[17]||(t[17]=h=>E.goToPage(l.currentPage-1)),disabled:l.currentPage===1,class:"page-btn"}," Previous ",8,LC),(_(!0),k(ze,null,tt(E.visiblePages,h=>(_(),k("span",{key:h,class:"page-numbers"},[h==="..."?(_(),k("button",UC,O(h),1)):(_(),k("button",{key:1,onClick:A=>E.goToPage(h),class:vt(["page-btn",{active:h===l.currentPage}])},O(h),11,jC))]))),128)),a("button",{onClick:t[18]||(t[18]=h=>E.goToPage(l.currentPage+1)),disabled:l.currentPage===l.totalPages,class:"page-btn"}," Next ",8,VC)])):fe("",!0)]),l.selectedProvider?(_(),k("div",{key:0,class:"modal-overlay",onClick:t[23]||(t[23]=(...h)=>E.closeProviderDetails&&E.closeProviderDetails(...h))},[a("div",{class:"modal-content provider-details-modal",onClick:t[22]||(t[22]=Ze(()=>{},["stop"]))},[a("div",HC,[a("h3",null,O(l.selectedProvider.name),1),a("button",{onClick:t[19]||(t[19]=(...h)=>E.closeProviderDetails&&E.closeProviderDetails(...h)),class:"close-btn"},"×")]),a("div",GC,[a("div",WC,[a("div",zC,[t[57]||(t[57]=a("h4",null,"Company Information",-1)),a("div",JC,[a("div",XC,[t[54]||(t[54]=a("strong",null,"Address:",-1)),Z(" "+O(l.selectedProvider.address),1)]),l.selectedProvider.website?(_(),k("div",YC,[t[55]||(t[55]=a("strong",null,"Website:",-1)),a("a",{href:l.selectedProvider.website,target:"_blank"},O(l.selectedProvider.website),9,KC)])):fe("",!0),l.selectedProvider.description?(_(),k("div",ZC,[t[56]||(t[56]=a("strong",null,"Description:",-1)),Z(" "+O(l.selectedProvider.description),1)])):fe("",!0)])]),a("div",qC,[t[58]||(t[58]=a("h4",null,"Services Offered",-1)),a("div",QC,[(_(!0),k(ze,null,tt(l.selectedProvider.services,h=>(_(),k("span",{key:h.id,class:vt(["service-tag",{primary:h.is_primary}])},[Z(O(h.name)+" ",1),h.is_primary?(_(),k("span",$C,"★")):fe("",!0)],2))),128))])]),a("div",e7,[t[59]||(t[59]=a("h4",null,"Service Regions",-1)),a("div",t7,[(_(!0),k(ze,null,tt(l.selectedProvider.regions,h=>(_(),k("span",{key:h.id,class:"region-tag"},O(h.name),1))),128))])])]),a("div",s7,[l.selectedProvider.is_approved?(_(),k("button",{key:1,onClick:t[21]||(t[21]=h=>E.removeFromApproved(l.selectedProvider.id)),class:"remove-btn-large",disabled:l.removingProvider===l.selectedProvider.id},O(l.removingProvider===l.selectedProvider.id?"Removing...":"✓ Remove from Approved List"),9,r7)):(_(),k("button",{key:0,onClick:t[20]||(t[20]=h=>E.addToApproved(l.selectedProvider.id)),class:"approve-btn-large",disabled:l.approvingProvider===l.selectedProvider.id},O(l.approvingProvider===l.selectedProvider.id?"Adding to Approved...":"+ Add to Approved List"),9,n7))])])])])):fe("",!0)])])}const o7=d0(Ug,[["render",i7],["__scopeId","data-v-521d56a7"]]),x7=[{path:"/",name:"Home",component:Td},{path:"/client-registration",name:"ClientRegistration",component:Gd},{path:"/client-signin",name:"ClientSignin",component:su},{path:"/client-dashboard",name:"ClientDashboard",component:$2,meta:{requiresAuth:!0,userType:"client"}},{path:"/service-provider-registration",name:"ServiceProviderRegistration",component:lh},{path:"/service-provider-signin",name:"ServiceProviderSignin",component:gh},{path:"/service-provider-dashboard",name:"ServiceProviderDashboard",component:g5,meta:{requiresAuth:!0,userType:"service_provider"}},{path:"/service-provider/client/:clientId/jobs",name:"ServiceProviderClientJobs",component:c4,meta:{requiresAuth:!0,userType:"service_provider"},props:!0},{path:"/service-provider/technician/:technicianId/jobs",name:"ServiceProviderTechnicianJobs",component:Lg,meta:{requiresAuth:!0,userType:"service_provider"},props:!0},{path:"/browse-providers",name:"ClientServiceProviderBrowser",component:o7,meta:{requiresAuth:!0,userType:"client"}}],gl=Bd({history:Zc(),routes:x7});gl.beforeEach((n,t,c)=>{const f=localStorage.getItem("token"),l=n.matched.some(h=>h.meta.requiresAuth),E=n.matched.find(h=>h.meta.userType)?.meta.userType;if(l&&!f){c(E==="client"?"/client-signin":E==="service_provider"?"/service-provider-signin":"/");return}if(l&&f&&E)try{const h=JSON.parse(atob(f.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));if(h.entity_type!==E){h.entity_type==="client"?c("/client-dashboard"):h.entity_type==="service_provider"?c("/service-provider-dashboard"):(localStorage.removeItem("token"),c("/"));return}}catch{localStorage.removeItem("token"),c("/");return}c()});fc(Ac).use(gl).mount("#app");
