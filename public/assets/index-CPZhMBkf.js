(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))f(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&f(g)}).observe(document,{childList:!0,subtree:!0});function c(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerPolicy&&(h.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?h.credentials="include":a.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(a){if(a.ep)return;a.ep=!0;const h=c(a);fetch(a.href,h)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ai(n){const t=Object.create(null);for(const c of n.split(","))t[c]=1;return c=>c in t}const pt={},Rs=[],N0=()=>{},Zo=()=>!1,xr=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),ci=n=>n.startsWith("onUpdate:"),Zt=Object.assign,di=(n,t)=>{const c=n.indexOf(t);c>-1&&n.splice(c,1)},Kl=Object.prototype.hasOwnProperty,Et=(n,t)=>Kl.call(n,t),Je=Array.isArray,Ns=n=>Fn(n)==="[object Map]",Ws=n=>Fn(n)==="[object Set]",zi=n=>Fn(n)==="[object Date]",Ze=n=>typeof n=="function",Rt=n=>typeof n=="string",M0=n=>typeof n=="symbol",Dt=n=>n!==null&&typeof n=="object",qo=n=>(Dt(n)||Ze(n))&&Ze(n.then)&&Ze(n.catch),Qo=Object.prototype.toString,Fn=n=>Qo.call(n),Zl=n=>Fn(n).slice(8,-1),$o=n=>Fn(n)==="[object Object]",ui=n=>Rt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,ln=ai(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lr=n=>{const t=Object.create(null);return(c=>t[c]||(t[c]=n(c)))},ql=/-\w/g,A0=lr(n=>n.replace(ql,t=>t.slice(1).toUpperCase())),Ql=/\B([A-Z])/g,Bs=lr(n=>n.replace(Ql,"-$1").toLowerCase()),ar=lr(n=>n.charAt(0).toUpperCase()+n.slice(1)),Lr=lr(n=>n?`on${ar(n)}`:""),ls=(n,t)=>!Object.is(n,t),Jn=(n,...t)=>{for(let c=0;c<n.length;c++)n[c](...t)},ex=(n,t,c,f=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:f,value:c})},Kn=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Yi;const cr=()=>Yi||(Yi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gs(n){if(Je(n)){const t={};for(let c=0;c<n.length;c++){const f=n[c],a=Rt(f)?sa(f):Gs(f);if(a)for(const h in a)t[h]=a[h]}return t}else if(Rt(n)||Dt(n))return n}const $l=/;(?![^(]*\))/g,ea=/:([^]+)/,ta=/\/\*[^]*?\*\//g;function sa(n){const t={};return n.replace(ta,"").split($l).forEach(c=>{if(c){const f=c.split(ea);f.length>1&&(t[f[0].trim()]=f[1].trim())}}),t}function xt(n){let t="";if(Rt(n))t=n;else if(Je(n))for(let c=0;c<n.length;c++){const f=xt(n[c]);f&&(t+=f+" ")}else if(Dt(n))for(const c in n)n[c]&&(t+=c+" ");return t.trim()}const na="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ra=ai(na);function tx(n){return!!n||n===""}function ia(n,t){if(n.length!==t.length)return!1;let c=!0;for(let f=0;c&&f<n.length;f++)c=yn(n[f],t[f]);return c}function yn(n,t){if(n===t)return!0;let c=zi(n),f=zi(t);if(c||f)return c&&f?n.getTime()===t.getTime():!1;if(c=M0(n),f=M0(t),c||f)return n===t;if(c=Je(n),f=Je(t),c||f)return c&&f?ia(n,t):!1;if(c=Dt(n),f=Dt(t),c||f){if(!c||!f)return!1;const a=Object.keys(n).length,h=Object.keys(t).length;if(a!==h)return!1;for(const g in n){const C=n.hasOwnProperty(g),w=t.hasOwnProperty(g);if(C&&!w||!C&&w||!yn(n[g],t[g]))return!1}}return String(n)===String(t)}function fi(n,t){return n.findIndex(c=>yn(c,t))}const sx=n=>!!(n&&n.__v_isRef===!0),I=n=>Rt(n)?n:n==null?"":Je(n)||Dt(n)&&(n.toString===Qo||!Ze(n.toString))?sx(n)?I(n.value):JSON.stringify(n,nx,2):String(n),nx=(n,t)=>sx(t)?nx(n,t.value):Ns(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((c,[f,a],h)=>(c[Ur(f,h)+" =>"]=a,c),{})}:Ws(t)?{[`Set(${t.size})`]:[...t.values()].map(c=>Ur(c))}:M0(t)?Ur(t):Dt(t)&&!Je(t)&&!$o(t)?String(t):t,Ur=(n,t="")=>{var c;return M0(n)?`Symbol(${(c=n.description)!=null?c:t})`:n};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let x0;class oa{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=x0,!t&&x0&&(this.index=(x0.scopes||(x0.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,c;if(this.scopes)for(t=0,c=this.scopes.length;t<c;t++)this.scopes[t].pause();for(t=0,c=this.effects.length;t<c;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,c;if(this.scopes)for(t=0,c=this.scopes.length;t<c;t++)this.scopes[t].resume();for(t=0,c=this.effects.length;t<c;t++)this.effects[t].resume()}}run(t){if(this._active){const c=x0;try{return x0=this,t()}finally{x0=c}}}on(){++this._on===1&&(this.prevScope=x0,x0=this)}off(){this._on>0&&--this._on===0&&(x0=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let c,f;for(c=0,f=this.effects.length;c<f;c++)this.effects[c].stop();for(this.effects.length=0,c=0,f=this.cleanups.length;c<f;c++)this.cleanups[c]();if(this.cleanups.length=0,this.scopes){for(c=0,f=this.scopes.length;c<f;c++)this.scopes[c].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function xa(){return x0}let wt;const jr=new WeakSet;class rx{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,x0&&x0.active&&x0.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,jr.has(this)&&(jr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ox(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ki(this),xx(this);const t=wt,c=w0;wt=this,w0=!0;try{return this.fn()}finally{lx(this),wt=t,w0=c,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)gi(t);this.deps=this.depsTail=void 0,Ki(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?jr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zr(this)&&this.run()}get dirty(){return Zr(this)}}let ix=0,an,cn;function ox(n,t=!1){if(n.flags|=8,t){n.next=cn,cn=n;return}n.next=an,an=n}function hi(){ix++}function Ei(){if(--ix>0)return;if(cn){let t=cn;for(cn=void 0;t;){const c=t.next;t.next=void 0,t.flags&=-9,t=c}}let n;for(;an;){let t=an;for(an=void 0;t;){const c=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(f){n||(n=f)}t=c}}if(n)throw n}function xx(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function lx(n){let t,c=n.depsTail,f=c;for(;f;){const a=f.prevDep;f.version===-1?(f===c&&(c=a),gi(f),la(f)):t=f,f.dep.activeLink=f.prevActiveLink,f.prevActiveLink=void 0,f=a}n.deps=t,n.depsTail=c}function Zr(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ax(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function ax(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Cn)||(n.globalVersion=Cn,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Zr(n))))return;n.flags|=2;const t=n.dep,c=wt,f=w0;wt=n,w0=!0;try{xx(n);const a=n.fn(n._value);(t.version===0||ls(a,n._value))&&(n.flags|=128,n._value=a,t.version++)}catch(a){throw t.version++,a}finally{wt=c,w0=f,lx(n),n.flags&=-3}}function gi(n,t=!1){const{dep:c,prevSub:f,nextSub:a}=n;if(f&&(f.nextSub=a,n.prevSub=void 0),a&&(a.prevSub=f,n.nextSub=void 0),c.subs===n&&(c.subs=f,!f&&c.computed)){c.computed.flags&=-5;for(let h=c.computed.deps;h;h=h.nextDep)gi(h,!0)}!t&&!--c.sc&&c.map&&c.map.delete(c.key)}function la(n){const{prevDep:t,nextDep:c}=n;t&&(t.nextDep=c,n.prevDep=void 0),c&&(c.prevDep=t,n.nextDep=void 0)}let w0=!0;const cx=[];function z0(){cx.push(w0),w0=!1}function Y0(){const n=cx.pop();w0=n===void 0?!0:n}function Ki(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const c=wt;wt=void 0;try{t()}finally{wt=c}}}let Cn=0;class aa{constructor(t,c){this.sub=t,this.dep=c,this.version=c.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ci{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!wt||!w0||wt===this.computed)return;let c=this.activeLink;if(c===void 0||c.sub!==wt)c=this.activeLink=new aa(wt,this),wt.deps?(c.prevDep=wt.depsTail,wt.depsTail.nextDep=c,wt.depsTail=c):wt.deps=wt.depsTail=c,dx(c);else if(c.version===-1&&(c.version=this.version,c.nextDep)){const f=c.nextDep;f.prevDep=c.prevDep,c.prevDep&&(c.prevDep.nextDep=f),c.prevDep=wt.depsTail,c.nextDep=void 0,wt.depsTail.nextDep=c,wt.depsTail=c,wt.deps===c&&(wt.deps=f)}return c}trigger(t){this.version++,Cn++,this.notify(t)}notify(t){hi();try{for(let c=this.subs;c;c=c.prevSub)c.sub.notify()&&c.sub.dep.notify()}finally{Ei()}}}function dx(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let f=t.deps;f;f=f.nextDep)dx(f)}const c=n.dep.subs;c!==n&&(n.prevSub=c,c&&(c.nextSub=n)),n.dep.subs=n}}const qr=new WeakMap,ps=Symbol(""),Qr=Symbol(""),mn=Symbol("");function zt(n,t,c){if(w0&&wt){let f=qr.get(n);f||qr.set(n,f=new Map);let a=f.get(c);a||(f.set(c,a=new Ci),a.map=f,a.key=c),a.track()}}function H0(n,t,c,f,a,h){const g=qr.get(n);if(!g){Cn++;return}const C=w=>{w&&w.trigger()};if(hi(),t==="clear")g.forEach(C);else{const w=Je(n),A=w&&ui(c);if(w&&c==="length"){const D=Number(f);g.forEach((b,S)=>{(S==="length"||S===mn||!M0(S)&&S>=D)&&C(b)})}else switch((c!==void 0||g.has(void 0))&&C(g.get(c)),A&&C(g.get(mn)),t){case"add":w?A&&C(g.get("length")):(C(g.get(ps)),Ns(n)&&C(g.get(Qr)));break;case"delete":w||(C(g.get(ps)),Ns(n)&&C(g.get(Qr)));break;case"set":Ns(n)&&C(g.get(ps));break}}Ei()}function Ss(n){const t=ht(n);return t===n?t:(zt(t,"iterate",mn),m0(n)?t:t.map(Wt))}function dr(n){return zt(n=ht(n),"iterate",mn),n}const ca={__proto__:null,[Symbol.iterator](){return Vr(this,Symbol.iterator,Wt)},concat(...n){return Ss(this).concat(...n.map(t=>Je(t)?Ss(t):t))},entries(){return Vr(this,"entries",n=>(n[1]=Wt(n[1]),n))},every(n,t){return U0(this,"every",n,t,void 0,arguments)},filter(n,t){return U0(this,"filter",n,t,c=>c.map(Wt),arguments)},find(n,t){return U0(this,"find",n,t,Wt,arguments)},findIndex(n,t){return U0(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return U0(this,"findLast",n,t,Wt,arguments)},findLastIndex(n,t){return U0(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return U0(this,"forEach",n,t,void 0,arguments)},includes(...n){return Jr(this,"includes",n)},indexOf(...n){return Jr(this,"indexOf",n)},join(n){return Ss(this).join(n)},lastIndexOf(...n){return Jr(this,"lastIndexOf",n)},map(n,t){return U0(this,"map",n,t,void 0,arguments)},pop(){return tn(this,"pop")},push(...n){return tn(this,"push",n)},reduce(n,...t){return Zi(this,"reduce",n,t)},reduceRight(n,...t){return Zi(this,"reduceRight",n,t)},shift(){return tn(this,"shift")},some(n,t){return U0(this,"some",n,t,void 0,arguments)},splice(...n){return tn(this,"splice",n)},toReversed(){return Ss(this).toReversed()},toSorted(n){return Ss(this).toSorted(n)},toSpliced(...n){return Ss(this).toSpliced(...n)},unshift(...n){return tn(this,"unshift",n)},values(){return Vr(this,"values",Wt)}};function Vr(n,t,c){const f=dr(n),a=f[t]();return f!==n&&!m0(n)&&(a._next=a.next,a.next=()=>{const h=a._next();return h.value&&(h.value=c(h.value)),h}),a}const da=Array.prototype;function U0(n,t,c,f,a,h){const g=dr(n),C=g!==n&&!m0(n),w=g[t];if(w!==da[t]){const b=w.apply(n,h);return C?Wt(b):b}let A=c;g!==n&&(C?A=function(b,S){return c.call(this,Wt(b),S,n)}:c.length>2&&(A=function(b,S){return c.call(this,b,S,n)}));const D=w.call(g,A,f);return C&&a?a(D):D}function Zi(n,t,c,f){const a=dr(n);let h=c;return a!==n&&(m0(n)?c.length>3&&(h=function(g,C,w){return c.call(this,g,C,w,n)}):h=function(g,C,w){return c.call(this,g,Wt(C),w,n)}),a[t](h,...f)}function Jr(n,t,c){const f=ht(n);zt(f,"iterate",mn);const a=f[t](...c);return(a===-1||a===!1)&&pi(c[0])?(c[0]=ht(c[0]),f[t](...c)):a}function tn(n,t,c=[]){z0(),hi();const f=ht(n)[t].apply(n,c);return Ei(),Y0(),f}const ua=ai("__proto__,__v_isRef,__isVue"),ux=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(M0));function fa(n){M0(n)||(n=String(n));const t=ht(this);return zt(t,"has",n),t.hasOwnProperty(n)}class fx{constructor(t=!1,c=!1){this._isReadonly=t,this._isShallow=c}get(t,c,f){if(c==="__v_skip")return t.__v_skip;const a=this._isReadonly,h=this._isShallow;if(c==="__v_isReactive")return!a;if(c==="__v_isReadonly")return a;if(c==="__v_isShallow")return h;if(c==="__v_raw")return f===(a?h?wa:Cx:h?gx:Ex).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(f)?t:void 0;const g=Je(t);if(!a){let w;if(g&&(w=ca[c]))return w;if(c==="hasOwnProperty")return fa}const C=Reflect.get(t,c,Kt(t)?t:f);return(M0(c)?ux.has(c):ua(c))||(a||zt(t,"get",c),h)?C:Kt(C)?g&&ui(c)?C:C.value:Dt(C)?a?Ax(C):ur(C):C}}class hx extends fx{constructor(t=!1){super(!1,t)}set(t,c,f,a){let h=t[c];if(!this._isShallow){const w=as(h);if(!m0(f)&&!as(f)&&(h=ht(h),f=ht(f)),!Je(t)&&Kt(h)&&!Kt(f))return w||(h.value=f),!0}const g=Je(t)&&ui(c)?Number(c)<t.length:Et(t,c),C=Reflect.set(t,c,f,Kt(t)?t:a);return t===ht(a)&&(g?ls(f,h)&&H0(t,"set",c,f):H0(t,"add",c,f)),C}deleteProperty(t,c){const f=Et(t,c);t[c];const a=Reflect.deleteProperty(t,c);return a&&f&&H0(t,"delete",c,void 0),a}has(t,c){const f=Reflect.has(t,c);return(!M0(c)||!ux.has(c))&&zt(t,"has",c),f}ownKeys(t){return zt(t,"iterate",Je(t)?"length":ps),Reflect.ownKeys(t)}}class ha extends fx{constructor(t=!1){super(!0,t)}set(t,c){return!0}deleteProperty(t,c){return!0}}const Ea=new hx,ga=new ha,Ca=new hx(!0);const $r=n=>n,Ln=n=>Reflect.getPrototypeOf(n);function ma(n,t,c){return function(...f){const a=this.__v_raw,h=ht(a),g=Ns(h),C=n==="entries"||n===Symbol.iterator&&g,w=n==="keys"&&g,A=a[n](...f),D=c?$r:t?Zn:Wt;return!t&&zt(h,"iterate",w?Qr:ps),{next(){const{value:b,done:S}=A.next();return S?{value:b,done:S}:{value:C?[D(b[0]),D(b[1])]:D(b),done:S}},[Symbol.iterator](){return this}}}}function Un(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function Aa(n,t){const c={get(a){const h=this.__v_raw,g=ht(h),C=ht(a);n||(ls(a,C)&&zt(g,"get",a),zt(g,"get",C));const{has:w}=Ln(g),A=t?$r:n?Zn:Wt;if(w.call(g,a))return A(h.get(a));if(w.call(g,C))return A(h.get(C));h!==g&&h.get(a)},get size(){const a=this.__v_raw;return!n&&zt(ht(a),"iterate",ps),a.size},has(a){const h=this.__v_raw,g=ht(h),C=ht(a);return n||(ls(a,C)&&zt(g,"has",a),zt(g,"has",C)),a===C?h.has(a):h.has(a)||h.has(C)},forEach(a,h){const g=this,C=g.__v_raw,w=ht(C),A=t?$r:n?Zn:Wt;return!n&&zt(w,"iterate",ps),C.forEach((D,b)=>a.call(h,A(D),A(b),g))}};return Zt(c,n?{add:Un("add"),set:Un("set"),delete:Un("delete"),clear:Un("clear")}:{add(a){!t&&!m0(a)&&!as(a)&&(a=ht(a));const h=ht(this);return Ln(h).has.call(h,a)||(h.add(a),H0(h,"add",a,a)),this},set(a,h){!t&&!m0(h)&&!as(h)&&(h=ht(h));const g=ht(this),{has:C,get:w}=Ln(g);let A=C.call(g,a);A||(a=ht(a),A=C.call(g,a));const D=w.call(g,a);return g.set(a,h),A?ls(h,D)&&H0(g,"set",a,h):H0(g,"add",a,h),this},delete(a){const h=ht(this),{has:g,get:C}=Ln(h);let w=g.call(h,a);w||(a=ht(a),w=g.call(h,a)),C&&C.call(h,a);const A=h.delete(a);return w&&H0(h,"delete",a,void 0),A},clear(){const a=ht(this),h=a.size!==0,g=a.clear();return h&&H0(a,"clear",void 0,void 0),g}}),["keys","values","entries",Symbol.iterator].forEach(a=>{c[a]=ma(a,n,t)}),c}function mi(n,t){const c=Aa(n,t);return(f,a,h)=>a==="__v_isReactive"?!n:a==="__v_isReadonly"?n:a==="__v_raw"?f:Reflect.get(Et(c,a)&&a in f?c:f,a,h)}const pa={get:mi(!1,!1)},Ba={get:mi(!1,!0)},ba={get:mi(!0,!1)};const Ex=new WeakMap,gx=new WeakMap,Cx=new WeakMap,wa=new WeakMap;function Da(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fa(n){return n.__v_skip||!Object.isExtensible(n)?0:Da(Zl(n))}function ur(n){return as(n)?n:Ai(n,!1,Ea,pa,Ex)}function mx(n){return Ai(n,!1,Ca,Ba,gx)}function Ax(n){return Ai(n,!0,ga,ba,Cx)}function Ai(n,t,c,f,a){if(!Dt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const h=Fa(n);if(h===0)return n;const g=a.get(n);if(g)return g;const C=new Proxy(n,h===2?f:c);return a.set(n,C),C}function Os(n){return as(n)?Os(n.__v_raw):!!(n&&n.__v_isReactive)}function as(n){return!!(n&&n.__v_isReadonly)}function m0(n){return!!(n&&n.__v_isShallow)}function pi(n){return n?!!n.__v_raw:!1}function ht(n){const t=n&&n.__v_raw;return t?ht(t):n}function ya(n){return!Et(n,"__v_skip")&&Object.isExtensible(n)&&ex(n,"__v_skip",!0),n}const Wt=n=>Dt(n)?ur(n):n,Zn=n=>Dt(n)?Ax(n):n;function Kt(n){return n?n.__v_isRef===!0:!1}function va(n){return px(n,!1)}function _a(n){return px(n,!0)}function px(n,t){return Kt(n)?n:new ka(n,t)}class ka{constructor(t,c){this.dep=new Ci,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=c?t:ht(t),this._value=c?t:Wt(t),this.__v_isShallow=c}get value(){return this.dep.track(),this._value}set value(t){const c=this._rawValue,f=this.__v_isShallow||m0(t)||as(t);t=f?t:ht(t),ls(t,c)&&(this._rawValue=t,this._value=f?t:Wt(t),this.dep.trigger())}}function Ms(n){return Kt(n)?n.value:n}const Ia={get:(n,t,c)=>t==="__v_raw"?n:Ms(Reflect.get(n,t,c)),set:(n,t,c,f)=>{const a=n[t];return Kt(a)&&!Kt(c)?(a.value=c,!0):Reflect.set(n,t,c,f)}};function Bx(n){return Os(n)?n:new Proxy(n,Ia)}class Sa{constructor(t,c,f){this.fn=t,this.setter=c,this._value=void 0,this.dep=new Ci(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Cn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!c,this.isSSR=f}notify(){if(this.flags|=16,!(this.flags&8)&&wt!==this)return ox(this,!0),!0}get value(){const t=this.dep.track();return ax(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ta(n,t,c=!1){let f,a;return Ze(n)?f=n:(f=n.get,a=n.set),new Sa(f,a,c)}const jn={},qn=new WeakMap;let As;function Pa(n,t=!1,c=As){if(c){let f=qn.get(c);f||qn.set(c,f=[]),f.push(n)}}function Ra(n,t,c=pt){const{immediate:f,deep:a,once:h,scheduler:g,augmentJob:C,call:w}=c,A=O=>a?O:m0(O)||a===!1||a===0?W0(O,1):W0(O);let D,b,S,P,V=!1,z=!1;if(Kt(n)?(b=()=>n.value,V=m0(n)):Os(n)?(b=()=>A(n),V=!0):Je(n)?(z=!0,V=n.some(O=>Os(O)||m0(O)),b=()=>n.map(O=>{if(Kt(O))return O.value;if(Os(O))return A(O);if(Ze(O))return w?w(O,2):O()})):Ze(n)?t?b=w?()=>w(n,2):n:b=()=>{if(S){z0();try{S()}finally{Y0()}}const O=As;As=D;try{return w?w(n,3,[P]):n(P)}finally{As=O}}:b=N0,t&&a){const O=b,G=a===!0?1/0:a;b=()=>W0(O(),G)}const $=xa(),ne=()=>{D.stop(),$&&$.active&&di($.effects,D)};if(h&&t){const O=t;t=(...G)=>{O(...G),ne()}}let te=z?new Array(n.length).fill(jn):jn;const U=O=>{if(!(!(D.flags&1)||!D.dirty&&!O))if(t){const G=D.run();if(a||V||(z?G.some((H,N)=>ls(H,te[N])):ls(G,te))){S&&S();const H=As;As=D;try{const N=[G,te===jn?void 0:z&&te[0]===jn?[]:te,P];te=G,w?w(t,3,N):t(...N)}finally{As=H}}}else D.run()};return C&&C(U),D=new rx(b),D.scheduler=g?()=>g(U,!1):U,P=O=>Pa(O,!1,D),S=D.onStop=()=>{const O=qn.get(D);if(O){if(w)w(O,4);else for(const G of O)G();qn.delete(D)}},t?f?U(!0):te=D.run():g?g(U.bind(null,!0),!0):D.run(),ne.pause=D.pause.bind(D),ne.resume=D.resume.bind(D),ne.stop=ne,ne}function W0(n,t=1/0,c){if(t<=0||!Dt(n)||n.__v_skip||(c=c||new Map,(c.get(n)||0)>=t))return n;if(c.set(n,t),t--,Kt(n))W0(n.value,t,c);else if(Je(n))for(let f=0;f<n.length;f++)W0(n[f],t,c);else if(Ws(n)||Ns(n))n.forEach(f=>{W0(f,t,c)});else if($o(n)){for(const f in n)W0(n[f],t,c);for(const f of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,f)&&W0(n[f],t,c)}return n}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vn(n,t,c,f){try{return f?n(...f):n()}catch(a){fr(a,t,c)}}function L0(n,t,c,f){if(Ze(n)){const a=vn(n,t,c,f);return a&&qo(a)&&a.catch(h=>{fr(h,t,c)}),a}if(Je(n)){const a=[];for(let h=0;h<n.length;h++)a.push(L0(n[h],t,c,f));return a}}function fr(n,t,c,f=!0){const a=t?t.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:g}=t&&t.appContext.config||pt;if(t){let C=t.parent;const w=t.proxy,A=`https://vuejs.org/error-reference/#runtime-${c}`;for(;C;){const D=C.ec;if(D){for(let b=0;b<D.length;b++)if(D[b](n,w,A)===!1)return}C=C.parent}if(h){z0(),vn(h,null,10,[n,w,A]),Y0();return}}Na(n,c,a,f,g)}function Na(n,t,c,f=!0,a=!1){if(a)throw n;console.error(n)}const e0=[];let P0=-1;const Ls=[];let rs=null,Ts=0;const bx=Promise.resolve();let Qn=null;function Bi(n){const t=Qn||bx;return n?t.then(this?n.bind(this):n):t}function Oa(n){let t=P0+1,c=e0.length;for(;t<c;){const f=t+c>>>1,a=e0[f],h=An(a);h<n||h===n&&a.flags&2?t=f+1:c=f}return t}function bi(n){if(!(n.flags&1)){const t=An(n),c=e0[e0.length-1];!c||!(n.flags&2)&&t>=An(c)?e0.push(n):e0.splice(Oa(t),0,n),n.flags|=1,wx()}}function wx(){Qn||(Qn=bx.then(Fx))}function Ma(n){Je(n)?Ls.push(...n):rs&&n.id===-1?rs.splice(Ts+1,0,n):n.flags&1||(Ls.push(n),n.flags|=1),wx()}function qi(n,t,c=P0+1){for(;c<e0.length;c++){const f=e0[c];if(f&&f.flags&2){if(n&&f.id!==n.uid)continue;e0.splice(c,1),c--,f.flags&4&&(f.flags&=-2),f(),f.flags&4||(f.flags&=-2)}}}function Dx(n){if(Ls.length){const t=[...new Set(Ls)].sort((c,f)=>An(c)-An(f));if(Ls.length=0,rs){rs.push(...t);return}for(rs=t,Ts=0;Ts<rs.length;Ts++){const c=rs[Ts];c.flags&4&&(c.flags&=-2),c.flags&8||c(),c.flags&=-2}rs=null,Ts=0}}const An=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Fx(n){try{for(P0=0;P0<e0.length;P0++){const t=e0[P0];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),vn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;P0<e0.length;P0++){const t=e0[P0];t&&(t.flags&=-2)}P0=-1,e0.length=0,Dx(),Qn=null,(e0.length||Ls.length)&&Fx()}}let c0=null,yx=null;function $n(n){const t=c0;return c0=n,yx=n&&n.type.__scopeId||null,t}function D0(n,t=c0,c){if(!t||n._n)return n;const f=(...a)=>{f._d&&sr(-1);const h=$n(t);let g;try{g=n(...a)}finally{$n(h),f._d&&sr(1)}return g};return f._n=!0,f._c=!0,f._d=!0,f}function he(n,t){if(c0===null)return n;const c=Cr(c0),f=n.dirs||(n.dirs=[]);for(let a=0;a<t.length;a++){let[h,g,C,w=pt]=t[a];h&&(Ze(h)&&(h={mounted:h,updated:h}),h.deep&&W0(g),f.push({dir:h,instance:c,value:g,oldValue:void 0,arg:C,modifiers:w}))}return n}function Cs(n,t,c,f){const a=n.dirs,h=t&&t.dirs;for(let g=0;g<a.length;g++){const C=a[g];h&&(C.oldValue=h[g].value);let w=C.dir[f];w&&(z0(),L0(w,c,8,[n.el,C,n,t]),Y0())}}const La=Symbol("_vte"),Ua=n=>n.__isTeleport,ja=Symbol("_leaveCb");function wi(n,t){n.shapeFlag&6&&n.component?(n.transition=t,wi(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function vx(n,t){return Ze(n)?Zt({name:n.name},t,{setup:n}):n}function _x(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const er=new WeakMap;function dn(n,t,c,f,a=!1){if(Je(n)){n.forEach((V,z)=>dn(V,t&&(Je(t)?t[z]:t),c,f,a));return}if(un(f)&&!a){f.shapeFlag&512&&f.type.__asyncResolved&&f.component.subTree.component&&dn(n,t,c,f.component.subTree);return}const h=f.shapeFlag&4?Cr(f.component):f.el,g=a?null:h,{i:C,r:w}=n,A=t&&t.r,D=C.refs===pt?C.refs={}:C.refs,b=C.setupState,S=ht(b),P=b===pt?Zo:V=>Et(S,V);if(A!=null&&A!==w){if(Qi(t),Rt(A))D[A]=null,P(A)&&(b[A]=null);else if(Kt(A)){A.value=null;const V=t;V.k&&(D[V.k]=null)}}if(Ze(w))vn(w,C,12,[g,D]);else{const V=Rt(w),z=Kt(w);if(V||z){const $=()=>{if(n.f){const ne=V?P(w)?b[w]:D[w]:w.value;if(a)Je(ne)&&di(ne,h);else if(Je(ne))ne.includes(h)||ne.push(h);else if(V)D[w]=[h],P(w)&&(b[w]=D[w]);else{const te=[h];w.value=te,n.k&&(D[n.k]=te)}}else V?(D[w]=g,P(w)&&(b[w]=g)):z&&(w.value=g,n.k&&(D[n.k]=g))};if(g){const ne=()=>{$(),er.delete(n)};ne.id=-1,er.set(n,ne),a0(ne,c)}else Qi(n),$()}}}function Qi(n){const t=er.get(n);t&&(t.flags|=8,er.delete(n))}cr().requestIdleCallback;cr().cancelIdleCallback;const un=n=>!!n.type.__asyncLoader,kx=n=>n.type.__isKeepAlive;function Va(n,t){Ix(n,"a",t)}function Ja(n,t){Ix(n,"da",t)}function Ix(n,t,c=Yt){const f=n.__wdc||(n.__wdc=()=>{let a=c;for(;a;){if(a.isDeactivated)return;a=a.parent}return n()});if(hr(t,f,c),c){let a=c.parent;for(;a&&a.parent;)kx(a.parent.vnode)&&Ha(f,t,c,a),a=a.parent}}function Ha(n,t,c,f){const a=hr(t,n,f,!0);Sx(()=>{di(f[t],a)},c)}function hr(n,t,c=Yt,f=!1){if(c){const a=c[n]||(c[n]=[]),h=t.__weh||(t.__weh=(...g)=>{z0();const C=_n(c),w=L0(t,c,n,g);return C(),Y0(),w});return f?a.unshift(h):a.push(h),h}}const K0=n=>(t,c=Yt)=>{(!Bn||n==="sp")&&hr(n,(...f)=>t(...f),c)},Wa=K0("bm"),Ga=K0("m"),Xa=K0("bu"),za=K0("u"),Ya=K0("bum"),Sx=K0("um"),Ka=K0("sp"),Za=K0("rtg"),qa=K0("rtc");function Qa(n,t=Yt){hr("ec",n,t)}const $a="components";function O0(n,t){return t1($a,n,!0,t)||n}const e1=Symbol.for("v-ndc");function t1(n,t,c=!0,f=!1){const a=c0||Yt;if(a){const h=a.type;{const C=H1(h,!1);if(C&&(C===t||C===A0(t)||C===ar(A0(t))))return h}const g=$i(a[n]||h[n],t)||$i(a.appContext[n],t);return!g&&f?h:g}}function $i(n,t){return n&&(n[t]||n[A0(t)]||n[ar(A0(t))])}function ze(n,t,c,f){let a;const h=c,g=Je(n);if(g||Rt(n)){const C=g&&Os(n);let w=!1,A=!1;C&&(w=!m0(n),A=as(n),n=dr(n)),a=new Array(n.length);for(let D=0,b=n.length;D<b;D++)a[D]=t(w?A?Zn(Wt(n[D])):Wt(n[D]):n[D],D,void 0,h)}else if(typeof n=="number"){a=new Array(n);for(let C=0;C<n;C++)a[C]=t(C+1,C,void 0,h)}else if(Dt(n))if(n[Symbol.iterator])a=Array.from(n,(C,w)=>t(C,w,void 0,h));else{const C=Object.keys(n);a=new Array(C.length);for(let w=0,A=C.length;w<A;w++){const D=C[w];a[w]=t(n[D],D,w,h)}}else a=[];return a}const ei=n=>n?Qx(n)?Cr(n):ei(n.parent):null,fn=Zt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ei(n.parent),$root:n=>ei(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Px(n),$forceUpdate:n=>n.f||(n.f=()=>{bi(n.update)}),$nextTick:n=>n.n||(n.n=Bi.bind(n.proxy)),$watch:n=>b1.bind(n)}),Hr=(n,t)=>n!==pt&&!n.__isScriptSetup&&Et(n,t),s1={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:c,setupState:f,data:a,props:h,accessCache:g,type:C,appContext:w}=n;let A;if(t[0]!=="$"){const P=g[t];if(P!==void 0)switch(P){case 1:return f[t];case 2:return a[t];case 4:return c[t];case 3:return h[t]}else{if(Hr(f,t))return g[t]=1,f[t];if(a!==pt&&Et(a,t))return g[t]=2,a[t];if((A=n.propsOptions[0])&&Et(A,t))return g[t]=3,h[t];if(c!==pt&&Et(c,t))return g[t]=4,c[t];ti&&(g[t]=0)}}const D=fn[t];let b,S;if(D)return t==="$attrs"&&zt(n.attrs,"get",""),D(n);if((b=C.__cssModules)&&(b=b[t]))return b;if(c!==pt&&Et(c,t))return g[t]=4,c[t];if(S=w.config.globalProperties,Et(S,t))return S[t]},set({_:n},t,c){const{data:f,setupState:a,ctx:h}=n;return Hr(a,t)?(a[t]=c,!0):f!==pt&&Et(f,t)?(f[t]=c,!0):Et(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(h[t]=c,!0)},has({_:{data:n,setupState:t,accessCache:c,ctx:f,appContext:a,propsOptions:h,type:g}},C){let w,A;return!!(c[C]||n!==pt&&C[0]!=="$"&&Et(n,C)||Hr(t,C)||(w=h[0])&&Et(w,C)||Et(f,C)||Et(fn,C)||Et(a.config.globalProperties,C)||(A=g.__cssModules)&&A[C])},defineProperty(n,t,c){return c.get!=null?n._.accessCache[t]=0:Et(c,"value")&&this.set(n,t,c.value,null),Reflect.defineProperty(n,t,c)}};function eo(n){return Je(n)?n.reduce((t,c)=>(t[c]=null,t),{}):n}let ti=!0;function n1(n){const t=Px(n),c=n.proxy,f=n.ctx;ti=!1,t.beforeCreate&&to(t.beforeCreate,n,"bc");const{data:a,computed:h,methods:g,watch:C,provide:w,inject:A,created:D,beforeMount:b,mounted:S,beforeUpdate:P,updated:V,activated:z,deactivated:$,beforeDestroy:ne,beforeUnmount:te,destroyed:U,unmounted:O,render:G,renderTracked:H,renderTriggered:N,errorCaptured:re,serverPrefetch:W,expose:we,inheritAttrs:Ae,components:ce,directives:Be,filters:Fe}=t;if(A&&r1(A,f,null),g)for(const xe in g){const Se=g[xe];Ze(Se)&&(f[xe]=Se.bind(c))}if(a){const xe=a.call(c,c);Dt(xe)&&(n.data=ur(xe))}if(ti=!0,h)for(const xe in h){const Se=h[xe],Ke=Ze(Se)?Se.bind(c,c):Ze(Se.get)?Se.get.bind(c,c):N0,Qe=!Ze(Se)&&Ze(Se.set)?Se.set.bind(c):N0,ke=b0({get:Ke,set:Qe});Object.defineProperty(f,xe,{enumerable:!0,configurable:!0,get:()=>ke.value,set:Le=>ke.value=Le})}if(C)for(const xe in C)Tx(C[xe],f,c,xe);if(w){const xe=Ze(w)?w.call(c):w;Reflect.ownKeys(xe).forEach(Se=>{Hn(Se,xe[Se])})}D&&to(D,n,"c");function ye(xe,Se){Je(Se)?Se.forEach(Ke=>xe(Ke.bind(c))):Se&&xe(Se.bind(c))}if(ye(Wa,b),ye(Ga,S),ye(Xa,P),ye(za,V),ye(Va,z),ye(Ja,$),ye(Qa,re),ye(qa,H),ye(Za,N),ye(Ya,te),ye(Sx,O),ye(Ka,W),Je(we))if(we.length){const xe=n.exposed||(n.exposed={});we.forEach(Se=>{Object.defineProperty(xe,Se,{get:()=>c[Se],set:Ke=>c[Se]=Ke,enumerable:!0})})}else n.exposed||(n.exposed={});G&&n.render===N0&&(n.render=G),Ae!=null&&(n.inheritAttrs=Ae),ce&&(n.components=ce),Be&&(n.directives=Be),W&&_x(n)}function r1(n,t,c=N0){Je(n)&&(n=si(n));for(const f in n){const a=n[f];let h;Dt(a)?"default"in a?h=G0(a.from||f,a.default,!0):h=G0(a.from||f):h=G0(a),Kt(h)?Object.defineProperty(t,f,{enumerable:!0,configurable:!0,get:()=>h.value,set:g=>h.value=g}):t[f]=h}}function to(n,t,c){L0(Je(n)?n.map(f=>f.bind(t.proxy)):n.bind(t.proxy),t,c)}function Tx(n,t,c,f){let a=f.includes(".")?Xx(c,f):()=>c[f];if(Rt(n)){const h=t[n];Ze(h)&&Wn(a,h)}else if(Ze(n))Wn(a,n.bind(c));else if(Dt(n))if(Je(n))n.forEach(h=>Tx(h,t,c,f));else{const h=Ze(n.handler)?n.handler.bind(c):t[n.handler];Ze(h)&&Wn(a,h,n)}}function Px(n){const t=n.type,{mixins:c,extends:f}=t,{mixins:a,optionsCache:h,config:{optionMergeStrategies:g}}=n.appContext,C=h.get(t);let w;return C?w=C:!a.length&&!c&&!f?w=t:(w={},a.length&&a.forEach(A=>tr(w,A,g,!0)),tr(w,t,g)),Dt(t)&&h.set(t,w),w}function tr(n,t,c,f=!1){const{mixins:a,extends:h}=t;h&&tr(n,h,c,!0),a&&a.forEach(g=>tr(n,g,c,!0));for(const g in t)if(!(f&&g==="expose")){const C=i1[g]||c&&c[g];n[g]=C?C(n[g],t[g]):t[g]}return n}const i1={data:so,props:no,emits:no,methods:on,computed:on,beforeCreate:$t,created:$t,beforeMount:$t,mounted:$t,beforeUpdate:$t,updated:$t,beforeDestroy:$t,beforeUnmount:$t,destroyed:$t,unmounted:$t,activated:$t,deactivated:$t,errorCaptured:$t,serverPrefetch:$t,components:on,directives:on,watch:x1,provide:so,inject:o1};function so(n,t){return t?n?function(){return Zt(Ze(n)?n.call(this,this):n,Ze(t)?t.call(this,this):t)}:t:n}function o1(n,t){return on(si(n),si(t))}function si(n){if(Je(n)){const t={};for(let c=0;c<n.length;c++)t[n[c]]=n[c];return t}return n}function $t(n,t){return n?[...new Set([].concat(n,t))]:t}function on(n,t){return n?Zt(Object.create(null),n,t):t}function no(n,t){return n?Je(n)&&Je(t)?[...new Set([...n,...t])]:Zt(Object.create(null),eo(n),eo(t??{})):t}function x1(n,t){if(!n)return t;if(!t)return n;const c=Zt(Object.create(null),n);for(const f in t)c[f]=$t(n[f],t[f]);return c}function Rx(){return{app:null,config:{isNativeTag:Zo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let l1=0;function a1(n,t){return function(f,a=null){Ze(f)||(f=Zt({},f)),a!=null&&!Dt(a)&&(a=null);const h=Rx(),g=new WeakSet,C=[];let w=!1;const A=h.app={_uid:l1++,_component:f,_props:a,_container:null,_context:h,_instance:null,version:G1,get config(){return h.config},set config(D){},use(D,...b){return g.has(D)||(D&&Ze(D.install)?(g.add(D),D.install(A,...b)):Ze(D)&&(g.add(D),D(A,...b))),A},mixin(D){return h.mixins.includes(D)||h.mixins.push(D),A},component(D,b){return b?(h.components[D]=b,A):h.components[D]},directive(D,b){return b?(h.directives[D]=b,A):h.directives[D]},mount(D,b,S){if(!w){const P=A._ceVNode||vt(f,a);return P.appContext=h,S===!0?S="svg":S===!1&&(S=void 0),n(P,D,S),w=!0,A._container=D,D.__vue_app__=A,Cr(P.component)}},onUnmount(D){C.push(D)},unmount(){w&&(L0(C,A._instance,16),n(null,A._container),delete A._container.__vue_app__)},provide(D,b){return h.provides[D]=b,A},runWithContext(D){const b=Us;Us=A;try{return D()}finally{Us=b}}};return A}}let Us=null;function Hn(n,t){if(Yt){let c=Yt.provides;const f=Yt.parent&&Yt.parent.provides;f===c&&(c=Yt.provides=Object.create(f)),c[n]=t}}function G0(n,t,c=!1){const f=L1();if(f||Us){let a=Us?Us._context.provides:f?f.parent==null||f.ce?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:void 0;if(a&&n in a)return a[n];if(arguments.length>1)return c&&Ze(t)?t.call(f&&f.proxy):t}}const Nx={},Ox=()=>Object.create(Nx),Mx=n=>Object.getPrototypeOf(n)===Nx;function c1(n,t,c,f=!1){const a={},h=Ox();n.propsDefaults=Object.create(null),Lx(n,t,a,h);for(const g in n.propsOptions[0])g in a||(a[g]=void 0);c?n.props=f?a:mx(a):n.type.props?n.props=a:n.props=h,n.attrs=h}function d1(n,t,c,f){const{props:a,attrs:h,vnode:{patchFlag:g}}=n,C=ht(a),[w]=n.propsOptions;let A=!1;if((f||g>0)&&!(g&16)){if(g&8){const D=n.vnode.dynamicProps;for(let b=0;b<D.length;b++){let S=D[b];if(Er(n.emitsOptions,S))continue;const P=t[S];if(w)if(Et(h,S))P!==h[S]&&(h[S]=P,A=!0);else{const V=A0(S);a[V]=ni(w,C,V,P,n,!1)}else P!==h[S]&&(h[S]=P,A=!0)}}}else{Lx(n,t,a,h)&&(A=!0);let D;for(const b in C)(!t||!Et(t,b)&&((D=Bs(b))===b||!Et(t,D)))&&(w?c&&(c[b]!==void 0||c[D]!==void 0)&&(a[b]=ni(w,C,b,void 0,n,!0)):delete a[b]);if(h!==C)for(const b in h)(!t||!Et(t,b))&&(delete h[b],A=!0)}A&&H0(n.attrs,"set","")}function Lx(n,t,c,f){const[a,h]=n.propsOptions;let g=!1,C;if(t)for(let w in t){if(ln(w))continue;const A=t[w];let D;a&&Et(a,D=A0(w))?!h||!h.includes(D)?c[D]=A:(C||(C={}))[D]=A:Er(n.emitsOptions,w)||(!(w in f)||A!==f[w])&&(f[w]=A,g=!0)}if(h){const w=ht(c),A=C||pt;for(let D=0;D<h.length;D++){const b=h[D];c[b]=ni(a,w,b,A[b],n,!Et(A,b))}}return g}function ni(n,t,c,f,a,h){const g=n[c];if(g!=null){const C=Et(g,"default");if(C&&f===void 0){const w=g.default;if(g.type!==Function&&!g.skipFactory&&Ze(w)){const{propsDefaults:A}=a;if(c in A)f=A[c];else{const D=_n(a);f=A[c]=w.call(null,t),D()}}else f=w;a.ce&&a.ce._setProp(c,f)}g[0]&&(h&&!C?f=!1:g[1]&&(f===""||f===Bs(c))&&(f=!0))}return f}const u1=new WeakMap;function Ux(n,t,c=!1){const f=c?u1:t.propsCache,a=f.get(n);if(a)return a;const h=n.props,g={},C=[];let w=!1;if(!Ze(n)){const D=b=>{w=!0;const[S,P]=Ux(b,t,!0);Zt(g,S),P&&C.push(...P)};!c&&t.mixins.length&&t.mixins.forEach(D),n.extends&&D(n.extends),n.mixins&&n.mixins.forEach(D)}if(!h&&!w)return Dt(n)&&f.set(n,Rs),Rs;if(Je(h))for(let D=0;D<h.length;D++){const b=A0(h[D]);ro(b)&&(g[b]=pt)}else if(h)for(const D in h){const b=A0(D);if(ro(b)){const S=h[D],P=g[b]=Je(S)||Ze(S)?{type:S}:Zt({},S),V=P.type;let z=!1,$=!0;if(Je(V))for(let ne=0;ne<V.length;++ne){const te=V[ne],U=Ze(te)&&te.name;if(U==="Boolean"){z=!0;break}else U==="String"&&($=!1)}else z=Ze(V)&&V.name==="Boolean";P[0]=z,P[1]=$,(z||Et(P,"default"))&&C.push(b)}}const A=[g,C];return Dt(n)&&f.set(n,A),A}function ro(n){return n[0]!=="$"&&!ln(n)}const Di=n=>n==="_"||n==="_ctx"||n==="$stable",Fi=n=>Je(n)?n.map(R0):[R0(n)],f1=(n,t,c)=>{if(t._n)return t;const f=D0((...a)=>Fi(t(...a)),c);return f._c=!1,f},jx=(n,t,c)=>{const f=n._ctx;for(const a in n){if(Di(a))continue;const h=n[a];if(Ze(h))t[a]=f1(a,h,f);else if(h!=null){const g=Fi(h);t[a]=()=>g}}},Vx=(n,t)=>{const c=Fi(t);n.slots.default=()=>c},Jx=(n,t,c)=>{for(const f in t)(c||!Di(f))&&(n[f]=t[f])},h1=(n,t,c)=>{const f=n.slots=Ox();if(n.vnode.shapeFlag&32){const a=t._;a?(Jx(f,t,c),c&&ex(f,"_",a,!0)):jx(t,f)}else t&&Vx(n,t)},E1=(n,t,c)=>{const{vnode:f,slots:a}=n;let h=!0,g=pt;if(f.shapeFlag&32){const C=t._;C?c&&C===1?h=!1:Jx(a,t,c):(h=!t.$stable,jx(t,a)),g=t}else t&&(Vx(n,t),g={default:1});if(h)for(const C in a)!Di(C)&&g[C]==null&&delete a[C]},a0=I1;function g1(n){return C1(n)}function C1(n,t){const c=cr();c.__VUE__=!0;const{insert:f,remove:a,patchProp:h,createElement:g,createText:C,createComment:w,setText:A,setElementText:D,parentNode:b,nextSibling:S,setScopeId:P=N0,insertStaticContent:V}=n,z=(R,T,J,ie=null,ae=null,ee=null,de=void 0,oe=null,pe=!!T.dynamicChildren)=>{if(R===T)return;R&&!sn(R,T)&&(ie=se(R),Le(R,ae,ee,!0),R=null),T.patchFlag===-2&&(pe=!1,T.dynamicChildren=null);const{type:Y,ref:Oe,shapeFlag:ve}=T;switch(Y){case gr:$(R,T,J,ie);break;case cs:ne(R,T,J,ie);break;case Gn:R==null&&te(T,J,ie,de);break;case Me:ce(R,T,J,ie,ae,ee,de,oe,pe);break;default:ve&1?G(R,T,J,ie,ae,ee,de,oe,pe):ve&6?Be(R,T,J,ie,ae,ee,de,oe,pe):(ve&64||ve&128)&&Y.process(R,T,J,ie,ae,ee,de,oe,pe,Ie)}Oe!=null&&ae?dn(Oe,R&&R.ref,ee,T||R,!T):Oe==null&&R&&R.ref!=null&&dn(R.ref,null,ee,R,!0)},$=(R,T,J,ie)=>{if(R==null)f(T.el=C(T.children),J,ie);else{const ae=T.el=R.el;T.children!==R.children&&A(ae,T.children)}},ne=(R,T,J,ie)=>{R==null?f(T.el=w(T.children||""),J,ie):T.el=R.el},te=(R,T,J,ie)=>{[R.el,R.anchor]=V(R.children,T,J,ie,R.el,R.anchor)},U=({el:R,anchor:T},J,ie)=>{let ae;for(;R&&R!==T;)ae=S(R),f(R,J,ie),R=ae;f(T,J,ie)},O=({el:R,anchor:T})=>{let J;for(;R&&R!==T;)J=S(R),a(R),R=J;a(T)},G=(R,T,J,ie,ae,ee,de,oe,pe)=>{T.type==="svg"?de="svg":T.type==="math"&&(de="mathml"),R==null?H(T,J,ie,ae,ee,de,oe,pe):W(R,T,ae,ee,de,oe,pe)},H=(R,T,J,ie,ae,ee,de,oe)=>{let pe,Y;const{props:Oe,shapeFlag:ve,transition:Pe,dirs:We}=R;if(pe=R.el=g(R.type,ee,Oe&&Oe.is,Oe),ve&8?D(pe,R.children):ve&16&&re(R.children,pe,null,ie,ae,Wr(R,ee),de,oe),We&&Cs(R,null,ie,"created"),N(pe,R,R.scopeId,de,ie),Oe){for(const gt in Oe)gt!=="value"&&!ln(gt)&&h(pe,gt,null,Oe[gt],ee,ie);"value"in Oe&&h(pe,"value",null,Oe.value,ee),(Y=Oe.onVnodeBeforeMount)&&T0(Y,ie,R)}We&&Cs(R,null,ie,"beforeMount");const Xe=m1(ae,Pe);Xe&&Pe.beforeEnter(pe),f(pe,T,J),((Y=Oe&&Oe.onVnodeMounted)||Xe||We)&&a0(()=>{Y&&T0(Y,ie,R),Xe&&Pe.enter(pe),We&&Cs(R,null,ie,"mounted")},ae)},N=(R,T,J,ie,ae)=>{if(J&&P(R,J),ie)for(let ee=0;ee<ie.length;ee++)P(R,ie[ee]);if(ae){let ee=ae.subTree;if(T===ee||Yx(ee.type)&&(ee.ssContent===T||ee.ssFallback===T)){const de=ae.vnode;N(R,de,de.scopeId,de.slotScopeIds,ae.parent)}}},re=(R,T,J,ie,ae,ee,de,oe,pe=0)=>{for(let Y=pe;Y<R.length;Y++){const Oe=R[Y]=oe?is(R[Y]):R0(R[Y]);z(null,Oe,T,J,ie,ae,ee,de,oe)}},W=(R,T,J,ie,ae,ee,de)=>{const oe=T.el=R.el;let{patchFlag:pe,dynamicChildren:Y,dirs:Oe}=T;pe|=R.patchFlag&16;const ve=R.props||pt,Pe=T.props||pt;let We;if(J&&ms(J,!1),(We=Pe.onVnodeBeforeUpdate)&&T0(We,J,T,R),Oe&&Cs(T,R,J,"beforeUpdate"),J&&ms(J,!0),(ve.innerHTML&&Pe.innerHTML==null||ve.textContent&&Pe.textContent==null)&&D(oe,""),Y?we(R.dynamicChildren,Y,oe,J,ie,Wr(T,ae),ee):de||Se(R,T,oe,null,J,ie,Wr(T,ae),ee,!1),pe>0){if(pe&16)Ae(oe,ve,Pe,J,ae);else if(pe&2&&ve.class!==Pe.class&&h(oe,"class",null,Pe.class,ae),pe&4&&h(oe,"style",ve.style,Pe.style,ae),pe&8){const Xe=T.dynamicProps;for(let gt=0;gt<Xe.length;gt++){const tt=Xe[gt],dt=ve[tt],jt=Pe[tt];(jt!==dt||tt==="value")&&h(oe,tt,dt,jt,ae,J)}}pe&1&&R.children!==T.children&&D(oe,T.children)}else!de&&Y==null&&Ae(oe,ve,Pe,J,ae);((We=Pe.onVnodeUpdated)||Oe)&&a0(()=>{We&&T0(We,J,T,R),Oe&&Cs(T,R,J,"updated")},ie)},we=(R,T,J,ie,ae,ee,de)=>{for(let oe=0;oe<T.length;oe++){const pe=R[oe],Y=T[oe],Oe=pe.el&&(pe.type===Me||!sn(pe,Y)||pe.shapeFlag&198)?b(pe.el):J;z(pe,Y,Oe,null,ie,ae,ee,de,!0)}},Ae=(R,T,J,ie,ae)=>{if(T!==J){if(T!==pt)for(const ee in T)!ln(ee)&&!(ee in J)&&h(R,ee,T[ee],null,ae,ie);for(const ee in J){if(ln(ee))continue;const de=J[ee],oe=T[ee];de!==oe&&ee!=="value"&&h(R,ee,oe,de,ae,ie)}"value"in J&&h(R,"value",T.value,J.value,ae)}},ce=(R,T,J,ie,ae,ee,de,oe,pe)=>{const Y=T.el=R?R.el:C(""),Oe=T.anchor=R?R.anchor:C("");let{patchFlag:ve,dynamicChildren:Pe,slotScopeIds:We}=T;We&&(oe=oe?oe.concat(We):We),R==null?(f(Y,J,ie),f(Oe,J,ie),re(T.children||[],J,Oe,ae,ee,de,oe,pe)):ve>0&&ve&64&&Pe&&R.dynamicChildren?(we(R.dynamicChildren,Pe,J,ae,ee,de,oe),(T.key!=null||ae&&T===ae.subTree)&&Hx(R,T,!0)):Se(R,T,J,Oe,ae,ee,de,oe,pe)},Be=(R,T,J,ie,ae,ee,de,oe,pe)=>{T.slotScopeIds=oe,R==null?T.shapeFlag&512?ae.ctx.activate(T,J,ie,de,pe):Fe(T,J,ie,ae,ee,de,pe):j(R,T,pe)},Fe=(R,T,J,ie,ae,ee,de)=>{const oe=R.component=M1(R,ie,ae);if(kx(R)&&(oe.ctx.renderer=Ie),U1(oe,!1,de),oe.asyncDep){if(ae&&ae.registerDep(oe,ye,de),!R.el){const pe=oe.subTree=vt(cs);ne(null,pe,T,J),R.placeholder=pe.el}}else ye(oe,R,T,J,ae,ee,de)},j=(R,T,J)=>{const ie=T.component=R.component;if(_1(R,T,J))if(ie.asyncDep&&!ie.asyncResolved){xe(ie,T,J);return}else ie.next=T,ie.update();else T.el=R.el,ie.vnode=T},ye=(R,T,J,ie,ae,ee,de)=>{const oe=()=>{if(R.isMounted){let{next:ve,bu:Pe,u:We,parent:Xe,vnode:gt}=R;{const f0=Wx(R);if(f0){ve&&(ve.el=gt.el,xe(R,ve,de)),f0.asyncDep.then(()=>{R.isUnmounted||oe()});return}}let tt=ve,dt;ms(R,!1),ve?(ve.el=gt.el,xe(R,ve,de)):ve=gt,Pe&&Jn(Pe),(dt=ve.props&&ve.props.onVnodeBeforeUpdate)&&T0(dt,Xe,ve,gt),ms(R,!0);const jt=oo(R),qt=R.subTree;R.subTree=jt,z(qt,jt,b(qt.el),se(qt),R,ae,ee),ve.el=jt.el,tt===null&&k1(R,jt.el),We&&a0(We,ae),(dt=ve.props&&ve.props.onVnodeUpdated)&&a0(()=>T0(dt,Xe,ve,gt),ae)}else{let ve;const{el:Pe,props:We}=T,{bm:Xe,m:gt,parent:tt,root:dt,type:jt}=R,qt=un(T);ms(R,!1),Xe&&Jn(Xe),!qt&&(ve=We&&We.onVnodeBeforeMount)&&T0(ve,tt,T),ms(R,!0);{dt.ce&&dt.ce._def.shadowRoot!==!1&&dt.ce._injectChildStyle(jt);const f0=R.subTree=oo(R);z(null,f0,J,ie,R,ae,ee),T.el=f0.el}if(gt&&a0(gt,ae),!qt&&(ve=We&&We.onVnodeMounted)){const f0=T;a0(()=>T0(ve,tt,f0),ae)}(T.shapeFlag&256||tt&&un(tt.vnode)&&tt.vnode.shapeFlag&256)&&R.a&&a0(R.a,ae),R.isMounted=!0,T=J=ie=null}};R.scope.on();const pe=R.effect=new rx(oe);R.scope.off();const Y=R.update=pe.run.bind(pe),Oe=R.job=pe.runIfDirty.bind(pe);Oe.i=R,Oe.id=R.uid,pe.scheduler=()=>bi(Oe),ms(R,!0),Y()},xe=(R,T,J)=>{T.component=R;const ie=R.vnode.props;R.vnode=T,R.next=null,d1(R,T.props,ie,J),E1(R,T.children,J),z0(),qi(R),Y0()},Se=(R,T,J,ie,ae,ee,de,oe,pe=!1)=>{const Y=R&&R.children,Oe=R?R.shapeFlag:0,ve=T.children,{patchFlag:Pe,shapeFlag:We}=T;if(Pe>0){if(Pe&128){Qe(Y,ve,J,ie,ae,ee,de,oe,pe);return}else if(Pe&256){Ke(Y,ve,J,ie,ae,ee,de,oe,pe);return}}We&8?(Oe&16&&De(Y,ae,ee),ve!==Y&&D(J,ve)):Oe&16?We&16?Qe(Y,ve,J,ie,ae,ee,de,oe,pe):De(Y,ae,ee,!0):(Oe&8&&D(J,""),We&16&&re(ve,J,ie,ae,ee,de,oe,pe))},Ke=(R,T,J,ie,ae,ee,de,oe,pe)=>{R=R||Rs,T=T||Rs;const Y=R.length,Oe=T.length,ve=Math.min(Y,Oe);let Pe;for(Pe=0;Pe<ve;Pe++){const We=T[Pe]=pe?is(T[Pe]):R0(T[Pe]);z(R[Pe],We,J,null,ae,ee,de,oe,pe)}Y>Oe?De(R,ae,ee,!0,!1,ve):re(T,J,ie,ae,ee,de,oe,pe,ve)},Qe=(R,T,J,ie,ae,ee,de,oe,pe)=>{let Y=0;const Oe=T.length;let ve=R.length-1,Pe=Oe-1;for(;Y<=ve&&Y<=Pe;){const We=R[Y],Xe=T[Y]=pe?is(T[Y]):R0(T[Y]);if(sn(We,Xe))z(We,Xe,J,null,ae,ee,de,oe,pe);else break;Y++}for(;Y<=ve&&Y<=Pe;){const We=R[ve],Xe=T[Pe]=pe?is(T[Pe]):R0(T[Pe]);if(sn(We,Xe))z(We,Xe,J,null,ae,ee,de,oe,pe);else break;ve--,Pe--}if(Y>ve){if(Y<=Pe){const We=Pe+1,Xe=We<Oe?T[We].el:ie;for(;Y<=Pe;)z(null,T[Y]=pe?is(T[Y]):R0(T[Y]),J,Xe,ae,ee,de,oe,pe),Y++}}else if(Y>Pe)for(;Y<=ve;)Le(R[Y],ae,ee,!0),Y++;else{const We=Y,Xe=Y,gt=new Map;for(Y=Xe;Y<=Pe;Y++){const it=T[Y]=pe?is(T[Y]):R0(T[Y]);it.key!=null&&gt.set(it.key,Y)}let tt,dt=0;const jt=Pe-Xe+1;let qt=!1,f0=0;const Bt=new Array(jt);for(Y=0;Y<jt;Y++)Bt[Y]=0;for(Y=We;Y<=ve;Y++){const it=R[Y];if(dt>=jt){Le(it,ae,ee,!0);continue}let st;if(it.key!=null)st=gt.get(it.key);else for(tt=Xe;tt<=Pe;tt++)if(Bt[tt-Xe]===0&&sn(it,T[tt])){st=tt;break}st===void 0?Le(it,ae,ee,!0):(Bt[st-Xe]=Y+1,st>=f0?f0=st:qt=!0,z(it,T[st],J,null,ae,ee,de,oe,pe),dt++)}const be=qt?A1(Bt):Rs;for(tt=be.length-1,Y=jt-1;Y>=0;Y--){const it=Xe+Y,st=T[it],Ft=T[it+1],Z0=it+1<Oe?Ft.el||Ft.placeholder:ie;Bt[Y]===0?z(null,st,J,Z0,ae,ee,de,oe,pe):qt&&(tt<0||Y!==be[tt]?ke(st,J,Z0,2):tt--)}}},ke=(R,T,J,ie,ae=null)=>{const{el:ee,type:de,transition:oe,children:pe,shapeFlag:Y}=R;if(Y&6){ke(R.component.subTree,T,J,ie);return}if(Y&128){R.suspense.move(T,J,ie);return}if(Y&64){de.move(R,T,J,Ie);return}if(de===Me){f(ee,T,J);for(let ve=0;ve<pe.length;ve++)ke(pe[ve],T,J,ie);f(R.anchor,T,J);return}if(de===Gn){U(R,T,J);return}if(ie!==2&&Y&1&&oe)if(ie===0)oe.beforeEnter(ee),f(ee,T,J),a0(()=>oe.enter(ee),ae);else{const{leave:ve,delayLeave:Pe,afterLeave:We}=oe,Xe=()=>{R.ctx.isUnmounted?a(ee):f(ee,T,J)},gt=()=>{ee._isLeaving&&ee[ja](!0),ve(ee,()=>{Xe(),We&&We()})};Pe?Pe(ee,Xe,gt):gt()}else f(ee,T,J)},Le=(R,T,J,ie=!1,ae=!1)=>{const{type:ee,props:de,ref:oe,children:pe,dynamicChildren:Y,shapeFlag:Oe,patchFlag:ve,dirs:Pe,cacheIndex:We}=R;if(ve===-2&&(ae=!1),oe!=null&&(z0(),dn(oe,null,J,R,!0),Y0()),We!=null&&(T.renderCache[We]=void 0),Oe&256){T.ctx.deactivate(R);return}const Xe=Oe&1&&Pe,gt=!un(R);let tt;if(gt&&(tt=de&&de.onVnodeBeforeUnmount)&&T0(tt,T,R),Oe&6)t0(R.component,J,ie);else{if(Oe&128){R.suspense.unmount(J,ie);return}Xe&&Cs(R,null,T,"beforeUnmount"),Oe&64?R.type.remove(R,T,J,Ie,ie):Y&&!Y.hasOnce&&(ee!==Me||ve>0&&ve&64)?De(Y,T,J,!1,!0):(ee===Me&&ve&384||!ae&&Oe&16)&&De(pe,T,J),ie&&ct(R)}(gt&&(tt=de&&de.onVnodeUnmounted)||Xe)&&a0(()=>{tt&&T0(tt,T,R),Xe&&Cs(R,null,T,"unmounted")},J)},ct=R=>{const{type:T,el:J,anchor:ie,transition:ae}=R;if(T===Me){Te(J,ie);return}if(T===Gn){O(R);return}const ee=()=>{a(J),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(R.shapeFlag&1&&ae&&!ae.persisted){const{leave:de,delayLeave:oe}=ae,pe=()=>de(J,ee);oe?oe(R.el,ee,pe):pe()}else ee()},Te=(R,T)=>{let J;for(;R!==T;)J=S(R),a(R),R=J;a(T)},t0=(R,T,J)=>{const{bum:ie,scope:ae,job:ee,subTree:de,um:oe,m:pe,a:Y}=R;io(pe),io(Y),ie&&Jn(ie),ae.stop(),ee&&(ee.flags|=8,Le(de,R,T,J)),oe&&a0(oe,T),a0(()=>{R.isUnmounted=!0},T)},De=(R,T,J,ie=!1,ae=!1,ee=0)=>{for(let de=ee;de<R.length;de++)Le(R[de],T,J,ie,ae)},se=R=>{if(R.shapeFlag&6)return se(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const T=S(R.anchor||R.el),J=T&&T[La];return J?S(J):T};let ge=!1;const me=(R,T,J)=>{R==null?T._vnode&&Le(T._vnode,null,null,!0):z(T._vnode||null,R,T,null,null,null,J),T._vnode=R,ge||(ge=!0,qi(),Dx(),ge=!1)},Ie={p:z,um:Le,m:ke,r:ct,mt:Fe,mc:re,pc:Se,pbc:we,n:se,o:n};return{render:me,hydrate:void 0,createApp:a1(me)}}function Wr({type:n,props:t},c){return c==="svg"&&n==="foreignObject"||c==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:c}function ms({effect:n,job:t},c){c?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function m1(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Hx(n,t,c=!1){const f=n.children,a=t.children;if(Je(f)&&Je(a))for(let h=0;h<f.length;h++){const g=f[h];let C=a[h];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=a[h]=is(a[h]),C.el=g.el),!c&&C.patchFlag!==-2&&Hx(g,C)),C.type===gr&&C.patchFlag!==-1&&(C.el=g.el),C.type===cs&&!C.el&&(C.el=g.el)}}function A1(n){const t=n.slice(),c=[0];let f,a,h,g,C;const w=n.length;for(f=0;f<w;f++){const A=n[f];if(A!==0){if(a=c[c.length-1],n[a]<A){t[f]=a,c.push(f);continue}for(h=0,g=c.length-1;h<g;)C=h+g>>1,n[c[C]]<A?h=C+1:g=C;A<n[c[h]]&&(h>0&&(t[f]=c[h-1]),c[h]=f)}}for(h=c.length,g=c[h-1];h-- >0;)c[h]=g,g=t[g];return c}function Wx(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Wx(t)}function io(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const p1=Symbol.for("v-scx"),B1=()=>G0(p1);function Wn(n,t,c){return Gx(n,t,c)}function Gx(n,t,c=pt){const{immediate:f,deep:a,flush:h,once:g}=c,C=Zt({},c),w=t&&f||!t&&h!=="post";let A;if(Bn){if(h==="sync"){const P=B1();A=P.__watcherHandles||(P.__watcherHandles=[])}else if(!w){const P=()=>{};return P.stop=N0,P.resume=N0,P.pause=N0,P}}const D=Yt;C.call=(P,V,z)=>L0(P,D,V,z);let b=!1;h==="post"?C.scheduler=P=>{a0(P,D&&D.suspense)}:h!=="sync"&&(b=!0,C.scheduler=(P,V)=>{V?P():bi(P)}),C.augmentJob=P=>{t&&(P.flags|=4),b&&(P.flags|=2,D&&(P.id=D.uid,P.i=D))};const S=Ra(n,t,C);return Bn&&(A?A.push(S):w&&S()),S}function b1(n,t,c){const f=this.proxy,a=Rt(n)?n.includes(".")?Xx(f,n):()=>f[n]:n.bind(f,f);let h;Ze(t)?h=t:(h=t.handler,c=t);const g=_n(this),C=Gx(a,h.bind(f),c);return g(),C}function Xx(n,t){const c=t.split(".");return()=>{let f=n;for(let a=0;a<c.length&&f;a++)f=f[c[a]];return f}}const w1=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${A0(t)}Modifiers`]||n[`${Bs(t)}Modifiers`];function D1(n,t,...c){if(n.isUnmounted)return;const f=n.vnode.props||pt;let a=c;const h=t.startsWith("update:"),g=h&&w1(f,t.slice(7));g&&(g.trim&&(a=c.map(D=>Rt(D)?D.trim():D)),g.number&&(a=c.map(Kn)));let C,w=f[C=Lr(t)]||f[C=Lr(A0(t))];!w&&h&&(w=f[C=Lr(Bs(t))]),w&&L0(w,n,6,a);const A=f[C+"Once"];if(A){if(!n.emitted)n.emitted={};else if(n.emitted[C])return;n.emitted[C]=!0,L0(A,n,6,a)}}const F1=new WeakMap;function zx(n,t,c=!1){const f=c?F1:t.emitsCache,a=f.get(n);if(a!==void 0)return a;const h=n.emits;let g={},C=!1;if(!Ze(n)){const w=A=>{const D=zx(A,t,!0);D&&(C=!0,Zt(g,D))};!c&&t.mixins.length&&t.mixins.forEach(w),n.extends&&w(n.extends),n.mixins&&n.mixins.forEach(w)}return!h&&!C?(Dt(n)&&f.set(n,null),null):(Je(h)?h.forEach(w=>g[w]=null):Zt(g,h),Dt(n)&&f.set(n,g),g)}function Er(n,t){return!n||!xr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Et(n,t[0].toLowerCase()+t.slice(1))||Et(n,Bs(t))||Et(n,t))}function oo(n){const{type:t,vnode:c,proxy:f,withProxy:a,propsOptions:[h],slots:g,attrs:C,emit:w,render:A,renderCache:D,props:b,data:S,setupState:P,ctx:V,inheritAttrs:z}=n,$=$n(n);let ne,te;try{if(c.shapeFlag&4){const O=a||f,G=O;ne=R0(A.call(G,O,D,b,P,S,V)),te=C}else{const O=t;ne=R0(O.length>1?O(b,{attrs:C,slots:g,emit:w}):O(b,null)),te=t.props?C:y1(C)}}catch(O){hn.length=0,fr(O,n,1),ne=vt(cs)}let U=ne;if(te&&z!==!1){const O=Object.keys(te),{shapeFlag:G}=U;O.length&&G&7&&(h&&O.some(ci)&&(te=v1(te,h)),U=js(U,te,!1,!0))}return c.dirs&&(U=js(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(c.dirs):c.dirs),c.transition&&wi(U,c.transition),ne=U,$n($),ne}const y1=n=>{let t;for(const c in n)(c==="class"||c==="style"||xr(c))&&((t||(t={}))[c]=n[c]);return t},v1=(n,t)=>{const c={};for(const f in n)(!ci(f)||!(f.slice(9)in t))&&(c[f]=n[f]);return c};function _1(n,t,c){const{props:f,children:a,component:h}=n,{props:g,children:C,patchFlag:w}=t,A=h.emitsOptions;if(t.dirs||t.transition)return!0;if(c&&w>=0){if(w&1024)return!0;if(w&16)return f?xo(f,g,A):!!g;if(w&8){const D=t.dynamicProps;for(let b=0;b<D.length;b++){const S=D[b];if(g[S]!==f[S]&&!Er(A,S))return!0}}}else return(a||C)&&(!C||!C.$stable)?!0:f===g?!1:f?g?xo(f,g,A):!0:!!g;return!1}function xo(n,t,c){const f=Object.keys(t);if(f.length!==Object.keys(n).length)return!0;for(let a=0;a<f.length;a++){const h=f[a];if(t[h]!==n[h]&&!Er(c,h))return!0}return!1}function k1({vnode:n,parent:t},c){for(;t;){const f=t.subTree;if(f.suspense&&f.suspense.activeBranch===n&&(f.el=n.el),f===n)(n=t.vnode).el=c,t=t.parent;else break}}const Yx=n=>n.__isSuspense;function I1(n,t){t&&t.pendingBranch?Je(n)?t.effects.push(...n):t.effects.push(n):Ma(n)}const Me=Symbol.for("v-fgt"),gr=Symbol.for("v-txt"),cs=Symbol.for("v-cmt"),Gn=Symbol.for("v-stc"),hn=[];let d0=null;function y(n=!1){hn.push(d0=n?null:[])}function S1(){hn.pop(),d0=hn[hn.length-1]||null}let pn=1;function sr(n,t=!1){pn+=n,n<0&&d0&&t&&(d0.hasOnce=!0)}function Kx(n){return n.dynamicChildren=pn>0?d0||Rs:null,S1(),pn>0&&d0&&d0.push(n),n}function v(n,t,c,f,a,h){return Kx(l(n,t,c,f,a,h,!0))}function Zx(n,t,c,f,a){return Kx(vt(n,t,c,f,a,!0))}function nr(n){return n?n.__v_isVNode===!0:!1}function sn(n,t){return n.type===t.type&&n.key===t.key}const qx=({key:n})=>n??null,Xn=({ref:n,ref_key:t,ref_for:c})=>(typeof n=="number"&&(n=""+n),n!=null?Rt(n)||Kt(n)||Ze(n)?{i:c0,r:n,k:t,f:!!c}:n:null);function l(n,t=null,c=null,f=0,a=null,h=n===Me?0:1,g=!1,C=!1){const w={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&qx(t),ref:t&&Xn(t),scopeId:yx,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:f,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:c0};return C?(yi(w,c),h&128&&n.normalize(w)):c&&(w.shapeFlag|=Rt(c)?8:16),pn>0&&!g&&d0&&(w.patchFlag>0||h&6)&&w.patchFlag!==32&&d0.push(w),w}const vt=T1;function T1(n,t=null,c=null,f=0,a=null,h=!1){if((!n||n===e1)&&(n=cs),nr(n)){const C=js(n,t,!0);return c&&yi(C,c),pn>0&&!h&&d0&&(C.shapeFlag&6?d0[d0.indexOf(n)]=C:d0.push(C)),C.patchFlag=-2,C}if(W1(n)&&(n=n.__vccOpts),t){t=P1(t);let{class:C,style:w}=t;C&&!Rt(C)&&(t.class=xt(C)),Dt(w)&&(pi(w)&&!Je(w)&&(w=Zt({},w)),t.style=Gs(w))}const g=Rt(n)?1:Yx(n)?128:Ua(n)?64:Dt(n)?4:Ze(n)?2:0;return l(n,t,c,f,a,g,h,!0)}function P1(n){return n?pi(n)||Mx(n)?Zt({},n):n:null}function js(n,t,c=!1,f=!1){const{props:a,ref:h,patchFlag:g,children:C,transition:w}=n,A=t?R1(a||{},t):a,D={__v_isVNode:!0,__v_skip:!0,type:n.type,props:A,key:A&&qx(A),ref:t&&t.ref?c&&h?Je(h)?h.concat(Xn(t)):[h,Xn(t)]:Xn(t):h,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:C,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Me?g===-1?16:g|16:g,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:w,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&js(n.ssContent),ssFallback:n.ssFallback&&js(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return w&&f&&wi(D,w.clone(D)),D}function X(n=" ",t=0){return vt(gr,null,n,t)}function Xs(n,t){const c=vt(Gn,null,n);return c.staticCount=t,c}function le(n="",t=!1){return t?(y(),Zx(cs,null,n)):vt(cs,null,n)}function R0(n){return n==null||typeof n=="boolean"?vt(cs):Je(n)?vt(Me,null,n.slice()):nr(n)?is(n):vt(gr,null,String(n))}function is(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:js(n)}function yi(n,t){let c=0;const{shapeFlag:f}=n;if(t==null)t=null;else if(Je(t))c=16;else if(typeof t=="object")if(f&65){const a=t.default;a&&(a._c&&(a._d=!1),yi(n,a()),a._c&&(a._d=!0));return}else{c=32;const a=t._;!a&&!Mx(t)?t._ctx=c0:a===3&&c0&&(c0.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Ze(t)?(t={default:t,_ctx:c0},c=32):(t=String(t),f&64?(c=16,t=[X(t)]):c=8);n.children=t,n.shapeFlag|=c}function R1(...n){const t={};for(let c=0;c<n.length;c++){const f=n[c];for(const a in f)if(a==="class")t.class!==f.class&&(t.class=xt([t.class,f.class]));else if(a==="style")t.style=Gs([t.style,f.style]);else if(xr(a)){const h=t[a],g=f[a];g&&h!==g&&!(Je(h)&&h.includes(g))&&(t[a]=h?[].concat(h,g):g)}else a!==""&&(t[a]=f[a])}return t}function T0(n,t,c,f=null){L0(n,t,7,[c,f])}const N1=Rx();let O1=0;function M1(n,t,c){const f=n.type,a=(t?t.appContext:n.appContext)||N1,h={uid:O1++,vnode:n,type:f,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ux(f,a),emitsOptions:zx(f,a),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:f.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=t?t.root:h,h.emit=D1.bind(null,h),n.ce&&n.ce(h),h}let Yt=null;const L1=()=>Yt||c0;let rr,ri;{const n=cr(),t=(c,f)=>{let a;return(a=n[c])||(a=n[c]=[]),a.push(f),h=>{a.length>1?a.forEach(g=>g(h)):a[0](h)}};rr=t("__VUE_INSTANCE_SETTERS__",c=>Yt=c),ri=t("__VUE_SSR_SETTERS__",c=>Bn=c)}const _n=n=>{const t=Yt;return rr(n),n.scope.on(),()=>{n.scope.off(),rr(t)}},lo=()=>{Yt&&Yt.scope.off(),rr(null)};function Qx(n){return n.vnode.shapeFlag&4}let Bn=!1;function U1(n,t=!1,c=!1){t&&ri(t);const{props:f,children:a}=n.vnode,h=Qx(n);c1(n,f,h,t),h1(n,a,c||t);const g=h?j1(n,t):void 0;return t&&ri(!1),g}function j1(n,t){const c=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,s1);const{setup:f}=c;if(f){z0();const a=n.setupContext=f.length>1?J1(n):null,h=_n(n),g=vn(f,n,0,[n.props,a]),C=qo(g);if(Y0(),h(),(C||n.sp)&&!un(n)&&_x(n),C){if(g.then(lo,lo),t)return g.then(w=>{ao(n,w)}).catch(w=>{fr(w,n,0)});n.asyncDep=g}else ao(n,g)}else $x(n)}function ao(n,t,c){Ze(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Dt(t)&&(n.setupState=Bx(t)),$x(n)}function $x(n,t,c){const f=n.type;n.render||(n.render=f.render||N0);{const a=_n(n);z0();try{n1(n)}finally{Y0(),a()}}}const V1={get(n,t){return zt(n,"get",""),n[t]}};function J1(n){const t=c=>{n.exposed=c||{}};return{attrs:new Proxy(n.attrs,V1),slots:n.slots,emit:n.emit,expose:t}}function Cr(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Bx(ya(n.exposed)),{get(t,c){if(c in t)return t[c];if(c in fn)return fn[c](n)},has(t,c){return c in t||c in fn}})):n.proxy}function H1(n,t=!0){return Ze(n)?n.displayName||n.name:n.name||t&&n.__name}function W1(n){return Ze(n)&&"__vccOpts"in n}const b0=(n,t)=>Ta(n,t,Bn);function el(n,t,c){const f=(h,g,C)=>{sr(-1);try{return vt(h,g,C)}finally{sr(1)}},a=arguments.length;return a===2?Dt(t)&&!Je(t)?nr(t)?f(n,null,[t]):f(n,t):f(n,null,t):(a>3?c=Array.prototype.slice.call(arguments,2):a===3&&nr(c)&&(c=[c]),f(n,t,c))}const G1="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;const co=typeof window<"u"&&window.trustedTypes;if(co)try{ii=co.createPolicy("vue",{createHTML:n=>n})}catch{}const tl=ii?n=>ii.createHTML(n):n=>n,X1="http://www.w3.org/2000/svg",z1="http://www.w3.org/1998/Math/MathML",V0=typeof document<"u"?document:null,uo=V0&&V0.createElement("template"),Y1={insert:(n,t,c)=>{t.insertBefore(n,c||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,c,f)=>{const a=t==="svg"?V0.createElementNS(X1,n):t==="mathml"?V0.createElementNS(z1,n):c?V0.createElement(n,{is:c}):V0.createElement(n);return n==="select"&&f&&f.multiple!=null&&a.setAttribute("multiple",f.multiple),a},createText:n=>V0.createTextNode(n),createComment:n=>V0.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>V0.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,c,f,a,h){const g=c?c.previousSibling:t.lastChild;if(a&&(a===h||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),c),!(a===h||!(a=a.nextSibling)););else{uo.innerHTML=tl(f==="svg"?`<svg>${n}</svg>`:f==="mathml"?`<math>${n}</math>`:n);const C=uo.content;if(f==="svg"||f==="mathml"){const w=C.firstChild;for(;w.firstChild;)C.appendChild(w.firstChild);C.removeChild(w)}t.insertBefore(C,c)}return[g?g.nextSibling:t.firstChild,c?c.previousSibling:t.lastChild]}},K1=Symbol("_vtc");function Z1(n,t,c){const f=n[K1];f&&(t=(t?[t,...f]:[...f]).join(" ")),t==null?n.removeAttribute("class"):c?n.setAttribute("class",t):n.className=t}const ir=Symbol("_vod"),sl=Symbol("_vsh"),J0={name:"show",beforeMount(n,{value:t},{transition:c}){n[ir]=n.style.display==="none"?"":n.style.display,c&&t?c.beforeEnter(n):nn(n,t)},mounted(n,{value:t},{transition:c}){c&&t&&c.enter(n)},updated(n,{value:t,oldValue:c},{transition:f}){!t!=!c&&(f?t?(f.beforeEnter(n),nn(n,!0),f.enter(n)):f.leave(n,()=>{nn(n,!1)}):nn(n,t))},beforeUnmount(n,{value:t}){nn(n,t)}};function nn(n,t){n.style.display=t?n[ir]:"none",n[sl]=!t}const q1=Symbol(""),Q1=/(?:^|;)\s*display\s*:/;function $1(n,t,c){const f=n.style,a=Rt(c);let h=!1;if(c&&!a){if(t)if(Rt(t))for(const g of t.split(";")){const C=g.slice(0,g.indexOf(":")).trim();c[C]==null&&zn(f,C,"")}else for(const g in t)c[g]==null&&zn(f,g,"");for(const g in c)g==="display"&&(h=!0),zn(f,g,c[g])}else if(a){if(t!==c){const g=f[q1];g&&(c+=";"+g),f.cssText=c,h=Q1.test(c)}}else t&&n.removeAttribute("style");ir in n&&(n[ir]=h?f.display:"",n[sl]&&(f.display="none"))}const fo=/\s*!important$/;function zn(n,t,c){if(Je(c))c.forEach(f=>zn(n,t,f));else if(c==null&&(c=""),t.startsWith("--"))n.setProperty(t,c);else{const f=ec(n,t);fo.test(c)?n.setProperty(Bs(f),c.replace(fo,""),"important"):n[f]=c}}const ho=["Webkit","Moz","ms"],Gr={};function ec(n,t){const c=Gr[t];if(c)return c;let f=A0(t);if(f!=="filter"&&f in n)return Gr[t]=f;f=ar(f);for(let a=0;a<ho.length;a++){const h=ho[a]+f;if(h in n)return Gr[t]=h}return t}const Eo="http://www.w3.org/1999/xlink";function go(n,t,c,f,a,h=ra(t)){f&&t.startsWith("xlink:")?c==null?n.removeAttributeNS(Eo,t.slice(6,t.length)):n.setAttributeNS(Eo,t,c):c==null||h&&!tx(c)?n.removeAttribute(t):n.setAttribute(t,h?"":M0(c)?String(c):c)}function Co(n,t,c,f,a){if(t==="innerHTML"||t==="textContent"){c!=null&&(n[t]=t==="innerHTML"?tl(c):c);return}const h=n.tagName;if(t==="value"&&h!=="PROGRESS"&&!h.includes("-")){const C=h==="OPTION"?n.getAttribute("value")||"":n.value,w=c==null?n.type==="checkbox"?"on":"":String(c);(C!==w||!("_value"in n))&&(n.value=w),c==null&&n.removeAttribute(t),n._value=c;return}let g=!1;if(c===""||c==null){const C=typeof n[t];C==="boolean"?c=tx(c):c==null&&C==="string"?(c="",g=!0):C==="number"&&(c=0,g=!0)}try{n[t]=c}catch{}g&&n.removeAttribute(a||t)}function xs(n,t,c,f){n.addEventListener(t,c,f)}function tc(n,t,c,f){n.removeEventListener(t,c,f)}const mo=Symbol("_vei");function sc(n,t,c,f,a=null){const h=n[mo]||(n[mo]={}),g=h[t];if(f&&g)g.value=f;else{const[C,w]=nc(t);if(f){const A=h[t]=oc(f,a);xs(n,C,A,w)}else g&&(tc(n,C,g,w),h[t]=void 0)}}const Ao=/(?:Once|Passive|Capture)$/;function nc(n){let t;if(Ao.test(n)){t={};let f;for(;f=n.match(Ao);)n=n.slice(0,n.length-f[0].length),t[f[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Bs(n.slice(2)),t]}let Xr=0;const rc=Promise.resolve(),ic=()=>Xr||(rc.then(()=>Xr=0),Xr=Date.now());function oc(n,t){const c=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=c.attached)return;L0(xc(f,c.value),t,5,[f])};return c.value=n,c.attached=ic(),c}function xc(n,t){if(Je(t)){const c=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{c.call(n),n._stopped=!0},t.map(f=>a=>!a._stopped&&f&&f(a))}else return t}const po=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,lc=(n,t,c,f,a,h)=>{const g=a==="svg";t==="class"?Z1(n,f,g):t==="style"?$1(n,c,f):xr(t)?ci(t)||sc(n,t,c,f,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ac(n,t,f,g))?(Co(n,t,f),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&go(n,t,f,g,h,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Rt(f))?Co(n,A0(t),f,h,t):(t==="true-value"?n._trueValue=f:t==="false-value"&&(n._falseValue=f),go(n,t,f,g))};function ac(n,t,c,f){if(f)return!!(t==="innerHTML"||t==="textContent"||t in n&&po(t)&&Ze(c));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=n.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return po(t)&&Rt(c)?!1:t in n}const Vs=n=>{const t=n.props["onUpdate:modelValue"]||!1;return Je(t)?c=>Jn(t,c):t};function cc(n){n.target.composing=!0}function Bo(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const X0=Symbol("_assign"),Re={created(n,{modifiers:{lazy:t,trim:c,number:f}},a){n[X0]=Vs(a);const h=f||a.props&&a.props.type==="number";xs(n,t?"change":"input",g=>{if(g.target.composing)return;let C=n.value;c&&(C=C.trim()),h&&(C=Kn(C)),n[X0](C)}),c&&xs(n,"change",()=>{n.value=n.value.trim()}),t||(xs(n,"compositionstart",cc),xs(n,"compositionend",Bo),xs(n,"change",Bo))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:c,modifiers:{lazy:f,trim:a,number:h}},g){if(n[X0]=Vs(g),n.composing)return;const C=(h||n.type==="number")&&!/^0\d/.test(n.value)?Kn(n.value):n.value,w=t??"";C!==w&&(document.activeElement===n&&n.type!=="range"&&(f&&t===c||a&&n.value.trim()===w)||(n.value=w))}},bo={deep:!0,created(n,t,c){n[X0]=Vs(c),xs(n,"change",()=>{const f=n._modelValue,a=bn(n),h=n.checked,g=n[X0];if(Je(f)){const C=fi(f,a),w=C!==-1;if(h&&!w)g(f.concat(a));else if(!h&&w){const A=[...f];A.splice(C,1),g(A)}}else if(Ws(f)){const C=new Set(f);h?C.add(a):C.delete(a),g(C)}else g(nl(n,h))})},mounted:wo,beforeUpdate(n,t,c){n[X0]=Vs(c),wo(n,t,c)}};function wo(n,{value:t,oldValue:c},f){n._modelValue=t;let a;if(Je(t))a=fi(t,f.props.value)>-1;else if(Ws(t))a=t.has(f.props.value);else{if(t===c)return;a=yn(t,nl(n,!0))}n.checked!==a&&(n.checked=a)}const kt={deep:!0,created(n,{value:t,modifiers:{number:c}},f){const a=Ws(t);xs(n,"change",()=>{const h=Array.prototype.filter.call(n.options,g=>g.selected).map(g=>c?Kn(bn(g)):bn(g));n[X0](n.multiple?a?new Set(h):h:h[0]),n._assigning=!0,Bi(()=>{n._assigning=!1})}),n[X0]=Vs(f)},mounted(n,{value:t}){Do(n,t)},beforeUpdate(n,t,c){n[X0]=Vs(c)},updated(n,{value:t}){n._assigning||Do(n,t)}};function Do(n,t){const c=n.multiple,f=Je(t);if(!(c&&!f&&!Ws(t))){for(let a=0,h=n.options.length;a<h;a++){const g=n.options[a],C=bn(g);if(c)if(f){const w=typeof C;w==="string"||w==="number"?g.selected=t.some(A=>String(A)===String(C)):g.selected=fi(t,C)>-1}else g.selected=t.has(C);else if(yn(bn(g),t)){n.selectedIndex!==a&&(n.selectedIndex=a);return}}!c&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function bn(n){return"_value"in n?n._value:n.value}function nl(n,t){const c=t?"_trueValue":"_falseValue";return c in n?n[c]:t}const dc=["ctrl","shift","alt","meta"],uc={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>dc.some(c=>n[`${c}Key`]&&!t.includes(c))},Ve=(n,t)=>{const c=n._withMods||(n._withMods={}),f=t.join(".");return c[f]||(c[f]=((a,...h)=>{for(let g=0;g<t.length;g++){const C=uc[t[g]];if(C&&C(a,t))return}return n(a,...h)}))},fc=Zt({patchProp:lc},Y1);let Fo;function hc(){return Fo||(Fo=g1(fc))}const Ec=((...n)=>{const t=hc().createApp(...n),{mount:c}=t;return t.mount=f=>{const a=Cc(f);if(!a)return;const h=t._component;!Ze(h)&&!h.render&&!h.template&&(h.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const g=c(a,!1,gc(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),g},t});function gc(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Cc(n){return Rt(n)?document.querySelector(n):n}const u0=(n,t)=>{const c=n.__vccOpts||n;for(const[f,a]of t)c[f]=a;return c},mc={name:"App"},Ac={id:"app",class:"min-h-screen bg-white"};function pc(n,t,c,f,a,h){const g=O0("router-view");return y(),v("div",Ac,[vt(g)])}const Bc=u0(mc,[["render",pc]]),bc="modulepreload",wc=function(n){return"/"+n},yo={},Dc=function(t,c,f){let a=Promise.resolve();if(c&&c.length>0){let w=function(A){return Promise.all(A.map(D=>Promise.resolve(D).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),C=g?.nonce||g?.getAttribute("nonce");a=w(c.map(A=>{if(A=wc(A),A in yo)return;yo[A]=!0;const D=A.endsWith(".css"),b=D?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${b}`))return;const S=document.createElement("link");if(S.rel=D?"stylesheet":bc,D||(S.as="script"),S.crossOrigin="",S.href=A,C&&S.setAttribute("nonce",C),document.head.appendChild(S),D)return new Promise((P,V)=>{S.addEventListener("load",P),S.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${A}`)))})}))}function h(g){const C=new Event("vite:preloadError",{cancelable:!0});if(C.payload=g,window.dispatchEvent(C),!C.defaultPrevented)throw g}return a.then(g=>{for(const C of g||[])C.status==="rejected"&&h(C.reason);return t().catch(h)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ps=typeof document<"u";function rl(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Fc(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&rl(n.default)}const ft=Object.assign;function zr(n,t){const c={};for(const f in t){const a=t[f];c[f]=F0(a)?a.map(n):n(a)}return c}const En=()=>{},F0=Array.isArray,il=/#/g,yc=/&/g,vc=/\//g,_c=/=/g,kc=/\?/g,ol=/\+/g,Ic=/%5B/g,Sc=/%5D/g,xl=/%5E/g,Tc=/%60/g,ll=/%7B/g,Pc=/%7C/g,al=/%7D/g,Rc=/%20/g;function vi(n){return encodeURI(""+n).replace(Pc,"|").replace(Ic,"[").replace(Sc,"]")}function Nc(n){return vi(n).replace(ll,"{").replace(al,"}").replace(xl,"^")}function oi(n){return vi(n).replace(ol,"%2B").replace(Rc,"+").replace(il,"%23").replace(yc,"%26").replace(Tc,"`").replace(ll,"{").replace(al,"}").replace(xl,"^")}function Oc(n){return oi(n).replace(_c,"%3D")}function Mc(n){return vi(n).replace(il,"%23").replace(kc,"%3F")}function Lc(n){return n==null?"":Mc(n).replace(vc,"%2F")}function wn(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const Uc=/\/$/,jc=n=>n.replace(Uc,"");function Yr(n,t,c="/"){let f,a={},h="",g="";const C=t.indexOf("#");let w=t.indexOf("?");return C<w&&C>=0&&(w=-1),w>-1&&(f=t.slice(0,w),h=t.slice(w+1,C>-1?C:t.length),a=n(h)),C>-1&&(f=f||t.slice(0,C),g=t.slice(C,t.length)),f=Wc(f??t,c),{fullPath:f+(h&&"?")+h+g,path:f,query:a,hash:wn(g)}}function Vc(n,t){const c=t.query?n(t.query):"";return t.path+(c&&"?")+c+(t.hash||"")}function vo(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function Jc(n,t,c){const f=t.matched.length-1,a=c.matched.length-1;return f>-1&&f===a&&Js(t.matched[f],c.matched[a])&&cl(t.params,c.params)&&n(t.query)===n(c.query)&&t.hash===c.hash}function Js(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function cl(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const c in n)if(!Hc(n[c],t[c]))return!1;return!0}function Hc(n,t){return F0(n)?_o(n,t):F0(t)?_o(t,n):n===t}function _o(n,t){return F0(t)?n.length===t.length&&n.every((c,f)=>c===t[f]):n.length===1&&n[0]===t}function Wc(n,t){if(n.startsWith("/"))return n;if(!n)return t;const c=t.split("/"),f=n.split("/"),a=f[f.length-1];(a===".."||a===".")&&f.push("");let h=c.length-1,g,C;for(g=0;g<f.length;g++)if(C=f[g],C!==".")if(C==="..")h>1&&h--;else break;return c.slice(0,h).join("/")+"/"+f.slice(g).join("/")}const ns={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Dn;(function(n){n.pop="pop",n.push="push"})(Dn||(Dn={}));var gn;(function(n){n.back="back",n.forward="forward",n.unknown=""})(gn||(gn={}));function Gc(n){if(!n)if(Ps){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),jc(n)}const Xc=/^[^#]+#/;function zc(n,t){return n.replace(Xc,"#")+t}function Yc(n,t){const c=document.documentElement.getBoundingClientRect(),f=n.getBoundingClientRect();return{behavior:t.behavior,left:f.left-c.left-(t.left||0),top:f.top-c.top-(t.top||0)}}const mr=()=>({left:window.scrollX,top:window.scrollY});function Kc(n){let t;if("el"in n){const c=n.el,f=typeof c=="string"&&c.startsWith("#"),a=typeof c=="string"?f?document.getElementById(c.slice(1)):document.querySelector(c):c;if(!a)return;t=Yc(a,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ko(n,t){return(history.state?history.state.position-t:-1)+n}const xi=new Map;function Zc(n,t){xi.set(n,t)}function qc(n){const t=xi.get(n);return xi.delete(n),t}let Qc=()=>location.protocol+"//"+location.host;function dl(n,t){const{pathname:c,search:f,hash:a}=t,h=n.indexOf("#");if(h>-1){let C=a.includes(n.slice(h))?n.slice(h).length:1,w=a.slice(C);return w[0]!=="/"&&(w="/"+w),vo(w,"")}return vo(c,n)+f+a}function $c(n,t,c,f){let a=[],h=[],g=null;const C=({state:S})=>{const P=dl(n,location),V=c.value,z=t.value;let $=0;if(S){if(c.value=P,t.value=S,g&&g===V){g=null;return}$=z?S.position-z.position:0}else f(P);a.forEach(ne=>{ne(c.value,V,{delta:$,type:Dn.pop,direction:$?$>0?gn.forward:gn.back:gn.unknown})})};function w(){g=c.value}function A(S){a.push(S);const P=()=>{const V=a.indexOf(S);V>-1&&a.splice(V,1)};return h.push(P),P}function D(){const{history:S}=window;S.state&&S.replaceState(ft({},S.state,{scroll:mr()}),"")}function b(){for(const S of h)S();h=[],window.removeEventListener("popstate",C),window.removeEventListener("beforeunload",D)}return window.addEventListener("popstate",C),window.addEventListener("beforeunload",D,{passive:!0}),{pauseListeners:w,listen:A,destroy:b}}function Io(n,t,c,f=!1,a=!1){return{back:n,current:t,forward:c,replaced:f,position:window.history.length,scroll:a?mr():null}}function ed(n){const{history:t,location:c}=window,f={value:dl(n,c)},a={value:t.state};a.value||h(f.value,{back:null,current:f.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function h(w,A,D){const b=n.indexOf("#"),S=b>-1?(c.host&&document.querySelector("base")?n:n.slice(b))+w:Qc()+n+w;try{t[D?"replaceState":"pushState"](A,"",S),a.value=A}catch(P){console.error(P),c[D?"replace":"assign"](S)}}function g(w,A){const D=ft({},t.state,Io(a.value.back,w,a.value.forward,!0),A,{position:a.value.position});h(w,D,!0),f.value=w}function C(w,A){const D=ft({},a.value,t.state,{forward:w,scroll:mr()});h(D.current,D,!0);const b=ft({},Io(f.value,w,null),{position:D.position+1},A);h(w,b,!1),f.value=w}return{location:f,state:a,push:C,replace:g}}function td(n){n=Gc(n);const t=ed(n),c=$c(n,t.state,t.location,t.replace);function f(h,g=!0){g||c.pauseListeners(),history.go(h)}const a=ft({location:"",base:n,go:f,createHref:zc.bind(null,n)},t,c);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function sd(n){return typeof n=="string"||n&&typeof n=="object"}function ul(n){return typeof n=="string"||typeof n=="symbol"}const fl=Symbol("");var So;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(So||(So={}));function Hs(n,t){return ft(new Error,{type:n,[fl]:!0},t)}function j0(n,t){return n instanceof Error&&fl in n&&(t==null||!!(n.type&t))}const To="[^/]+?",nd={sensitive:!1,strict:!1,start:!0,end:!0},rd=/[.+*?^${}()[\]/\\]/g;function id(n,t){const c=ft({},nd,t),f=[];let a=c.start?"^":"";const h=[];for(const A of n){const D=A.length?[]:[90];c.strict&&!A.length&&(a+="/");for(let b=0;b<A.length;b++){const S=A[b];let P=40+(c.sensitive?.25:0);if(S.type===0)b||(a+="/"),a+=S.value.replace(rd,"\\$&"),P+=40;else if(S.type===1){const{value:V,repeatable:z,optional:$,regexp:ne}=S;h.push({name:V,repeatable:z,optional:$});const te=ne||To;if(te!==To){P+=10;try{new RegExp(`(${te})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${V}" (${te}): `+O.message)}}let U=z?`((?:${te})(?:/(?:${te}))*)`:`(${te})`;b||(U=$&&A.length<2?`(?:/${U})`:"/"+U),$&&(U+="?"),a+=U,P+=20,$&&(P+=-8),z&&(P+=-20),te===".*"&&(P+=-50)}D.push(P)}f.push(D)}if(c.strict&&c.end){const A=f.length-1;f[A][f[A].length-1]+=.7000000000000001}c.strict||(a+="/?"),c.end?a+="$":c.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const g=new RegExp(a,c.sensitive?"":"i");function C(A){const D=A.match(g),b={};if(!D)return null;for(let S=1;S<D.length;S++){const P=D[S]||"",V=h[S-1];b[V.name]=P&&V.repeatable?P.split("/"):P}return b}function w(A){let D="",b=!1;for(const S of n){(!b||!D.endsWith("/"))&&(D+="/"),b=!1;for(const P of S)if(P.type===0)D+=P.value;else if(P.type===1){const{value:V,repeatable:z,optional:$}=P,ne=V in A?A[V]:"";if(F0(ne)&&!z)throw new Error(`Provided param "${V}" is an array but it is not repeatable (* or + modifiers)`);const te=F0(ne)?ne.join("/"):ne;if(!te)if($)S.length<2&&(D.endsWith("/")?D=D.slice(0,-1):b=!0);else throw new Error(`Missing required param "${V}"`);D+=te}}return D||"/"}return{re:g,score:f,keys:h,parse:C,stringify:w}}function od(n,t){let c=0;for(;c<n.length&&c<t.length;){const f=t[c]-n[c];if(f)return f;c++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function hl(n,t){let c=0;const f=n.score,a=t.score;for(;c<f.length&&c<a.length;){const h=od(f[c],a[c]);if(h)return h;c++}if(Math.abs(a.length-f.length)===1){if(Po(f))return 1;if(Po(a))return-1}return a.length-f.length}function Po(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const xd={type:0,value:""},ld=/[a-zA-Z0-9_]/;function ad(n){if(!n)return[[]];if(n==="/")return[[xd]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(P){throw new Error(`ERR (${c})/"${A}": ${P}`)}let c=0,f=c;const a=[];let h;function g(){h&&a.push(h),h=[]}let C=0,w,A="",D="";function b(){A&&(c===0?h.push({type:0,value:A}):c===1||c===2||c===3?(h.length>1&&(w==="*"||w==="+")&&t(`A repeatable param (${A}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:A,regexp:D,repeatable:w==="*"||w==="+",optional:w==="*"||w==="?"})):t("Invalid state to consume buffer"),A="")}function S(){A+=w}for(;C<n.length;){if(w=n[C++],w==="\\"&&c!==2){f=c,c=4;continue}switch(c){case 0:w==="/"?(A&&b(),g()):w===":"?(b(),c=1):S();break;case 4:S(),c=f;break;case 1:w==="("?c=2:ld.test(w)?S():(b(),c=0,w!=="*"&&w!=="?"&&w!=="+"&&C--);break;case 2:w===")"?D[D.length-1]=="\\"?D=D.slice(0,-1)+w:c=3:D+=w;break;case 3:b(),c=0,w!=="*"&&w!=="?"&&w!=="+"&&C--,D="";break;default:t("Unknown state");break}}return c===2&&t(`Unfinished custom RegExp for param "${A}"`),b(),g(),a}function cd(n,t,c){const f=id(ad(n.path),c),a=ft(f,{record:n,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function dd(n,t){const c=[],f=new Map;t=Mo({strict:!1,end:!0,sensitive:!1},t);function a(b){return f.get(b)}function h(b,S,P){const V=!P,z=No(b);z.aliasOf=P&&P.record;const $=Mo(t,b),ne=[z];if("alias"in b){const O=typeof b.alias=="string"?[b.alias]:b.alias;for(const G of O)ne.push(No(ft({},z,{components:P?P.record.components:z.components,path:G,aliasOf:P?P.record:z})))}let te,U;for(const O of ne){const{path:G}=O;if(S&&G[0]!=="/"){const H=S.record.path,N=H[H.length-1]==="/"?"":"/";O.path=S.record.path+(G&&N+G)}if(te=cd(O,S,$),P?P.alias.push(te):(U=U||te,U!==te&&U.alias.push(te),V&&b.name&&!Oo(te)&&g(b.name)),El(te)&&w(te),z.children){const H=z.children;for(let N=0;N<H.length;N++)h(H[N],te,P&&P.children[N])}P=P||te}return U?()=>{g(U)}:En}function g(b){if(ul(b)){const S=f.get(b);S&&(f.delete(b),c.splice(c.indexOf(S),1),S.children.forEach(g),S.alias.forEach(g))}else{const S=c.indexOf(b);S>-1&&(c.splice(S,1),b.record.name&&f.delete(b.record.name),b.children.forEach(g),b.alias.forEach(g))}}function C(){return c}function w(b){const S=hd(b,c);c.splice(S,0,b),b.record.name&&!Oo(b)&&f.set(b.record.name,b)}function A(b,S){let P,V={},z,$;if("name"in b&&b.name){if(P=f.get(b.name),!P)throw Hs(1,{location:b});$=P.record.name,V=ft(Ro(S.params,P.keys.filter(U=>!U.optional).concat(P.parent?P.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),b.params&&Ro(b.params,P.keys.map(U=>U.name))),z=P.stringify(V)}else if(b.path!=null)z=b.path,P=c.find(U=>U.re.test(z)),P&&(V=P.parse(z),$=P.record.name);else{if(P=S.name?f.get(S.name):c.find(U=>U.re.test(S.path)),!P)throw Hs(1,{location:b,currentLocation:S});$=P.record.name,V=ft({},S.params,b.params),z=P.stringify(V)}const ne=[];let te=P;for(;te;)ne.unshift(te.record),te=te.parent;return{name:$,path:z,params:V,matched:ne,meta:fd(ne)}}n.forEach(b=>h(b));function D(){c.length=0,f.clear()}return{addRoute:h,resolve:A,removeRoute:g,clearRoutes:D,getRoutes:C,getRecordMatcher:a}}function Ro(n,t){const c={};for(const f of t)f in n&&(c[f]=n[f]);return c}function No(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:ud(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ud(n){const t={},c=n.props||!1;if("component"in n)t.default=c;else for(const f in n.components)t[f]=typeof c=="object"?c[f]:c;return t}function Oo(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function fd(n){return n.reduce((t,c)=>ft(t,c.meta),{})}function Mo(n,t){const c={};for(const f in n)c[f]=f in t?t[f]:n[f];return c}function hd(n,t){let c=0,f=t.length;for(;c!==f;){const h=c+f>>1;hl(n,t[h])<0?f=h:c=h+1}const a=Ed(n);return a&&(f=t.lastIndexOf(a,f-1)),f}function Ed(n){let t=n;for(;t=t.parent;)if(El(t)&&hl(n,t)===0)return t}function El({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function gd(n){const t={};if(n===""||n==="?")return t;const f=(n[0]==="?"?n.slice(1):n).split("&");for(let a=0;a<f.length;++a){const h=f[a].replace(ol," "),g=h.indexOf("="),C=wn(g<0?h:h.slice(0,g)),w=g<0?null:wn(h.slice(g+1));if(C in t){let A=t[C];F0(A)||(A=t[C]=[A]),A.push(w)}else t[C]=w}return t}function Lo(n){let t="";for(let c in n){const f=n[c];if(c=Oc(c),f==null){f!==void 0&&(t+=(t.length?"&":"")+c);continue}(F0(f)?f.map(h=>h&&oi(h)):[f&&oi(f)]).forEach(h=>{h!==void 0&&(t+=(t.length?"&":"")+c,h!=null&&(t+="="+h))})}return t}function Cd(n){const t={};for(const c in n){const f=n[c];f!==void 0&&(t[c]=F0(f)?f.map(a=>a==null?null:""+a):f==null?f:""+f)}return t}const md=Symbol(""),Uo=Symbol(""),_i=Symbol(""),gl=Symbol(""),li=Symbol("");function rn(){let n=[];function t(f){return n.push(f),()=>{const a=n.indexOf(f);a>-1&&n.splice(a,1)}}function c(){n=[]}return{add:t,list:()=>n.slice(),reset:c}}function os(n,t,c,f,a,h=g=>g()){const g=f&&(f.enterCallbacks[a]=f.enterCallbacks[a]||[]);return()=>new Promise((C,w)=>{const A=S=>{S===!1?w(Hs(4,{from:c,to:t})):S instanceof Error?w(S):sd(S)?w(Hs(2,{from:t,to:S})):(g&&f.enterCallbacks[a]===g&&typeof S=="function"&&g.push(S),C())},D=h(()=>n.call(f&&f.instances[a],t,c,A));let b=Promise.resolve(D);n.length<3&&(b=b.then(A)),b.catch(S=>w(S))})}function Kr(n,t,c,f,a=h=>h()){const h=[];for(const g of n)for(const C in g.components){let w=g.components[C];if(!(t!=="beforeRouteEnter"&&!g.instances[C]))if(rl(w)){const D=(w.__vccOpts||w)[t];D&&h.push(os(D,c,f,g,C,a))}else{let A=w();h.push(()=>A.then(D=>{if(!D)throw new Error(`Couldn't resolve component "${C}" at "${g.path}"`);const b=Fc(D)?D.default:D;g.mods[C]=D,g.components[C]=b;const P=(b.__vccOpts||b)[t];return P&&os(P,c,f,g,C,a)()}))}}return h}function jo(n){const t=G0(_i),c=G0(gl),f=b0(()=>{const w=Ms(n.to);return t.resolve(w)}),a=b0(()=>{const{matched:w}=f.value,{length:A}=w,D=w[A-1],b=c.matched;if(!D||!b.length)return-1;const S=b.findIndex(Js.bind(null,D));if(S>-1)return S;const P=Vo(w[A-2]);return A>1&&Vo(D)===P&&b[b.length-1].path!==P?b.findIndex(Js.bind(null,w[A-2])):S}),h=b0(()=>a.value>-1&&wd(c.params,f.value.params)),g=b0(()=>a.value>-1&&a.value===c.matched.length-1&&cl(c.params,f.value.params));function C(w={}){if(bd(w)){const A=t[Ms(n.replace)?"replace":"push"](Ms(n.to)).catch(En);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>A),A}return Promise.resolve()}return{route:f,href:b0(()=>f.value.href),isActive:h,isExactActive:g,navigate:C}}function Ad(n){return n.length===1?n[0]:n}const pd=vx({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:jo,setup(n,{slots:t}){const c=ur(jo(n)),{options:f}=G0(_i),a=b0(()=>({[Jo(n.activeClass,f.linkActiveClass,"router-link-active")]:c.isActive,[Jo(n.exactActiveClass,f.linkExactActiveClass,"router-link-exact-active")]:c.isExactActive}));return()=>{const h=t.default&&Ad(t.default(c));return n.custom?h:el("a",{"aria-current":c.isExactActive?n.ariaCurrentValue:null,href:c.href,onClick:c.navigate,class:a.value},h)}}}),Bd=pd;function bd(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function wd(n,t){for(const c in t){const f=t[c],a=n[c];if(typeof f=="string"){if(f!==a)return!1}else if(!F0(a)||a.length!==f.length||f.some((h,g)=>h!==a[g]))return!1}return!0}function Vo(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Jo=(n,t,c)=>n??t??c,Dd=vx({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:c}){const f=G0(li),a=b0(()=>n.route||f.value),h=G0(Uo,0),g=b0(()=>{let A=Ms(h);const{matched:D}=a.value;let b;for(;(b=D[A])&&!b.components;)A++;return A}),C=b0(()=>a.value.matched[g.value]);Hn(Uo,b0(()=>g.value+1)),Hn(md,C),Hn(li,a);const w=va();return Wn(()=>[w.value,C.value,n.name],([A,D,b],[S,P,V])=>{D&&(D.instances[b]=A,P&&P!==D&&A&&A===S&&(D.leaveGuards.size||(D.leaveGuards=P.leaveGuards),D.updateGuards.size||(D.updateGuards=P.updateGuards))),A&&D&&(!P||!Js(D,P)||!S)&&(D.enterCallbacks[b]||[]).forEach(z=>z(A))},{flush:"post"}),()=>{const A=a.value,D=n.name,b=C.value,S=b&&b.components[D];if(!S)return Ho(c.default,{Component:S,route:A});const P=b.props[D],V=P?P===!0?A.params:typeof P=="function"?P(A):P:null,$=el(S,ft({},V,t,{onVnodeUnmounted:ne=>{ne.component.isUnmounted&&(b.instances[D]=null)},ref:w}));return Ho(c.default,{Component:$,route:A})||$}}});function Ho(n,t){if(!n)return null;const c=n(t);return c.length===1?c[0]:c}const Fd=Dd;function yd(n){const t=dd(n.routes,n),c=n.parseQuery||gd,f=n.stringifyQuery||Lo,a=n.history,h=rn(),g=rn(),C=rn(),w=_a(ns);let A=ns;Ps&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const D=zr.bind(null,se=>""+se),b=zr.bind(null,Lc),S=zr.bind(null,wn);function P(se,ge){let me,Ie;return ul(se)?(me=t.getRecordMatcher(se),Ie=ge):Ie=se,t.addRoute(Ie,me)}function V(se){const ge=t.getRecordMatcher(se);ge&&t.removeRoute(ge)}function z(){return t.getRoutes().map(se=>se.record)}function $(se){return!!t.getRecordMatcher(se)}function ne(se,ge){if(ge=ft({},ge||w.value),typeof se=="string"){const J=Yr(c,se,ge.path),ie=t.resolve({path:J.path},ge),ae=a.createHref(J.fullPath);return ft(J,ie,{params:S(ie.params),hash:wn(J.hash),redirectedFrom:void 0,href:ae})}let me;if(se.path!=null)me=ft({},se,{path:Yr(c,se.path,ge.path).path});else{const J=ft({},se.params);for(const ie in J)J[ie]==null&&delete J[ie];me=ft({},se,{params:b(J)}),ge.params=b(ge.params)}const Ie=t.resolve(me,ge),He=se.hash||"";Ie.params=D(S(Ie.params));const R=Vc(f,ft({},se,{hash:Nc(He),path:Ie.path})),T=a.createHref(R);return ft({fullPath:R,hash:He,query:f===Lo?Cd(se.query):se.query||{}},Ie,{redirectedFrom:void 0,href:T})}function te(se){return typeof se=="string"?Yr(c,se,w.value.path):ft({},se)}function U(se,ge){if(A!==se)return Hs(8,{from:ge,to:se})}function O(se){return N(se)}function G(se){return O(ft(te(se),{replace:!0}))}function H(se){const ge=se.matched[se.matched.length-1];if(ge&&ge.redirect){const{redirect:me}=ge;let Ie=typeof me=="function"?me(se):me;return typeof Ie=="string"&&(Ie=Ie.includes("?")||Ie.includes("#")?Ie=te(Ie):{path:Ie},Ie.params={}),ft({query:se.query,hash:se.hash,params:Ie.path!=null?{}:se.params},Ie)}}function N(se,ge){const me=A=ne(se),Ie=w.value,He=se.state,R=se.force,T=se.replace===!0,J=H(me);if(J)return N(ft(te(J),{state:typeof J=="object"?ft({},He,J.state):He,force:R,replace:T}),ge||me);const ie=me;ie.redirectedFrom=ge;let ae;return!R&&Jc(f,Ie,me)&&(ae=Hs(16,{to:ie,from:Ie}),ke(Ie,Ie,!0,!1)),(ae?Promise.resolve(ae):we(ie,Ie)).catch(ee=>j0(ee)?j0(ee,2)?ee:Qe(ee):Se(ee,ie,Ie)).then(ee=>{if(ee){if(j0(ee,2))return N(ft({replace:T},te(ee.to),{state:typeof ee.to=="object"?ft({},He,ee.to.state):He,force:R}),ge||ie)}else ee=ce(ie,Ie,!0,T,He);return Ae(ie,Ie,ee),ee})}function re(se,ge){const me=U(se,ge);return me?Promise.reject(me):Promise.resolve()}function W(se){const ge=Te.values().next().value;return ge&&typeof ge.runWithContext=="function"?ge.runWithContext(se):se()}function we(se,ge){let me;const[Ie,He,R]=vd(se,ge);me=Kr(Ie.reverse(),"beforeRouteLeave",se,ge);for(const J of Ie)J.leaveGuards.forEach(ie=>{me.push(os(ie,se,ge))});const T=re.bind(null,se,ge);return me.push(T),De(me).then(()=>{me=[];for(const J of h.list())me.push(os(J,se,ge));return me.push(T),De(me)}).then(()=>{me=Kr(He,"beforeRouteUpdate",se,ge);for(const J of He)J.updateGuards.forEach(ie=>{me.push(os(ie,se,ge))});return me.push(T),De(me)}).then(()=>{me=[];for(const J of R)if(J.beforeEnter)if(F0(J.beforeEnter))for(const ie of J.beforeEnter)me.push(os(ie,se,ge));else me.push(os(J.beforeEnter,se,ge));return me.push(T),De(me)}).then(()=>(se.matched.forEach(J=>J.enterCallbacks={}),me=Kr(R,"beforeRouteEnter",se,ge,W),me.push(T),De(me))).then(()=>{me=[];for(const J of g.list())me.push(os(J,se,ge));return me.push(T),De(me)}).catch(J=>j0(J,8)?J:Promise.reject(J))}function Ae(se,ge,me){C.list().forEach(Ie=>W(()=>Ie(se,ge,me)))}function ce(se,ge,me,Ie,He){const R=U(se,ge);if(R)return R;const T=ge===ns,J=Ps?history.state:{};me&&(Ie||T?a.replace(se.fullPath,ft({scroll:T&&J&&J.scroll},He)):a.push(se.fullPath,He)),w.value=se,ke(se,ge,me,T),Qe()}let Be;function Fe(){Be||(Be=a.listen((se,ge,me)=>{if(!t0.listening)return;const Ie=ne(se),He=H(Ie);if(He){N(ft(He,{replace:!0,force:!0}),Ie).catch(En);return}A=Ie;const R=w.value;Ps&&Zc(ko(R.fullPath,me.delta),mr()),we(Ie,R).catch(T=>j0(T,12)?T:j0(T,2)?(N(ft(te(T.to),{force:!0}),Ie).then(J=>{j0(J,20)&&!me.delta&&me.type===Dn.pop&&a.go(-1,!1)}).catch(En),Promise.reject()):(me.delta&&a.go(-me.delta,!1),Se(T,Ie,R))).then(T=>{T=T||ce(Ie,R,!1),T&&(me.delta&&!j0(T,8)?a.go(-me.delta,!1):me.type===Dn.pop&&j0(T,20)&&a.go(-1,!1)),Ae(Ie,R,T)}).catch(En)}))}let j=rn(),ye=rn(),xe;function Se(se,ge,me){Qe(se);const Ie=ye.list();return Ie.length?Ie.forEach(He=>He(se,ge,me)):console.error(se),Promise.reject(se)}function Ke(){return xe&&w.value!==ns?Promise.resolve():new Promise((se,ge)=>{j.add([se,ge])})}function Qe(se){return xe||(xe=!se,Fe(),j.list().forEach(([ge,me])=>se?me(se):ge()),j.reset()),se}function ke(se,ge,me,Ie){const{scrollBehavior:He}=n;if(!Ps||!He)return Promise.resolve();const R=!me&&qc(ko(se.fullPath,0))||(Ie||!me)&&history.state&&history.state.scroll||null;return Bi().then(()=>He(se,ge,R)).then(T=>T&&Kc(T)).catch(T=>Se(T,se,ge))}const Le=se=>a.go(se);let ct;const Te=new Set,t0={currentRoute:w,listening:!0,addRoute:P,removeRoute:V,clearRoutes:t.clearRoutes,hasRoute:$,getRoutes:z,resolve:ne,options:n,push:O,replace:G,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:h.add,beforeResolve:g.add,afterEach:C.add,onError:ye.add,isReady:Ke,install(se){const ge=this;se.component("RouterLink",Bd),se.component("RouterView",Fd),se.config.globalProperties.$router=ge,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>Ms(w)}),Ps&&!ct&&w.value===ns&&(ct=!0,O(a.location).catch(He=>{}));const me={};for(const He in ns)Object.defineProperty(me,He,{get:()=>w.value[He],enumerable:!0});se.provide(_i,ge),se.provide(gl,mx(me)),se.provide(li,w);const Ie=se.unmount;Te.add(se),se.unmount=function(){Te.delete(se),Te.size<1&&(A=ns,Be&&Be(),Be=null,w.value=ns,ct=!1,xe=!1),Ie()}}};function De(se){return se.reduce((ge,me)=>ge.then(()=>W(me)),Promise.resolve())}return t0}function vd(n,t){const c=[],f=[],a=[],h=Math.max(t.matched.length,n.matched.length);for(let g=0;g<h;g++){const C=t.matched[g];C&&(n.matched.find(A=>Js(A,C))?f.push(C):c.push(C));const w=n.matched[g];w&&(t.matched.find(A=>Js(A,w))||a.push(w))}return[c,f,a]}const _d=n=>n,Ye=async(n,t={})=>{const c=_d(n),f=localStorage.getItem("token"),a={"Content-Type":"application/json"};let h=c;if(f){const C=c.includes("?")?"&":"?";h=`${c}${C}token=${encodeURIComponent(f)}`}const g={...t,headers:{...a,...t.headers}};return fetch(h,g)},kd={name:"Home",data(){return{loading:!1,form:{username:"",password:""}}},computed:{siteName(){return"Snappy"}},mounted(){document.title=this.siteName;const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));t.entity_type==="client"?this.$router.push("/client-dashboard"):t.entity_type==="service_provider"&&this.$router.push("/service-provider-dashboard")}catch{localStorage.removeItem("token")}},methods:{async signin(){this.loading=!0;try{const n=await Ye("/backend/api/auth.php",{method:"POST",body:JSON.stringify(this.form)}),t=await n.json();if(n.ok){localStorage.setItem("token",t.token);const c=JSON.parse(atob(t.token.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));c.entity_type==="client"?this.$router.push("/client-dashboard"):c.entity_type==="service_provider"&&this.$router.push("/service-provider-dashboard")}else alert(t.error)}catch{alert("Sign in failed")}finally{this.loading=!1}}}},Id={class:"home max-w-2xl mx-auto px-6 py-12 text-center"},Sd={class:"text-4xl font-bold text-gray-900 mb-4"},Td={class:"text-lg text-gray-700 mb-12"},Pd={class:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden"},Rd={class:"px-6 py-4"},Nd={class:"text-right mt-2"},Od=["disabled"],Md={key:0,class:"material-icon-sm animate-spin"},Ld={key:1,class:"material-icon-sm"},Ud={class:"mt-6 text-center"},jd={class:"flex flex-col sm:flex-row justify-center gap-4"};function Vd(n,t,c,f,a,h){const g=O0("router-link");return y(),v("div",Id,[l("h1",Sd,I(h.siteName),1),l("p",Td," Welcome to the "+I(h.siteName)+". Login or register below: ",1),l("div",Pd,[t[9]||(t[9]=l("div",{class:"px-6 py-4 border-b border-gray-200"},[l("h2",{class:"text-xl font-semibold text-gray-900 mb-0 flex items-center justify-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"login"),X(" Sign In ")])],-1)),l("div",Rd,[l("form",{onSubmit:t[2]||(t[2]=Ve((...C)=>h.signin&&h.signin(...C),["prevent"])),class:"space-y-6"},[l("div",null,[t[3]||(t[3]=l("label",{for:"username",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"person"),X(" Username ")],-1)),he(l("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=C=>a.form.username=C),required:"",class:"form-input",placeholder:"Enter your username"},null,512),[[Re,a.form.username]])]),l("div",null,[t[5]||(t[5]=l("label",{for:"password",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"lock"),X(" Password ")],-1)),he(l("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=C=>a.form.password=C),required:"",class:"form-input",placeholder:"Enter your password"},null,512),[[Re,a.form.password]]),l("div",Nd,[vt(g,{to:"/forgot-password",class:"text-sm text-blue-600 hover:text-blue-500 transition-colors"},{default:D0(()=>[...t[4]||(t[4]=[X(" Forgot your password? ",-1)])]),_:1})])]),l("div",null,[l("button",{type:"submit",class:"btn-filled w-full flex items-center justify-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",Md,"refresh")):(y(),v("span",Ld,"login")),X(" "+I(a.loading?"Signing In...":"Sign In"),1)],8,Od)])],32),l("div",Ud,[t[8]||(t[8]=l("p",{class:"text-sm text-gray-600 mb-4"}," Don't have an account? ",-1)),l("div",jd,[vt(g,{to:"/client-registration",class:"bg-blue-600 text-white font-medium px-6 py-2.5 rounded-full shadow-lg hover:bg-blue-700 hover:shadow-xl active:bg-blue-800 active:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 transition-all duration-200 ease-out"},{default:D0(()=>[...t[6]||(t[6]=[X(" Register as Client ",-1)])]),_:1}),vt(g,{to:"/service-provider-registration",class:"bg-transparent text-blue-600 border-2 border-blue-600 font-medium px-6 py-2.5 rounded-full hover:bg-blue-50 hover:shadow-lg active:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 transition-all duration-200 ease-out"},{default:D0(()=>[...t[7]||(t[7]=[X(" Register as Service Provider ",-1)])]),_:1})])])])])])}const Jd=u0(kd,[["render",Vd]]),Hd={name:"ClientRegistration",data(){return{loading:!1,form:{clientName:"",address:"",username:"",email:"",password:""}}},methods:{async register(){this.loading=!0;try{const n=await fetch("/backend/api/register-client.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await n.json();n.ok?(alert("Registration successful! Please check your email to verify your account before signing in."),this.$router.push("/")):alert(t.error)}catch{alert("Registration failed. Please try again.")}finally{this.loading=!1}}}},Wd={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},Gd={class:"max-w-md w-full space-y-8"},Xd={class:"card"},zd=["disabled"],Yd={key:0,class:"material-icon-sm animate-spin"},Kd={key:1,class:"material-icon-sm"},Zd={class:"mt-6 text-center"},qd={class:"text-sm text-gray-600"};function Qd(n,t,c,f,a,h){const g=O0("router-link");return y(),v("div",Wd,[l("div",Gd,[t[13]||(t[13]=Xs('<div class="text-center"><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100"><span class="material-icon text-blue-600">business</span></div><h2 class="mt-6 text-3xl font-bold text-gray-900">Create your account</h2><p class="mt-2 text-sm text-gray-600"> Join our platform to manage your maintenance requests </p></div>',1)),l("div",Xd,[l("form",{onSubmit:t[5]||(t[5]=Ve((...C)=>h.register&&h.register(...C),["prevent"])),class:"space-y-6"},[l("div",null,[t[6]||(t[6]=l("label",{for:"clientName",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"business"),X(" Company Name ")],-1)),he(l("input",{type:"text",id:"clientName","onUpdate:modelValue":t[0]||(t[0]=C=>a.form.clientName=C),required:"",class:"form-input",placeholder:"Enter your company name"},null,512),[[Re,a.form.clientName]])]),l("div",null,[t[7]||(t[7]=l("label",{for:"address",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"location_on"),X(" Address ")],-1)),he(l("textarea",{id:"address","onUpdate:modelValue":t[1]||(t[1]=C=>a.form.address=C),required:"",rows:"3",class:"form-input resize-none",placeholder:"Enter your company address"},null,512),[[Re,a.form.address]])]),l("div",null,[t[8]||(t[8]=l("label",{for:"username",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"person"),X(" Username ")],-1)),he(l("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=C=>a.form.username=C),required:"",class:"form-input",placeholder:"Choose a username"},null,512),[[Re,a.form.username]])]),l("div",null,[t[9]||(t[9]=l("label",{for:"email",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"email"),X(" Email Address ")],-1)),he(l("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=C=>a.form.email=C),required:"",class:"form-input",placeholder:"Enter your email address"},null,512),[[Re,a.form.email]])]),l("div",null,[t[10]||(t[10]=l("label",{for:"password",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"lock"),X(" Password ")],-1)),he(l("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=C=>a.form.password=C),required:"",class:"form-input",placeholder:"Create a secure password"},null,512),[[Re,a.form.password]])]),l("div",null,[l("button",{type:"submit",class:"btn-filled w-full flex items-center justify-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",Yd,"refresh")):(y(),v("span",Kd,"person_add")),X(" "+I(a.loading?"Creating Account...":"Create Account"),1)],8,zd)])],32),l("div",Zd,[l("p",qd,[t[12]||(t[12]=X(" Already have an account? ",-1)),vt(g,{to:"/",class:"font-medium text-blue-600 hover:text-blue-500 transition-colors"},{default:D0(()=>[...t[11]||(t[11]=[X(" Sign in here ",-1)])]),_:1})])])])])])}const $d=u0(Hd,[["render",Qd]]),eu={name:"ImageUpload",props:{maxImages:{type:Number,default:10},maxFileSize:{type:Number,default:10*1024*1024}},data(){return{images:[],showCamera:!1,cameraStream:null,cameraSupported:!1,uploading:!1,uploadProgress:0,error:null}},mounted(){this.checkCameraSupport()},beforeUnmount(){this.stopCamera()},methods:{checkCameraSupport(){const n=!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),t=location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1";this.cameraSupported=n&&t,console.log(n?t?"Camera potentially supported - will request permission when used":"Camera not supported: Not in secure context (HTTPS required)":"Camera not supported: MediaDevices API not available")},triggerFileInput(){this.$refs.fileInput.click()},handleFileSelection(n){const t=Array.from(n.target.files);this.addImages(t),n.target.value=""},addImages(n){const t=[],c=[];if(n.forEach(f=>{if(!f.type.startsWith("image/")){c.push(`${f.name} is not an image file`);return}if(f.size>this.maxFileSize){c.push(`${f.name} is too large (max ${this.formatFileSize(this.maxFileSize)})`);return}t.push(f)}),this.images.length+t.length>this.maxImages){c.push(`Cannot add ${t.length} images. Maximum ${this.maxImages} images allowed.`);return}if(c.length>0){this.error=c.join(". ");return}this.error=null,t.forEach(f=>{const a=new FileReader;a.onload=h=>{this.images.push({file:f,name:f.name,size:f.size,type:f.type,preview:h.target.result})},a.readAsDataURL(f)}),this.$emit("images-changed",this.images)},removeImage(n){this.images.splice(n,1),this.$emit("images-changed",this.images)},async openCamera(){try{this.error=null;let n={video:{facingMode:"environment"}};try{this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}catch(c){console.log("Back camera not available, trying any camera:",c.message),n={video:!0},this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}this.showCamera=!0,await this.$nextTick();const t=this.$refs.cameraVideo;if(t)t.srcObject=this.cameraStream,console.log("Camera opened successfully");else throw new Error("Video element not found")}catch(n){console.error("Error accessing camera:",n);let t="Unable to access camera.";n.name==="NotAllowedError"?t+=" Camera permission was denied. Please allow camera access and try again.":n.name==="NotFoundError"?t+=" No camera found on this device.":n.name==="NotReadableError"?t+=" Camera is already in use by another application.":n.name==="OverconstrainedError"?t+=" Camera constraints cannot be satisfied.":t+=` ${n.message}`,this.error=t}},closeCamera(){this.stopCamera(),this.showCamera=!1},stopCamera(){this.cameraStream&&(this.cameraStream.getTracks().forEach(n=>n.stop()),this.cameraStream=null)},capturePhoto(){if(!this.cameraStream)return;const n=this.$refs.cameraVideo,t=this.$refs.cameraCanvas,c=t.getContext("2d");t.width=n.videoWidth,t.height=n.videoHeight,c.drawImage(n,0,0,t.width,t.height),t.toBlob(f=>{const a=new File([f],`photo_${Date.now()}.jpg`,{type:"image/jpeg"});this.addImages([a]),this.closeCamera()},"image/jpeg",.8)},async uploadImages(n=null){const t=n;if(console.log("ImageUpload: uploadImages called with jobId:",t,"images:",this.images.length),!t||this.images.length===0){console.log("ImageUpload: Skipping upload - jobId or images missing");return}this.uploading=!0,this.uploadProgress=0,this.error=null;const c=localStorage.getItem("token");console.log("ImageUpload: Using token:",c?"present":"missing");let f=0;for(let a=0;a<this.images.length;a++){const h=this.images[a],g=new FormData;g.append("image",h.file),g.append("job_id",t.toString()),console.log("ImageUpload: Uploading image",a+1,"of",this.images.length,"for job",t);try{const C=`/backend/api/upload-job-image.php?token=${encodeURIComponent(c)}`;console.log("ImageUpload: Making request to:",C);const w=await fetch(C,{method:"POST",body:g});if(console.log("ImageUpload: Response status:",w.status,w.ok),w.ok){const A=await w.json();console.log("ImageUpload: Upload successful:",A),f++}else{const A=await w.json();throw console.error("ImageUpload: Upload failed with response:",A),new Error(A.error||"Upload failed")}}catch(C){console.error("ImageUpload: Upload error:",C),this.error=`Failed to upload ${h.name}: ${C.message}`;break}this.uploadProgress=Math.round((a+1)/this.images.length*100)}this.uploading=!1,console.log("ImageUpload: Upload process complete. Success count:",f,"of",this.images.length),f===this.images.length?(console.log("ImageUpload: All uploads successful, clearing images"),this.images=[],this.$emit("upload-complete",f)):console.log("ImageUpload: Some uploads failed")},formatFileSize(n){if(n===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,f)).toFixed(2))+" "+c[f]}}},tu={class:"image-upload border border-gray-300 rounded-xl p-6 bg-gray-50"},su={class:"upload-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6"},nu={class:"upload-actions flex gap-3"},ru={key:0,class:"modal-overlay"},iu={class:"modal-content max-w-md"},ou={class:"modal-header"},xu={class:"modal-body p-6"},lu={ref:"cameraVideo",autoplay:"",playsinline:"",class:"camera-video w-full rounded-lg bg-black"},au={ref:"cameraCanvas",class:"hidden"},cu={class:"modal-footer"},du=["disabled"],uu={key:1,class:"image-preview-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-6"},fu={class:"image-container relative h-32 overflow-hidden"},hu=["src","alt"],Eu={class:"image-overlay absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center opacity-0 hover:opacity-100"},gu=["onClick"],Cu={class:"image-info p-3"},mu={class:"image-name block text-sm font-medium text-gray-900 truncate"},Au={class:"image-size block text-xs text-gray-600"},pu={key:2,class:"upload-progress mb-4"},Bu={class:"progress-bar w-full h-2 bg-gray-200 rounded-full overflow-hidden mb-2"},bu={class:"text-base text-gray-900"},wu={key:3,class:"error-message bg-red-50 border border-red-200 rounded-lg p-4 text-red-700"};function Du(n,t,c,f,a,h){return y(),v("div",tu,[l("div",su,[t[9]||(t[9]=l("h4",{class:"text-lg font-semibold text-gray-900 mb-0"},"Attach Images",-1)),l("div",nu,[l("button",{type:"button",onClick:t[0]||(t[0]=Ve((...g)=>h.triggerFileInput&&h.triggerFileInput(...g),["stop"])),class:"btn-outlined btn-small"},[...t[7]||(t[7]=[l("span",{class:"material-icon-sm mr-2"},"upload_file",-1),X(" Choose Files ",-1)])]),l("button",{type:"button",onClick:t[1]||(t[1]=Ve((...g)=>h.openCamera&&h.openCamera(...g),["stop"])),class:"btn-filled btn-small"},[...t[8]||(t[8]=[l("span",{class:"material-icon-sm mr-2"},"photo_camera",-1),X(" Take Photo ",-1)])])])]),l("input",{ref:"fileInput",type:"file",accept:"image/*",multiple:"",onChange:t[2]||(t[2]=(...g)=>h.handleFileSelection&&h.handleFileSelection(...g)),class:"hidden"},null,544),l("input",{ref:"cameraInput",type:"file",accept:"image/*",capture:"environment",onChange:t[3]||(t[3]=(...g)=>h.handleFileSelection&&h.handleFileSelection(...g)),class:"hidden"},null,544),a.showCamera?(y(),v("div",ru,[l("div",iu,[l("div",ou,[t[10]||(t[10]=l("h3",{class:"text-xl font-semibold text-gray-900 mb-0"},"Take Photo",-1)),l("button",{type:"button",onClick:t[4]||(t[4]=(...g)=>h.closeCamera&&h.closeCamera(...g)),class:"text-gray-500 hover:text-gray-700 text-2xl"},"")]),l("div",xu,[l("video",lu,null,512),l("canvas",au,null,512)]),l("div",cu,[l("button",{type:"button",onClick:t[5]||(t[5]=(...g)=>h.closeCamera&&h.closeCamera(...g)),class:"btn-outlined"},"Cancel"),l("button",{type:"button",onClick:t[6]||(t[6]=(...g)=>h.capturePhoto&&h.capturePhoto(...g)),class:"btn-filled",disabled:!a.cameraStream},[...t[11]||(t[11]=[l("span",{class:"material-icon-sm mr-2"},"camera",-1),X(" Capture ",-1)])],8,du)])])])):le("",!0),a.images.length>0?(y(),v("div",uu,[(y(!0),v(Me,null,ze(a.images,(g,C)=>(y(),v("div",{key:C,class:"image-preview-item border border-gray-200 rounded-lg overflow-hidden bg-white"},[l("div",fu,[l("img",{src:g.preview,alt:g.name,class:"preview-image w-full h-full object-cover"},null,8,hu),l("div",Eu,[l("button",{onClick:w=>h.removeImage(C),class:"remove-image-btn bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center hover:bg-red-700 transition-colors",title:"Remove image"},[...t[12]||(t[12]=[l("span",{class:"material-icon-sm"},"delete",-1)])],8,gu)])]),l("div",Cu,[l("span",mu,I(g.name),1),l("span",Au,I(h.formatFileSize(g.size)),1)])]))),128))])):le("",!0),a.uploading?(y(),v("div",pu,[l("div",Bu,[l("div",{class:"progress-fill h-full bg-blue-600 transition-all duration-300 ease-out",style:Gs({width:a.uploadProgress+"%"})},null,4)]),l("p",bu,"Uploading images... "+I(a.uploadProgress)+"%",1)])):le("",!0),a.error?(y(),v("div",wu,[t[13]||(t[13]=l("span",{class:"material-icon-sm mr-2"},"error",-1)),X(" "+I(a.error),1)])):le("",!0)])}const Fu=u0(eu,[["render",Du]]);var Mt;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Mt||(Mt={}));Mt.QR_CODE,Mt.AZTEC,Mt.CODABAR,Mt.CODE_39,Mt.CODE_93,Mt.CODE_128,Mt.DATA_MATRIX,Mt.MAXICODE,Mt.ITF,Mt.EAN_13,Mt.EAN_8,Mt.PDF_417,Mt.RSS_14,Mt.RSS_EXPANDED,Mt.UPC_A,Mt.UPC_E,Mt.UPC_EAN_EXTENSION;var Wo;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(Wo||(Wo={}));var or;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(or||(or={}));var yu=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[or.SCAN_TYPE_CAMERA,or.SCAN_TYPE_FILE],n})(),Go;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Go||(Go={}));var Vn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xn={exports:{}},_u=xn.exports,Xo;function ku(){return Xo||(Xo=1,(function(n,t){(function(c,f){f(t)})(_u,(function(c){function f(p){return p==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,e){p.__proto__=e}||function(p,e){for(var s in e)e.hasOwnProperty(s)&&(p[s]=e[s])};function h(p,e){a(p,e);function s(){this.constructor=p}p.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}function g(p,e){var s=Object.setPrototypeOf;s?s(p,e):p.__proto__=e}function C(p,e){e===void 0&&(e=p.constructor);var s=Error.captureStackTrace;s&&s(p,e)}var w=(function(p){h(e,p);function e(s){var r=this.constructor,i=p.call(this,s)||this;return Object.defineProperty(i,"name",{value:r.name,enumerable:!1}),g(i,r.prototype),C(i),i}return e})(Error);class A extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}A.kind="Exception";class D extends A{}D.kind="ArgumentException";class b extends A{}b.kind="IllegalArgumentException";class S{constructor(e){if(this.binarizer=e,e===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,s){return this.binarizer.getBlackRow(e,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,s,r,i){const o=this.binarizer.getLuminanceSource().crop(e,s,r,i);return new S(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class P extends A{static getChecksumInstance(){return new P}}P.kind="ChecksumException";class V{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class z{static arraycopy(e,s,r,i,o){for(;o--;)r[i++]=e[s++]}static currentTimeMillis(){return Date.now()}}class $ extends A{}$.kind="IndexOutOfBoundsException";class ne extends ${constructor(e=void 0,s=void 0){super(s),this.index=e,this.message=s}}ne.kind="ArrayIndexOutOfBoundsException";class te{static fill(e,s){for(let r=0,i=e.length;r<i;r++)e[r]=s}static fillWithin(e,s,r,i){te.rangeCheck(e.length,s,r);for(let o=s;o<r;o++)e[o]=i}static rangeCheck(e,s,r){if(s>r)throw new b("fromIndex("+s+") > toIndex("+r+")");if(s<0)throw new ne(s);if(r>e)throw new ne(r)}static asList(...e){return e}static create(e,s,r){return Array.from({length:e}).map(o=>Array.from({length:s}).fill(r))}static createInt32Array(e,s,r){return Array.from({length:e}).map(o=>Int32Array.from({length:s}).fill(r))}static equals(e,s){if(!e||!s||!e.length||!s.length||e.length!==s.length)return!1;for(let r=0,i=e.length;r<i;r++)if(e[r]!==s[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let s=1;for(const r of e)s=31*s+r;return s}static fillUint8Array(e,s){for(let r=0;r!==e.length;r++)e[r]=s}static copyOf(e,s){return e.slice(0,s)}static copyOfUint8Array(e,s){if(e.length<=s){const r=new Uint8Array(s);return r.set(e),r}return e.slice(0,s)}static copyOfRange(e,s,r){const i=r-s,o=new Int32Array(i);return z.arraycopy(e,s,o,0,i),o}static binarySearch(e,s,r){r===void 0&&(r=te.numberComparator);let i=0,o=e.length-1;for(;i<=o;){const x=o+i>>1,d=r(s,e[x]);if(d>0)i=x+1;else if(d<0)o=x-1;else return x}return-i-1}static numberComparator(e,s){return e-s}}class U{static numberOfTrailingZeros(e){let s;if(e===0)return 32;let r=31;return s=e<<16,s!==0&&(r-=16,e=s),s=e<<8,s!==0&&(r-=8,e=s),s=e<<4,s!==0&&(r-=4,e=s),s=e<<2,s!==0&&(r-=2,e=s),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let s=1;return e>>>16||(s+=16,e<<=16),e>>>24||(s+=8,e<<=8),e>>>28||(s+=4,e<<=4),e>>>30||(s+=2,e<<=2),s-=e>>>31,s}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,s){return Math.trunc(e/s)}static parseInt(e,s=void 0){return parseInt(e,s)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class O{constructor(e,s){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,s==null?this.bits=O.makeArray(e):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const s=O.makeArray(e);z.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const s=this.size;if(e>=s)return s;const r=this.bits;let i=Math.floor(e/32),o=r[i];o&=~((1<<(e&31))-1);const x=r.length;for(;o===0;){if(++i===x)return s;o=r[i]}const d=i*32+U.numberOfTrailingZeros(o);return d>s?s:d}getNextUnset(e){const s=this.size;if(e>=s)return s;const r=this.bits;let i=Math.floor(e/32),o=~r[i];o&=~((1<<(e&31))-1);const x=r.length;for(;o===0;){if(++i===x)return s;o=~r[i]}const d=i*32+U.numberOfTrailingZeros(o);return d>s?s:d}setBulk(e,s){this.bits[Math.floor(e/32)]=s}setRange(e,s){if(s<e||e<0||s>this.size)throw new b;if(s===e)return;s--;const r=Math.floor(e/32),i=Math.floor(s/32),o=this.bits;for(let x=r;x<=i;x++){const d=x>r?0:e&31,E=(2<<(x<i?31:s&31))-(1<<d);o[x]|=E}}clear(){const e=this.bits.length,s=this.bits;for(let r=0;r<e;r++)s[r]=0}isRange(e,s,r){if(s<e||e<0||s>this.size)throw new b;if(s===e)return!0;s--;const i=Math.floor(e/32),o=Math.floor(s/32),x=this.bits;for(let d=i;d<=o;d++){const u=d>i?0:e&31,m=(2<<(d<o?31:s&31))-(1<<u)&4294967295;if((x[d]&m)!==(r?m:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,s){if(s<0||s>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let r=s;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const s=e.size;this.ensureCapacity(this.size+s);for(let r=0;r<s;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new b("Sizes don't match");const s=this.bits;for(let r=0,i=s.length;r<i;r++)s[r]^=e.bits[r]}toBytes(e,s,r,i){for(let o=0;o<i;o++){let x=0;for(let d=0;d<8;d++)this.get(e)&&(x|=1<<7-d),e++;s[r+o]=x}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),r=s+1,i=this.bits;for(let o=0;o<r;o++){let x=i[o];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,e[s-o]=x}if(this.size!==r*32){const o=r*32-this.size;let x=e[0]>>>o;for(let d=1;d<r;d++){const u=e[d];x|=u<<32-o,e[d-1]=x,x=u>>>o}e[r-1]=x}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof O))return!1;const s=e;return this.size===s.size&&te.equals(this.bits,s.bits)}hashCode(){return 31*this.size+te.hashCode(this.bits)}toString(){let e="";for(let s=0,r=this.size;s<r;s++)(s&7)===0&&(e+=" "),e+=this.get(s)?"X":".";return e}clone(){return new O(this.size,this.bits.slice())}}var G;(function(p){p[p.OTHER=0]="OTHER",p[p.PURE_BARCODE=1]="PURE_BARCODE",p[p.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",p[p.TRY_HARDER=3]="TRY_HARDER",p[p.CHARACTER_SET=4]="CHARACTER_SET",p[p.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",p[p.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",p[p.ASSUME_GS1=7]="ASSUME_GS1",p[p.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",p[p.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",p[p.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(G||(G={}));var H=G;class N extends A{static getFormatInstance(){return new N}}N.kind="FormatException";var re;(function(p){p[p.Cp437=0]="Cp437",p[p.ISO8859_1=1]="ISO8859_1",p[p.ISO8859_2=2]="ISO8859_2",p[p.ISO8859_3=3]="ISO8859_3",p[p.ISO8859_4=4]="ISO8859_4",p[p.ISO8859_5=5]="ISO8859_5",p[p.ISO8859_6=6]="ISO8859_6",p[p.ISO8859_7=7]="ISO8859_7",p[p.ISO8859_8=8]="ISO8859_8",p[p.ISO8859_9=9]="ISO8859_9",p[p.ISO8859_10=10]="ISO8859_10",p[p.ISO8859_11=11]="ISO8859_11",p[p.ISO8859_13=12]="ISO8859_13",p[p.ISO8859_14=13]="ISO8859_14",p[p.ISO8859_15=14]="ISO8859_15",p[p.ISO8859_16=15]="ISO8859_16",p[p.SJIS=16]="SJIS",p[p.Cp1250=17]="Cp1250",p[p.Cp1251=18]="Cp1251",p[p.Cp1252=19]="Cp1252",p[p.Cp1256=20]="Cp1256",p[p.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",p[p.UTF8=22]="UTF8",p[p.ASCII=23]="ASCII",p[p.Big5=24]="Big5",p[p.GB18030=25]="GB18030",p[p.EUC_KR=26]="EUC_KR"})(re||(re={}));class W{constructor(e,s,r,...i){this.valueIdentifier=e,this.name=r,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=i,W.VALUE_IDENTIFIER_TO_ECI.set(e,this),W.NAME_TO_ECI.set(r,this);const o=this.values;for(let x=0,d=o.length;x!==d;x++){const u=o[x];W.VALUES_TO_ECI.set(u,this)}for(const x of i)W.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new N("incorect value");const s=W.VALUES_TO_ECI.get(e);if(s===void 0)throw new N("incorect value");return s}static getCharacterSetECIByName(e){const s=W.NAME_TO_ECI.get(e);if(s===void 0)throw new N("incorect value");return s}equals(e){if(!(e instanceof W))return!1;const s=e;return this.getName()===s.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(re.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(re.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(re.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(re.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(re.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(re.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(re.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(re.Big5,28,"Big5"),W.GB18030=new W(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(re.EUC_KR,30,"EUC_KR","EUC-KR");class we extends A{}we.kind="UnsupportedOperationException";class Ae{static decode(e,s){const r=this.encodingName(s);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!Ae.isBrowser()&&e==="ISO-8859-1"}static encode(e,s){const r=this.encodingName(s);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof W?e:W.getCharacterSetECIByName(e)}static decodeFallback(e,s){const r=this.encodingCharacterSet(s);if(Ae.isDecodeFallbackSupported(r)){let i="";for(let o=0,x=e.length;o<x;o++){let d=e[o].toString(16);d.length<2&&(d="0"+d),i+="%"+d}return decodeURIComponent(i)}if(r.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new we(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(W.UTF8)||e.equals(W.ISO8859_1)||e.equals(W.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),i=[];for(let o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)}}class ce{static castAsNonUtf8Char(e,s=null){const r=s?s.getName():this.ISO88591;return Ae.decode(new Uint8Array([e]),r)}static guessEncoding(e,s){if(s!=null&&s.get(H.CHARACTER_SET)!==void 0)return s.get(H.CHARACTER_SET).toString();const r=e.length;let i=!0,o=!0,x=!0,d=0,u=0,E=0,m=0,B=0,F=0,k=0,M=0,L=0,K=0,Q=0;const Ee=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ce=0;Ce<r&&(i||o||x);Ce++){const fe=e[Ce]&255;x&&(d>0?(fe&128)===0?x=!1:d--:(fe&128)!==0&&((fe&64)===0?x=!1:(d++,(fe&32)===0?u++:(d++,(fe&16)===0?E++:(d++,(fe&8)===0?m++:x=!1))))),i&&(fe>127&&fe<160?i=!1:fe>159&&(fe<192||fe===215||fe===247)&&Q++),o&&(B>0?fe<64||fe===127||fe>252?o=!1:B--:fe===128||fe===160||fe>239?o=!1:fe>160&&fe<224?(F++,M=0,k++,k>L&&(L=k)):fe>127?(B++,k=0,M++,M>K&&(K=M)):(k=0,M=0))}return x&&d>0&&(x=!1),o&&B>0&&(o=!1),x&&(Ee||u+E+m>0)?ce.UTF8:o&&(ce.ASSUME_SHIFT_JIS||L>=3||K>=3)?ce.SHIFT_JIS:i&&o?L===2&&F===2||Q*10>=r?ce.SHIFT_JIS:ce.ISO88591:i?ce.ISO88591:o?ce.SHIFT_JIS:x?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(e,...s){let r=-1;function i(x,d,u,E,m,B){if(x==="%%")return"%";if(s[++r]===void 0)return;x=E?parseInt(E.substr(1)):void 0;let F=m?parseInt(m.substr(1)):void 0,k;switch(B){case"s":k=s[r];break;case"c":k=s[r][0];break;case"f":k=parseFloat(s[r]).toFixed(x);break;case"p":k=parseFloat(s[r]).toPrecision(x);break;case"e":k=parseFloat(s[r]).toExponential(x);break;case"x":k=parseInt(s[r]).toString(F||16);break;case"d":k=parseFloat(parseInt(s[r],F||10).toPrecision(x)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(F);let M=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;k.length<M;)k=d!==void 0?k+L:L+k;return k}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)}static getBytes(e,s){return Ae.encode(e,s)}static getCharCode(e,s=0){return e.charCodeAt(s)}static getCharAt(e){return String.fromCharCode(e)}}ce.SHIFT_JIS=W.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=W.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=W.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class Be{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,s,r){for(let i=s;s<s+r;i++)this.append(e[i]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,s){this.value=this.value.substr(0,e)+s+this.value.substr(e+1)}substring(e,s){return this.value.substring(e,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,s){this.value=this.value.substr(0,e)+s+this.value.substr(e+s.length)}}class Fe{constructor(e,s,r,i){if(this.width=e,this.height=s,this.rowSize=r,this.bits=i,s==null&&(s=e),this.height=s,e<1||s<1)throw new b("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const s=e.length,r=e[0].length,i=new Fe(r,s);for(let o=0;o<s;o++){const x=e[o];for(let d=0;d<r;d++)x[d]&&i.set(d,o)}return i}static parseFromString(e,s,r){if(e===null)throw new b("stringRepresentation cannot be null");const i=new Array(e.length);let o=0,x=0,d=-1,u=0,E=0;for(;E<e.length;)if(e.charAt(E)===`
`||e.charAt(E)==="\r"){if(o>x){if(d===-1)d=o-x;else if(o-x!==d)throw new b("row lengths do not match");x=o,u++}E++}else if(e.substring(E,E+s.length)===s)E+=s.length,i[o]=!0,o++;else if(e.substring(E,E+r.length)===r)E+=r.length,i[o]=!1,o++;else throw new b("illegal character encountered: "+e.substring(E));if(o>x){if(d===-1)d=o-x;else if(o-x!==d)throw new b("row lengths do not match");u++}const m=new Fe(d,u);for(let B=0;B<o;B++)i[B]&&m.set(Math.floor(B%d),Math.floor(B/d));return m}get(e,s){const r=s*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,s){const r=s*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,s){const r=s*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,s){const r=s*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new b("input matrix dimensions do not match");const s=new O(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits;for(let o=0,x=this.height;o<x;o++){const d=o*r,u=e.getRow(o,s).getBitArray();for(let E=0;E<r;E++)i[d+E]^=u[E]}}clear(){const e=this.bits,s=e.length;for(let r=0;r<s;r++)e[r]=0}setRegion(e,s,r,i){if(s<0||e<0)throw new b("Left and top must be nonnegative");if(i<1||r<1)throw new b("Height and width must be at least 1");const o=e+r,x=s+i;if(x>this.height||o>this.width)throw new b("The region must fit inside the matrix");const d=this.rowSize,u=this.bits;for(let E=s;E<x;E++){const m=E*d;for(let B=e;B<o;B++)u[m+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(e,s){s==null||s.getSize()<this.width?s=new O(this.width):s.clear();const r=this.rowSize,i=this.bits,o=e*r;for(let x=0;x<r;x++)s.setBulk(x*32,i[o+x]);return s}setRow(e,s){z.arraycopy(s.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),s=this.getHeight();let r=new O(e),i=new O(e);for(let o=0,x=Math.floor((s+1)/2);o<x;o++)r=this.getRow(o,r),i=this.getRow(s-1-o,i),r.reverse(),i.reverse(),this.setRow(o,i),this.setRow(s-1-o,r)}getEnclosingRectangle(){const e=this.width,s=this.height,r=this.rowSize,i=this.bits;let o=e,x=s,d=-1,u=-1;for(let E=0;E<s;E++)for(let m=0;m<r;m++){const B=i[E*r+m];if(B!==0){if(E<x&&(x=E),E>u&&(u=E),m*32<o){let F=0;for(;(B<<31-F&4294967295)===0;)F++;m*32+F<o&&(o=m*32+F)}if(m*32+31>d){let F=31;for(;!(B>>>F);)F--;m*32+F>d&&(d=m*32+F)}}}return d<o||u<x?null:Int32Array.from([o,x,d-o+1,u-x+1])}getTopLeftOnBit(){const e=this.rowSize,s=this.bits;let r=0;for(;r<s.length&&s[r]===0;)r++;if(r===s.length)return null;const i=r/e;let o=r%e*32;const x=s[r];let d=0;for(;(x<<31-d&4294967295)===0;)d++;return o+=d,Int32Array.from([o,i])}getBottomRightOnBit(){const e=this.rowSize,s=this.bits;let r=s.length-1;for(;r>=0&&s[r]===0;)r--;if(r<0)return null;const i=Math.floor(r/e);let o=Math.floor(r%e)*32;const x=s[r];let d=31;for(;!(x>>>d);)d--;return o+=d,Int32Array.from([o,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Fe))return!1;const s=e;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&te.equals(this.bits,s.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+te.hashCode(this.bits),e}toString(e="X ",s="  ",r=`
`){return this.buildToString(e,s,r)}buildToString(e,s,r){let i=new Be;for(let o=0,x=this.height;o<x;o++){for(let d=0,u=this.width;d<u;d++)i.append(this.get(d,o)?e:s);i.append(r)}return i.toString()}clone(){return new Fe(this.width,this.height,this.rowSize,this.bits.slice())}}class j extends A{static getNotFoundInstance(){return new j}}j.kind="NotFoundException";class ye extends V{constructor(e){super(e),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(e,s){const r=this.getLuminanceSource(),i=r.getWidth();s==null||s.getSize()<i?s=new O(i):s.clear(),this.initArrays(i);const o=r.getRow(e,this.luminances),x=this.buckets;for(let u=0;u<i;u++)x[(o[u]&255)>>ye.LUMINANCE_SHIFT]++;const d=ye.estimateBlackPoint(x);if(i<3)for(let u=0;u<i;u++)(o[u]&255)<d&&s.set(u);else{let u=o[0]&255,E=o[1]&255;for(let m=1;m<i-1;m++){const B=o[m+1]&255;(E*4-u-B)/2<d&&s.set(m),u=E,E=B}}return s}getBlackMatrix(){const e=this.getLuminanceSource(),s=e.getWidth(),r=e.getHeight(),i=new Fe(s,r);this.initArrays(s);const o=this.buckets;for(let u=1;u<5;u++){const E=Math.floor(r*u/5),m=e.getRow(E,this.luminances),B=Math.floor(s*4/5);for(let F=Math.floor(s/5);F<B;F++){const k=m[F]&255;o[k>>ye.LUMINANCE_SHIFT]++}}const x=ye.estimateBlackPoint(o),d=e.getMatrix();for(let u=0;u<r;u++){const E=u*s;for(let m=0;m<s;m++)(d[E+m]&255)<x&&i.set(m,u)}return i}createBinarizer(e){return new ye(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const s=this.buckets;for(let r=0;r<ye.LUMINANCE_BUCKETS;r++)s[r]=0}static estimateBlackPoint(e){const s=e.length;let r=0,i=0,o=0;for(let m=0;m<s;m++)e[m]>o&&(i=m,o=e[m]),e[m]>r&&(r=e[m]);let x=0,d=0;for(let m=0;m<s;m++){const B=m-i,F=e[m]*B*B;F>d&&(x=m,d=F)}if(i>x){const m=i;i=x,x=m}if(x-i<=s/16)throw new j;let u=x-1,E=-1;for(let m=x-1;m>i;m--){const B=m-i,F=B*B*(x-m)*(r-e[m]);F>E&&(u=m,E=F)}return u<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class xe extends ye{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),s=e.getWidth(),r=e.getHeight();if(s>=xe.MINIMUM_DIMENSION&&r>=xe.MINIMUM_DIMENSION){const i=e.getMatrix();let o=s>>xe.BLOCK_SIZE_POWER;(s&xe.BLOCK_SIZE_MASK)!==0&&o++;let x=r>>xe.BLOCK_SIZE_POWER;(r&xe.BLOCK_SIZE_MASK)!==0&&x++;const d=xe.calculateBlackPoints(i,o,x,s,r),u=new Fe(s,r);xe.calculateThresholdForBlock(i,o,x,s,r,d,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new xe(e)}static calculateThresholdForBlock(e,s,r,i,o,x,d){const u=o-xe.BLOCK_SIZE,E=i-xe.BLOCK_SIZE;for(let m=0;m<r;m++){let B=m<<xe.BLOCK_SIZE_POWER;B>u&&(B=u);const F=xe.cap(m,2,r-3);for(let k=0;k<s;k++){let M=k<<xe.BLOCK_SIZE_POWER;M>E&&(M=E);const L=xe.cap(k,2,s-3);let K=0;for(let Ee=-2;Ee<=2;Ee++){const Ce=x[F+Ee];K+=Ce[L-2]+Ce[L-1]+Ce[L]+Ce[L+1]+Ce[L+2]}const Q=K/25;xe.thresholdBlock(e,M,B,Q,i,d)}}}static cap(e,s,r){return e<s?s:e>r?r:e}static thresholdBlock(e,s,r,i,o,x){for(let d=0,u=r*o+s;d<xe.BLOCK_SIZE;d++,u+=o)for(let E=0;E<xe.BLOCK_SIZE;E++)(e[u+E]&255)<=i&&x.set(s+E,r+d)}static calculateBlackPoints(e,s,r,i,o){const x=o-xe.BLOCK_SIZE,d=i-xe.BLOCK_SIZE,u=new Array(r);for(let E=0;E<r;E++){u[E]=new Int32Array(s);let m=E<<xe.BLOCK_SIZE_POWER;m>x&&(m=x);for(let B=0;B<s;B++){let F=B<<xe.BLOCK_SIZE_POWER;F>d&&(F=d);let k=0,M=255,L=0;for(let Q=0,Ee=m*i+F;Q<xe.BLOCK_SIZE;Q++,Ee+=i){for(let Ce=0;Ce<xe.BLOCK_SIZE;Ce++){const fe=e[Ee+Ce]&255;k+=fe,fe<M&&(M=fe),fe>L&&(L=fe)}if(L-M>xe.MIN_DYNAMIC_RANGE)for(Q++,Ee+=i;Q<xe.BLOCK_SIZE;Q++,Ee+=i)for(let Ce=0;Ce<xe.BLOCK_SIZE;Ce++)k+=e[Ee+Ce]&255}let K=k>>xe.BLOCK_SIZE_POWER*2;if(L-M<=xe.MIN_DYNAMIC_RANGE&&(K=M/2,E>0&&B>0)){const Q=(u[E-1][B]+2*u[E][B-1]+u[E-1][B-1])/4;M<Q&&(K=Q)}u[E][B]=K}}return u}}xe.BLOCK_SIZE_POWER=3,xe.BLOCK_SIZE=1<<xe.BLOCK_SIZE_POWER,xe.BLOCK_SIZE_MASK=xe.BLOCK_SIZE-1,xe.MINIMUM_DIMENSION=xe.BLOCK_SIZE*5,xe.MIN_DYNAMIC_RANGE=24;class Se{constructor(e,s){this.width=e,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,s,r,i){throw new we("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new we("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new we("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let s=new Be;for(let r=0;r<this.height;r++){const i=this.getRow(r,e);for(let o=0;o<this.width;o++){const x=i[o]&255;let d;x<64?d="#":x<128?d="+":x<192?d=".":d=" ",s.append(d)}s.append(`
`)}return s.toString()}}class Ke extends Se{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,s){const r=this.delegate.getRow(e,s),i=this.getWidth();for(let o=0;o<i;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(s);for(let i=0;i<s;i++)r[i]=255-(e[i]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,s,r,i){return new Ke(this.delegate.crop(e,s,r,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ke(this.delegate.rotateCounterClockwise45())}}class Qe extends Se{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Qe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const s=e.getContext("2d").getImageData(0,0,e.width,e.height);return Qe.toGrayscaleBuffer(s.data,e.width,e.height)}static toGrayscaleBuffer(e,s,r){const i=new Uint8ClampedArray(s*r);for(let o=0,x=0,d=e.length;o<d;o+=4,x++){let u;if(e[o+3]===0)u=255;else{const m=e[o],B=e[o+1],F=e[o+2];u=306*m+601*B+117*F+512>>10}i[x]=u}return i}getRow(e,s){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth(),i=e*r;return s===null?s=this.buffer.slice(i,i+r):(s.length<r&&(s=new Uint8ClampedArray(r)),s.set(this.buffer.slice(i,i+r))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,s,r,i){return super.crop(e,s,r,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const s=this.getTempCanvasElement(),r=s.getContext("2d"),i=e*Qe.DEGREE_TO_RADIANS,o=this.canvas.width,x=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*x),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*x);return s.width=d,s.height=u,r.translate(d/2,u/2),r.rotate(i),r.drawImage(this.canvas,o/-2,x/-2),this.buffer=Qe.makeBufferFromCanvasImageData(s),this}invert(){return new Ke(this)}}Qe.DEGREE_TO_RADIANS=Math.PI/180;class ke{constructor(e,s,r){this.deviceId=e,this.label=s,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Le=(globalThis||Vn||self||window||void 0)&&(globalThis||Vn||self||window||void 0).__awaiter||function(p,e,s,r){function i(o){return o instanceof s?o:new s(function(x){x(o)})}return new(s||(s=Promise))(function(o,x){function d(m){try{E(r.next(m))}catch(B){x(B)}}function u(m){try{E(r.throw(m))}catch(B){x(B)}}function E(m){m.done?o(m.value):i(m.value).then(d,u)}E((r=r.apply(p,e||[])).next())})};class ct{constructor(e,s=500,r){this.reader=e,this.timeBetweenScansMillis=s,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const r of e){const i=r.kind==="video"?"videoinput":r.kind;if(i!=="videoinput")continue;const o=r.deviceId||r.id,x=r.label||`Video device ${s.length+1}`,d=r.groupId,u={deviceId:o,label:x,kind:i,groupId:d};s.push(u)}return s})}getVideoInputDevices(){return Le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new ke(s.deviceId,s.label))})}findDeviceById(e){return Le(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,s){return Le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,s)})}decodeOnceFromVideoDevice(e,s){return Le(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const i={video:r};return yield this.decodeOnceFromConstraints(i,s)})}decodeOnceFromConstraints(e,s){return Le(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,s)})}decodeOnceFromStream(e,s){return Le(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,s);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,s,r){return Le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,s,r)})}decodeFromVideoDevice(e,s,r){return Le(this,void 0,void 0,function*(){let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeFromConstraints(o,s,r)})}decodeFromConstraints(e,s,r){return Le(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(i,s,r)})}decodeFromStream(e,s,r){return Le(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,s);return yield this.decodeContinuously(i,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,s){return Le(this,void 0,void 0,function*(){const r=this.prepareVideoElement(s);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((s,r)=>this.playVideoOnLoad(e,()=>s()))}playVideoOnLoad(e,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",s),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Le(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,s){const r=document.getElementById(e);if(!r)throw new D(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==s.toLowerCase())throw new D(`element with id '${e}' must be an ${s} element`);return r}decodeFromImage(e,s){if(!e&&!s)throw new D("either imageElement with a src set or an url must be provided");return s&&!e?this.decodeFromImageUrl(s):this.decodeFromImageElement(e)}decodeFromVideo(e,s){if(!e&&!s)throw new D("Either an element with a src set or an URL must be provided");return s&&!e?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,s,r){if(e===void 0&&s===void 0)throw new D("Either an element with a src set or an URL must be provided");return s&&!e?this.decodeFromVideoUrlContinuously(s,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new D("An image element must be provided.");this.reset();const s=this.prepareImageElement(e);this.imageElement=s;let r;return this.isImageLoaded(s)?r=this.decodeOnce(s,!1,!0):r=this._decodeOnLoadImage(s),r}decodeFromVideoElement(e){const s=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(e,s){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,s)}_decodeFromVideoElementSetup(e){if(!e)throw new D("A video element must be provided.");this.reset();const s=this.prepareVideoElement(e);return this.videoElement=s,s}decodeFromImageUrl(e){if(!e)throw new D("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const r=this._decodeOnLoadImage(s);return s.src=e,r}decodeFromVideoUrl(e){if(!e)throw new D("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),r=this.decodeFromVideoElement(s);return s.src=e,r}decodeFromVideoUrlContinuously(e,s){if(!e)throw new D("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,s);return r.src=e,i}_decodeOnLoadImage(e){return new Promise((s,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(s,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,s){return Le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,s)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let s;return typeof e>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof e=="string"&&(s=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(s=e),s}prepareVideoElement(e){let s;return!e&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof e=="string"&&(s=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(s=e),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(e,s=!0,r=!0){this._stopAsyncDecode=!1;const i=(o,x)=>{if(this._stopAsyncDecode){x(new j("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(e);o(d)}catch(d){const u=s&&d instanceof j,m=(d instanceof P||d instanceof N)&&r;if(u||m)return setTimeout(i,this._timeBetweenDecodingAttempts,o,x);x(d)}};return new Promise((o,x)=>i(o,x))}decodeContinuously(e,s){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const i=this.decode(e);s(i,null),setTimeout(r,this.timeBetweenScansMillis)}catch(i){s(null,i);const o=i instanceof P||i instanceof N,x=i instanceof j;(o||x)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const s=this.createBinaryBitmap(e);return this.decodeBitmap(s)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,s,r){s||(s={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(e,s,r=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const s=this.getCaptureCanvas(e),r=new Qe(s),i=new xe(r);return new S(i)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const s=this.createCaptureCanvas(e);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),s.style.width=r+"px",s.style.height=i+"px",s.width=r,s.height=i,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,s){try{e.srcObject=s}catch{e.src=URL.createObjectURL(s)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Te{constructor(e,s,r=s==null?0:8*s.length,i,o,x=z.currentTimeMillis()){this.text=e,this.rawBytes=s,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=x,this.text=e,this.rawBytes=s,r==null?this.numBits=s==null?0:8*s.length:this.numBits=r,this.resultPoints=i,this.format=o,this.resultMetadata=null,x==null?this.timestamp=z.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,s)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const s=this.resultPoints;if(s===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(s.length+e.length);z.arraycopy(s,0,r,0,s.length),z.arraycopy(e,0,r,s.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var t0;(function(p){p[p.AZTEC=0]="AZTEC",p[p.CODABAR=1]="CODABAR",p[p.CODE_39=2]="CODE_39",p[p.CODE_93=3]="CODE_93",p[p.CODE_128=4]="CODE_128",p[p.DATA_MATRIX=5]="DATA_MATRIX",p[p.EAN_8=6]="EAN_8",p[p.EAN_13=7]="EAN_13",p[p.ITF=8]="ITF",p[p.MAXICODE=9]="MAXICODE",p[p.PDF_417=10]="PDF_417",p[p.QR_CODE=11]="QR_CODE",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(t0||(t0={}));var De=t0,se;(function(p){p[p.OTHER=0]="OTHER",p[p.ORIENTATION=1]="ORIENTATION",p[p.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",p[p.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",p[p.ISSUE_NUMBER=4]="ISSUE_NUMBER",p[p.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",p[p.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",p[p.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",p[p.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",p[p.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",p[p.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(se||(se={}));var ge=se;class me{constructor(e,s,r,i,o=-1,x=-1){this.rawBytes=e,this.text=s,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=x,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ie{exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}static addOrSubtract(e,s){return e^s}}class He{constructor(e,s){if(s.length===0)throw new b;this.field=e;const r=s.length;if(r>1&&s[0]===0){let i=1;for(;i<r&&s[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),z.arraycopy(s,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const s=this.coefficients;let r;if(e===1){r=0;for(let x=0,d=s.length;x!==d;x++){const u=s[x];r=Ie.addOrSubtract(r,u)}return r}r=s[0];const i=s.length,o=this.field;for(let x=1;x<i;x++)r=Ie.addOrSubtract(o.multiply(e,r),s[x]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let s=this.coefficients,r=e.coefficients;if(s.length>r.length){const x=s;s=r,r=x}let i=new Int32Array(r.length);const o=r.length-s.length;z.arraycopy(r,0,i,0,o);for(let x=o;x<r.length;x++)i[x]=Ie.addOrSubtract(s[x-o],r[x]);return new He(this.field,i)}multiply(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const s=this.coefficients,r=s.length,i=e.coefficients,o=i.length,x=new Int32Array(r+o-1),d=this.field;for(let u=0;u<r;u++){const E=s[u];for(let m=0;m<o;m++)x[u+m]=Ie.addOrSubtract(x[u+m],d.multiply(E,i[m]))}return new He(d,x)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const s=this.coefficients.length,r=this.field,i=new Int32Array(s),o=this.coefficients;for(let x=0;x<s;x++)i[x]=r.multiply(o[x],e);return new He(r,i)}multiplyByMonomial(e,s){if(e<0)throw new b;if(s===0)return this.field.getZero();const r=this.coefficients,i=r.length,o=new Int32Array(i+e),x=this.field;for(let d=0;d<i;d++)o[d]=x.multiply(r[d],s);return new He(x,o)}divide(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new b("Divide by 0");const s=this.field;let r=s.getZero(),i=this;const o=e.getCoefficient(e.getDegree()),x=s.inverse(o);for(;i.getDegree()>=e.getDegree()&&!i.isZero();){const d=i.getDegree()-e.getDegree(),u=s.multiply(i.getCoefficient(i.getDegree()),x),E=e.multiplyByMonomial(d,u),m=s.buildMonomial(d,u);r=r.addOrSubtract(m),i=i.addOrSubtract(E)}return[r,i]}toString(){let e="";for(let s=this.getDegree();s>=0;s--){let r=this.getCoefficient(s);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),s===0||r!==1){const i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}s!==0&&(s===1?e+="x":(e+="x^",e+=s))}}return e}}class R extends A{}R.kind="ArithmeticException";class T extends Ie{constructor(e,s,r){super(),this.primitive=e,this.size=s,this.generatorBase=r;const i=new Int32Array(s);let o=1;for(let d=0;d<s;d++)i[d]=o,o*=2,o>=s&&(o^=e,o&=s-1);this.expTable=i;const x=new Int32Array(s);for(let d=0;d<s-1;d++)x[i[d]]=d;this.logTable=x,this.zero=new He(this,Int32Array.from([0])),this.one=new He(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,s){if(e<0)throw new b;if(s===0)return this.zero;const r=new Int32Array(e+1);return r[0]=s,new He(this,r)}inverse(e){if(e===0)throw new R;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,s){return e===0||s===0?0:this.expTable[(this.logTable[e]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}T.AZTEC_DATA_12=new T(4201,4096,1),T.AZTEC_DATA_10=new T(1033,1024,1),T.AZTEC_DATA_6=new T(67,64,1),T.AZTEC_PARAM=new T(19,16,1),T.QR_CODE_FIELD_256=new T(285,256,0),T.DATA_MATRIX_FIELD_256=new T(301,256,1),T.AZTEC_DATA_8=T.DATA_MATRIX_FIELD_256,T.MAXICODE_FIELD_64=T.AZTEC_DATA_6;class J extends A{}J.kind="ReedSolomonException";class ie extends A{}ie.kind="IllegalStateException";class ae{constructor(e){this.field=e}decode(e,s){const r=this.field,i=new He(r,e),o=new Int32Array(s);let x=!0;for(let k=0;k<s;k++){const M=i.evaluateAt(r.exp(k+r.getGeneratorBase()));o[o.length-1-k]=M,M!==0&&(x=!1)}if(x)return;const d=new He(r,o),u=this.runEuclideanAlgorithm(r.buildMonomial(s,1),d,s),E=u[0],m=u[1],B=this.findErrorLocations(E),F=this.findErrorMagnitudes(m,B);for(let k=0;k<B.length;k++){const M=e.length-1-r.log(B[k]);if(M<0)throw new J("Bad error location");e[M]=T.addOrSubtract(e[M],F[k])}}runEuclideanAlgorithm(e,s,r){if(e.getDegree()<s.getDegree()){const k=e;e=s,s=k}const i=this.field;let o=e,x=s,d=i.getZero(),u=i.getOne();for(;x.getDegree()>=(r/2|0);){let k=o,M=d;if(o=x,d=u,o.isZero())throw new J("r_{i-1} was zero");x=k;let L=i.getZero();const K=o.getCoefficient(o.getDegree()),Q=i.inverse(K);for(;x.getDegree()>=o.getDegree()&&!x.isZero();){const Ee=x.getDegree()-o.getDegree(),Ce=i.multiply(x.getCoefficient(x.getDegree()),Q);L=L.addOrSubtract(i.buildMonomial(Ee,Ce)),x=x.addOrSubtract(o.multiplyByMonomial(Ee,Ce))}if(u=L.multiply(d).addOrSubtract(M),x.getDegree()>=o.getDegree())throw new ie("Division algorithm failed to reduce polynomial?")}const E=u.getCoefficient(0);if(E===0)throw new J("sigmaTilde(0) was zero");const m=i.inverse(E),B=u.multiplyScalar(m),F=x.multiplyScalar(m);return[B,F]}findErrorLocations(e){const s=e.getDegree();if(s===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(s);let i=0;const o=this.field;for(let x=1;x<o.getSize()&&i<s;x++)e.evaluateAt(x)===0&&(r[i]=o.inverse(x),i++);if(i!==s)throw new J("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,s){const r=s.length,i=new Int32Array(r),o=this.field;for(let x=0;x<r;x++){const d=o.inverse(s[x]);let u=1;for(let E=0;E<r;E++)if(x!==E){const m=o.multiply(s[E],d),B=(m&1)===0?m|1:m&-2;u=o.multiply(u,B)}i[x]=o.multiply(e.evaluateAt(d),o.inverse(u)),o.getGeneratorBase()!==0&&(i[x]=o.multiply(i[x],d))}return i}}var ee;(function(p){p[p.UPPER=0]="UPPER",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.DIGIT=3]="DIGIT",p[p.PUNCT=4]="PUNCT",p[p.BINARY=5]="BINARY"})(ee||(ee={}));class de{decode(e){this.ddata=e;let s=e.getBits(),r=this.extractBits(s),i=this.correctBits(r),o=de.convertBoolArrayToByteArray(i),x=de.getEncodedData(i),d=new me(o,x,null,null);return d.setNumBits(i.length),d}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let s=e.length,r=ee.UPPER,i=ee.UPPER,o="",x=0;for(;x<s;)if(i===ee.BINARY){if(s-x<5)break;let d=de.readCode(e,x,5);if(x+=5,d===0){if(s-x<11)break;d=de.readCode(e,x,11)+31,x+=11}for(let u=0;u<d;u++){if(s-x<8){x=s;break}const E=de.readCode(e,x,8);o+=ce.castAsNonUtf8Char(E),x+=8}i=r}else{let d=i===ee.DIGIT?4:5;if(s-x<d)break;let u=de.readCode(e,x,d);x+=d;let E=de.getCharacter(i,u);E.startsWith("CTRL_")?(r=i,i=de.getTable(E.charAt(5)),E.charAt(6)==="L"&&(r=i)):(o+=E,i=r)}return o}static getTable(e){switch(e){case"L":return ee.LOWER;case"P":return ee.PUNCT;case"M":return ee.MIXED;case"D":return ee.DIGIT;case"B":return ee.BINARY;case"U":default:return ee.UPPER}}static getCharacter(e,s){switch(e){case ee.UPPER:return de.UPPER_TABLE[s];case ee.LOWER:return de.LOWER_TABLE[s];case ee.MIXED:return de.MIXED_TABLE[s];case ee.PUNCT:return de.PUNCT_TABLE[s];case ee.DIGIT:return de.DIGIT_TABLE[s];default:throw new ie("Bad table")}}correctBits(e){let s,r;this.ddata.getNbLayers()<=2?(r=6,s=T.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,s=T.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,s=T.AZTEC_DATA_10):(r=12,s=T.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new N;let x=e.length%r,d=new Int32Array(o);for(let F=0;F<o;F++,x+=r)d[F]=de.readCode(e,x,r);try{new ae(s).decode(d,o-i)}catch(F){throw new N(F)}let u=(1<<r)-1,E=0;for(let F=0;F<i;F++){let k=d[F];if(k===0||k===u)throw new N;(k===1||k===u-1)&&E++}let m=new Array(i*r-E),B=0;for(let F=0;F<i;F++){let k=d[F];if(k===1||k===u-1)m.fill(k>1,B,B+r-1),B+=r-1;else for(let M=r-1;M>=0;--M)m[B++]=(k&1<<M)!==0}return m}extractBits(e){let s=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(s?11:14)+r*4,o=new Int32Array(i),x=new Array(this.totalBitsInLayer(r,s));if(s)for(let d=0;d<o.length;d++)o[d]=d;else{let d=i+1+2*U.truncDivision(U.truncDivision(i,2)-1,15),u=i/2,E=U.truncDivision(d,2);for(let m=0;m<u;m++){let B=m+U.truncDivision(m,15);o[u-m-1]=E-B-1,o[u+m]=E+B+1}}for(let d=0,u=0;d<r;d++){let E=(r-d)*4+(s?9:12),m=d*2,B=i-1-m;for(let F=0;F<E;F++){let k=F*2;for(let M=0;M<2;M++)x[u+k+M]=e.get(o[m+M],o[m+F]),x[u+2*E+k+M]=e.get(o[m+F],o[B-M]),x[u+4*E+k+M]=e.get(o[B-M],o[B-F]),x[u+6*E+k+M]=e.get(o[B-F],o[m+M])}u+=E*8}return x}static readCode(e,s,r){let i=0;for(let o=s;o<s+r;o++)i<<=1,e[o]&&(i|=1);return i}static readByte(e,s){let r=e.length-s;return r>=8?de.readCode(e,s,8):de.readCode(e,s,r)<<8-r}static convertBoolArrayToByteArray(e){let s=new Uint8Array((e.length+7)/8);for(let r=0;r<s.length;r++)s[r]=de.readByte(e,8*r);return s}totalBitsInLayer(e,s){return((s?88:112)+16*e)*e}}de.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],de.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],de.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],de.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],de.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class oe{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,s,r,i){const o=e-r,x=s-i;return Math.sqrt(o*o+x*x)}static sum(e){let s=0;for(let r=0,i=e.length;r!==i;r++){const o=e[r];s+=o}return s}}class pe{static floatToIntBits(e){return e}}pe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Y{constructor(e,s){this.x=e,this.y=s}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Y){const s=e;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*pe.floatToIntBits(this.x)+pe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const s=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);let o,x,d;if(r>=s&&r>=i?(x=e[0],o=e[1],d=e[2]):i>=r&&i>=s?(x=e[1],o=e[0],d=e[2]):(x=e[2],o=e[0],d=e[1]),this.crossProductZ(o,x,d)<0){const u=o;o=d,d=u}e[0]=o,e[1]=x,e[2]=d}static distance(e,s){return oe.distance(e.x,e.y,s.x,s.y)}static crossProductZ(e,s,r){const i=s.x,o=s.y;return(r.x-i)*(e.y-o)-(r.y-o)*(e.x-i)}}class Oe{constructor(e,s){this.bits=e,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class ve extends Oe{constructor(e,s,r,i,o){super(e,s),this.compact=r,this.nbDatablocks=i,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pe{constructor(e,s,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),s==null&&(s=Pe.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);const o=s/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let e=this.leftInit,s=this.rightInit,r=this.upInit,i=this.downInit,o=!1,x=!0,d=!1,u=!1,E=!1,m=!1,B=!1;const F=this.width,k=this.height;for(;x;){x=!1;let M=!0;for(;(M||!u)&&s<F;)M=this.containsBlackPoint(r,i,s,!1),M?(s++,x=!0,u=!0):u||s++;if(s>=F){o=!0;break}let L=!0;for(;(L||!E)&&i<k;)L=this.containsBlackPoint(e,s,i,!0),L?(i++,x=!0,E=!0):E||i++;if(i>=k){o=!0;break}let K=!0;for(;(K||!m)&&e>=0;)K=this.containsBlackPoint(r,i,e,!1),K?(e--,x=!0,m=!0):m||e--;if(e<0){o=!0;break}let Q=!0;for(;(Q||!B)&&r>=0;)Q=this.containsBlackPoint(e,s,r,!0),Q?(r--,x=!0,B=!0):B||r--;if(r<0){o=!0;break}x&&(d=!0)}if(!o&&d){const M=s-e;let L=null;for(let Ce=1;L===null&&Ce<M;Ce++)L=this.getBlackPointOnSegment(e,i-Ce,e+Ce,i);if(L==null)throw new j;let K=null;for(let Ce=1;K===null&&Ce<M;Ce++)K=this.getBlackPointOnSegment(e,r+Ce,e+Ce,r);if(K==null)throw new j;let Q=null;for(let Ce=1;Q===null&&Ce<M;Ce++)Q=this.getBlackPointOnSegment(s,r+Ce,s-Ce,r);if(Q==null)throw new j;let Ee=null;for(let Ce=1;Ee===null&&Ce<M;Ce++)Ee=this.getBlackPointOnSegment(s,i-Ce,s-Ce,i);if(Ee==null)throw new j;return this.centerEdges(Ee,L,Q,K)}else throw new j}getBlackPointOnSegment(e,s,r,i){const o=oe.round(oe.distance(e,s,r,i)),x=(r-e)/o,d=(i-s)/o,u=this.image;for(let E=0;E<o;E++){const m=oe.round(e+E*x),B=oe.round(s+E*d);if(u.get(m,B))return new Y(m,B)}return null}centerEdges(e,s,r,i){const o=e.getX(),x=e.getY(),d=s.getX(),u=s.getY(),E=r.getX(),m=r.getY(),B=i.getX(),F=i.getY(),k=Pe.CORR;return o<this.width/2?[new Y(B-k,F+k),new Y(d+k,u+k),new Y(E-k,m-k),new Y(o+k,x-k)]:[new Y(B+k,F+k),new Y(d+k,u-k),new Y(E-k,m+k),new Y(o-k,x-k)]}containsBlackPoint(e,s,r,i){const o=this.image;if(i){for(let x=e;x<=s;x++)if(o.get(x,r))return!0}else for(let x=e;x<=s;x++)if(o.get(r,x))return!0;return!1}}Pe.INIT_SIZE=10,Pe.CORR=1;class We{static checkAndNudgePoints(e,s){const r=e.getWidth(),i=e.getHeight();let o=!0;for(let x=0;x<s.length&&o;x+=2){const d=Math.floor(s[x]),u=Math.floor(s[x+1]);if(d<-1||d>r||u<-1||u>i)throw new j;o=!1,d===-1?(s[x]=0,o=!0):d===r&&(s[x]=r-1,o=!0),u===-1?(s[x+1]=0,o=!0):u===i&&(s[x+1]=i-1,o=!0)}o=!0;for(let x=s.length-2;x>=0&&o;x-=2){const d=Math.floor(s[x]),u=Math.floor(s[x+1]);if(d<-1||d>r||u<-1||u>i)throw new j;o=!1,d===-1?(s[x]=0,o=!0):d===r&&(s[x]=r-1,o=!0),u===-1?(s[x+1]=0,o=!0):u===i&&(s[x+1]=i-1,o=!0)}}}class Xe{constructor(e,s,r,i,o,x,d,u,E){this.a11=e,this.a21=s,this.a31=r,this.a12=i,this.a22=o,this.a32=x,this.a13=d,this.a23=u,this.a33=E}static quadrilateralToQuadrilateral(e,s,r,i,o,x,d,u,E,m,B,F,k,M,L,K){const Q=Xe.quadrilateralToSquare(e,s,r,i,o,x,d,u);return Xe.squareToQuadrilateral(E,m,B,F,k,M,L,K).times(Q)}transformPoints(e){const s=e.length,r=this.a11,i=this.a12,o=this.a13,x=this.a21,d=this.a22,u=this.a23,E=this.a31,m=this.a32,B=this.a33;for(let F=0;F<s;F+=2){const k=e[F],M=e[F+1],L=o*k+u*M+B;e[F]=(r*k+x*M+E)/L,e[F+1]=(i*k+d*M+m)/L}}transformPointsWithValues(e,s){const r=this.a11,i=this.a12,o=this.a13,x=this.a21,d=this.a22,u=this.a23,E=this.a31,m=this.a32,B=this.a33,F=e.length;for(let k=0;k<F;k++){const M=e[k],L=s[k],K=o*M+u*L+B;e[k]=(r*M+x*L+E)/K,s[k]=(i*M+d*L+m)/K}}static squareToQuadrilateral(e,s,r,i,o,x,d,u){const E=e-r+o-d,m=s-i+x-u;if(E===0&&m===0)return new Xe(r-e,o-r,e,i-s,x-i,s,0,0,1);{const B=r-o,F=d-o,k=i-x,M=u-x,L=B*M-F*k,K=(E*M-F*m)/L,Q=(B*m-E*k)/L;return new Xe(r-e+K*r,d-e+Q*d,e,i-s+K*i,u-s+Q*u,s,K,Q,1)}}static quadrilateralToSquare(e,s,r,i,o,x,d,u){return Xe.squareToQuadrilateral(e,s,r,i,o,x,d,u).buildAdjoint()}buildAdjoint(){return new Xe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Xe(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class gt extends We{sampleGrid(e,s,r,i,o,x,d,u,E,m,B,F,k,M,L,K,Q,Ee,Ce){const fe=Xe.quadrilateralToQuadrilateral(i,o,x,d,u,E,m,B,F,k,M,L,K,Q,Ee,Ce);return this.sampleGridWithTransform(e,s,r,fe)}sampleGridWithTransform(e,s,r,i){if(s<=0||r<=0)throw new j;const o=new Fe(s,r),x=new Float32Array(2*s);for(let d=0;d<r;d++){const u=x.length,E=d+.5;for(let m=0;m<u;m+=2)x[m]=m/2+.5,x[m+1]=E;i.transformPoints(x),We.checkAndNudgePoints(e,x);try{for(let m=0;m<u;m+=2)e.get(Math.floor(x[m]),Math.floor(x[m+1]))&&o.set(m/2,d)}catch{throw new j}}return o}}class tt{static setGridSampler(e){tt.gridSampler=e}static getInstance(){return tt.gridSampler}}tt.gridSampler=new gt;class dt{constructor(e,s){this.x=e,this.y=s}toResultPoint(){return new Y(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class jt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let s=this.getMatrixCenter(),r=this.getBullsEyeCorners(s);if(e){let x=r[0];r[0]=r[2],r[2]=x}this.extractParameters(r);let i=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new ve(i,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new j;let s=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],s),this.sampleLine(e[1],e[2],s),this.sampleLine(e[2],e[3],s),this.sampleLine(e[3],e[0],s)]);this.shift=this.getRotation(r,s);let i=0;for(let x=0;x<4;x++){let d=r[(this.shift+x)%4];this.compact?(i<<=7,i+=d>>1&127):(i<<=10,i+=(d>>2&992)+(d>>1&31))}let o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,s){let r=0;e.forEach((i,o,x)=>{let d=(i>>s-2<<1)+(i&1);r=(r<<3)+d}),r=((r&1)<<11)+(r>>1);for(let i=0;i<4;i++)if(U.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new j}getCorrectedParameterData(e,s){let r,i;s?(r=7,i=2):(r=10,i=4);let o=r-i,x=new Int32Array(r);for(let u=r-1;u>=0;--u)x[u]=e&15,e>>=4;try{new ae(T.AZTEC_PARAM).decode(x,o)}catch{throw new j}let d=0;for(let u=0;u<i;u++)d=(d<<4)+x[u];return d}getBullsEyeCorners(e){let s=e,r=e,i=e,o=e,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(s,x,1,-1),F=this.getFirstDifferent(r,x,1,1),k=this.getFirstDifferent(i,x,-1,1),M=this.getFirstDifferent(o,x,-1,-1);if(this.nbCenterLayers>2){let L=this.distancePoint(M,B)*this.nbCenterLayers/(this.distancePoint(o,s)*(this.nbCenterLayers+2));if(L<.75||L>1.25||!this.isWhiteOrBlackRectangle(B,F,k,M))break}s=B,r=F,i=k,o=M,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;let d=new Y(s.getX()+.5,s.getY()-.5),u=new Y(r.getX()+.5,r.getY()+.5),E=new Y(i.getX()-.5,i.getY()+.5),m=new Y(o.getX()-.5,o.getY()-.5);return this.expandSquare([d,u,E,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,s,r,i;try{let d=new Pe(this.image).detect();e=d[0],s=d[1],r=d[2],i=d[3]}catch{let u=this.image.getWidth()/2,E=this.image.getHeight()/2;e=this.getFirstDifferent(new dt(u+7,E-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new dt(u+7,E+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new dt(u-7,E+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new dt(u-7,E-7),!1,-1,-1).toResultPoint()}let o=oe.round((e.getX()+i.getX()+s.getX()+r.getX())/4),x=oe.round((e.getY()+i.getY()+s.getY()+r.getY())/4);try{let d=new Pe(this.image,15,o,x).detect();e=d[0],s=d[1],r=d[2],i=d[3]}catch{e=this.getFirstDifferent(new dt(o+7,x-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new dt(o+7,x+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new dt(o-7,x+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new dt(o-7,x-7),!1,-1,-1).toResultPoint()}return o=oe.round((e.getX()+i.getX()+s.getX()+r.getX())/4),x=oe.round((e.getY()+i.getY()+s.getY()+r.getY())/4),new dt(o,x)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,s,r,i,o){let x=tt.getInstance(),d=this.getDimension(),u=d/2-this.nbCenterLayers,E=d/2+this.nbCenterLayers;return x.sampleGrid(e,d,d,u,u,E,u,E,E,u,E,s.getX(),s.getY(),r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY())}sampleLine(e,s,r){let i=0,o=this.distanceResultPoint(e,s),x=o/r,d=e.getX(),u=e.getY(),E=x*(s.getX()-e.getX())/o,m=x*(s.getY()-e.getY())/o;for(let B=0;B<r;B++)this.image.get(oe.round(d+B*E),oe.round(u+B*m))&&(i|=1<<r-B-1);return i}isWhiteOrBlackRectangle(e,s,r,i){let o=3;e=new dt(e.getX()-o,e.getY()+o),s=new dt(s.getX()-o,s.getY()-o),r=new dt(r.getX()+o,r.getY()-o),i=new dt(i.getX()+o,i.getY()+o);let x=this.getColor(i,e);if(x===0)return!1;let d=this.getColor(e,s);return d!==x||(d=this.getColor(s,r),d!==x)?!1:(d=this.getColor(r,i),d===x)}getColor(e,s){let r=this.distancePoint(e,s),i=(s.getX()-e.getX())/r,o=(s.getY()-e.getY())/r,x=0,d=e.getX(),u=e.getY(),E=this.image.get(e.getX(),e.getY()),m=Math.ceil(r);for(let F=0;F<m;F++)d+=i,u+=o,this.image.get(oe.round(d),oe.round(u))!==E&&x++;let B=x/r;return B>.1&&B<.9?0:B<=.1===E?1:-1}getFirstDifferent(e,s,r,i){let o=e.getX()+r,x=e.getY()+i;for(;this.isValid(o,x)&&this.image.get(o,x)===s;)o+=r,x+=i;for(o-=r,x-=i;this.isValid(o,x)&&this.image.get(o,x)===s;)o+=r;for(o-=r;this.isValid(o,x)&&this.image.get(o,x)===s;)x+=i;return x-=i,new dt(o,x)}expandSquare(e,s,r){let i=r/(2*s),o=e[0].getX()-e[2].getX(),x=e[0].getY()-e[2].getY(),d=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,E=new Y(d+i*o,u+i*x),m=new Y(d-i*o,u-i*x);o=e[1].getX()-e[3].getX(),x=e[1].getY()-e[3].getY(),d=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let B=new Y(d+i*o,u+i*x),F=new Y(d-i*o,u-i*x);return[E,B,m,F]}isValid(e,s){return e>=0&&e<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(e){let s=oe.round(e.getX()),r=oe.round(e.getY());return this.isValid(s,r)}distancePoint(e,s){return oe.distance(e.getX(),e.getY(),s.getX(),s.getY())}distanceResultPoint(e,s){return oe.distance(e.getX(),e.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class qt{decode(e,s=null){let r=null,i=new jt(e.getBlackMatrix()),o=null,x=null;try{let m=i.detectMirror(!1);o=m.getPoints(),this.reportFoundResultPoints(s,o),x=new de().decode(m)}catch(m){r=m}if(x==null)try{let m=i.detectMirror(!0);o=m.getPoints(),this.reportFoundResultPoints(s,o),x=new de().decode(m)}catch(m){throw r??m}let d=new Te(x.getText(),x.getRawBytes(),x.getNumBits(),o,De.AZTEC,z.currentTimeMillis()),u=x.getByteSegments();u!=null&&d.putMetadata(ge.BYTE_SEGMENTS,u);let E=x.getECLevel();return E!=null&&d.putMetadata(ge.ERROR_CORRECTION_LEVEL,E),d}reportFoundResultPoints(e,s){if(e!=null){let r=e.get(H.NEED_RESULT_POINT_CALLBACK);r!=null&&s.forEach((i,o,x)=>{r.foundPossibleResultPoint(i)})}}reset(){}}class f0 extends ct{constructor(e=500){super(new qt,e)}}class Bt{decode(e,s){try{return this.doDecode(e,s)}catch{if(s&&s.get(H.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),x=this.doDecode(o,s),d=x.getResultMetadata();let u=270;d!==null&&d.get(ge.ORIENTATION)===!0&&(u=u+d.get(ge.ORIENTATION)%360),x.putMetadata(ge.ORIENTATION,u);const E=x.getResultPoints();if(E!==null){const m=o.getHeight();for(let B=0;B<E.length;B++)E[B]=new Y(m-E[B].getY()-1,E[B].getX())}return x}else throw new j}}reset(){}doDecode(e,s){const r=e.getWidth(),i=e.getHeight();let o=new O(r);const x=s&&s.get(H.TRY_HARDER)===!0,d=Math.max(1,i>>(x?8:5));let u;x?u=i:u=15;const E=Math.trunc(i/2);for(let m=0;m<u;m++){const B=Math.trunc((m+1)/2),F=(m&1)===0,k=E+d*(F?B:-B);if(k<0||k>=i)break;try{o=e.getBlackRow(k,o)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(o.reverse(),s&&s.get(H.NEED_RESULT_POINT_CALLBACK)===!0)){const L=new Map;s.forEach((K,Q)=>L.set(Q,K)),L.delete(H.NEED_RESULT_POINT_CALLBACK),s=L}try{const L=this.decodeRow(k,o,s);if(M===1){L.putMetadata(ge.ORIENTATION,180);const K=L.getResultPoints();K!==null&&(K[0]=new Y(r-K[0].getX()-1,K[0].getY()),K[1]=new Y(r-K[1].getX()-1,K[1].getY()))}return L}catch{}}}throw new j}static recordPattern(e,s,r){const i=r.length;for(let E=0;E<i;E++)r[E]=0;const o=e.getSize();if(s>=o)throw new j;let x=!e.get(s),d=0,u=s;for(;u<o;){if(e.get(u)!==x)r[d]++;else{if(++d===i)break;r[d]=1,x=!x}u++}if(!(d===i||d===i-1&&u===o))throw new j}static recordPatternInReverse(e,s,r){let i=r.length,o=e.get(s);for(;s>0&&i>=0;)e.get(--s)!==o&&(i--,o=!o);if(i>=0)throw new j;Bt.recordPattern(e,s+1,r)}static patternMatchVariance(e,s,r){const i=e.length;let o=0,x=0;for(let E=0;E<i;E++)o+=e[E],x+=s[E];if(o<x)return Number.POSITIVE_INFINITY;const d=o/x;r*=d;let u=0;for(let E=0;E<i;E++){const m=e[E],B=s[E]*d,F=m>B?m-B:B-m;if(F>r)return Number.POSITIVE_INFINITY;u+=F}return u/o}}class be extends Bt{static findStartPattern(e){const s=e.getSize(),r=e.getNextSet(0);let i=0,o=Int32Array.from([0,0,0,0,0,0]),x=r,d=!1;const u=6;for(let E=r;E<s;E++)if(e.get(E)!==d)o[i]++;else{if(i===u-1){let m=be.MAX_AVG_VARIANCE,B=-1;for(let F=be.CODE_START_A;F<=be.CODE_START_C;F++){const k=Bt.patternMatchVariance(o,be.CODE_PATTERNS[F],be.MAX_INDIVIDUAL_VARIANCE);k<m&&(m=k,B=F)}if(B>=0&&e.isRange(Math.max(0,x-(E-x)/2),x,!1))return Int32Array.from([x,E,B]);x+=o[0]+o[1],o=o.slice(2,o.length-1),o[i-1]=0,o[i]=0,i--}else i++;o[i]=1,d=!d}throw new j}static decodeCode(e,s,r){Bt.recordPattern(e,r,s);let i=be.MAX_AVG_VARIANCE,o=-1;for(let x=0;x<be.CODE_PATTERNS.length;x++){const d=be.CODE_PATTERNS[x],u=this.patternMatchVariance(s,d,be.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,o=x)}if(o>=0)return o;throw new j}decodeRow(e,s,r){const i=r&&r.get(H.ASSUME_GS1)===!0,o=be.findStartPattern(s),x=o[2];let d=0;const u=new Uint8Array(20);u[d++]=x;let E;switch(x){case be.CODE_START_A:E=be.CODE_CODE_A;break;case be.CODE_START_B:E=be.CODE_CODE_B;break;case be.CODE_START_C:E=be.CODE_CODE_C;break;default:throw new N}let m=!1,B=!1,F="",k=o[0],M=o[1];const L=Int32Array.from([0,0,0,0,0,0]);let K=0,Q=0,Ee=x,Ce=0,fe=!0,nt=!1,qe=!1;for(;!m;){const Is=B;switch(B=!1,K=Q,Q=be.decodeCode(s,L,M),u[d++]=Q,Q!==be.CODE_STOP&&(fe=!0),Q!==be.CODE_STOP&&(Ce++,Ee+=Ce*Q),k=M,M+=L.reduce((zl,Yl)=>zl+Yl,0),Q){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new N}switch(E){case be.CODE_CODE_A:if(Q<64)qe===nt?F+=String.fromCharCode(32+Q):F+=String.fromCharCode(32+Q+128),qe=!1;else if(Q<96)qe===nt?F+=String.fromCharCode(Q-64):F+=String.fromCharCode(Q+64),qe=!1;else switch(Q!==be.CODE_STOP&&(fe=!1),Q){case be.CODE_FNC_1:i&&(F.length===0?F+="]C1":F+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!nt&&qe?(nt=!0,qe=!1):nt&&qe?(nt=!1,qe=!1):qe=!0;break;case be.CODE_SHIFT:B=!0,E=be.CODE_CODE_B;break;case be.CODE_CODE_B:E=be.CODE_CODE_B;break;case be.CODE_CODE_C:E=be.CODE_CODE_C;break;case be.CODE_STOP:m=!0;break}break;case be.CODE_CODE_B:if(Q<96)qe===nt?F+=String.fromCharCode(32+Q):F+=String.fromCharCode(32+Q+128),qe=!1;else switch(Q!==be.CODE_STOP&&(fe=!1),Q){case be.CODE_FNC_1:i&&(F.length===0?F+="]C1":F+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!nt&&qe?(nt=!0,qe=!1):nt&&qe?(nt=!1,qe=!1):qe=!0;break;case be.CODE_SHIFT:B=!0,E=be.CODE_CODE_A;break;case be.CODE_CODE_A:E=be.CODE_CODE_A;break;case be.CODE_CODE_C:E=be.CODE_CODE_C;break;case be.CODE_STOP:m=!0;break}break;case be.CODE_CODE_C:if(Q<100)Q<10&&(F+="0"),F+=Q;else switch(Q!==be.CODE_STOP&&(fe=!1),Q){case be.CODE_FNC_1:i&&(F.length===0?F+="]C1":F+="");break;case be.CODE_CODE_A:E=be.CODE_CODE_A;break;case be.CODE_CODE_B:E=be.CODE_CODE_B;break;case be.CODE_STOP:m=!0;break}break}Is&&(E=E===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const i0=M-k;if(M=s.getNextUnset(M),!s.isRange(M,Math.min(s.getSize(),M+(M-k)/2),!1))throw new j;if(Ee-=Ce*K,Ee%103!==K)throw new P;const B0=F.length;if(B0===0)throw new j;B0>0&&fe&&(E===be.CODE_CODE_C?F=F.substring(0,B0-2):F=F.substring(0,B0-1));const o0=(o[1]+o[0])/2,At=k+i0/2,Ht=u.length,l0=new Uint8Array(Ht);for(let Is=0;Is<Ht;Is++)l0[Is]=u[Is];const ks=[new Y(o0,e),new Y(At,e)];return new Te(F,l0,0,ks,De.CODE_128,new Date().getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class it extends Bt{constructor(e=!1,s=!1){super(),this.usingCheckDigit=e,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,s,r){let i=this.counters;i.fill(0),this.decodeRowResult="";let o=it.findAsteriskPattern(s,i),x=s.getNextSet(o[1]),d=s.getSize(),u,E;do{it.recordPattern(s,x,i);let L=it.toNarrowWidePattern(i);if(L<0)throw new j;u=it.patternToChar(L),this.decodeRowResult+=u,E=x;for(let K of i)x+=K;x=s.getNextSet(x)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let m=0;for(let L of i)m+=L;let B=x-E-m;if(x!==d&&B*2<m)throw new j;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,K=0;for(let Q=0;Q<L;Q++)K+=it.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(L)!==it.ALPHABET_STRING.charAt(K%43))throw new P;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(this.decodeRowResult.length===0)throw new j;let F;this.extendedMode?F=it.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;let k=(o[1]+o[0])/2,M=E+m/2;return new Te(F,null,0,[new Y(k,e),new Y(M,e)],De.CODE_39,new Date().getTime())}static findAsteriskPattern(e,s){let r=e.getSize(),i=e.getNextSet(0),o=0,x=i,d=!1,u=s.length;for(let E=i;E<r;E++)if(e.get(E)!==d)s[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(s)===it.ASTERISK_ENCODING&&e.isRange(Math.max(0,x-Math.floor((E-x)/2)),x,!1))return[x,E];x+=s[0]+s[1],s.copyWithin(0,2,2+o-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,d=!d}throw new j}static toNarrowWidePattern(e){let s=e.length,r=0,i;do{let o=2147483647;for(let u of e)u<o&&u>r&&(o=u);r=o,i=0;let x=0,d=0;for(let u=0;u<s;u++){let E=e[u];E>r&&(d|=1<<s-1-u,i++,x+=E)}if(i===3){for(let u=0;u<s&&i>0;u++){let E=e[u];if(E>r&&(i--,E*2>=x))return-1}return d}}while(i>3);return-1}static patternToChar(e){for(let s=0;s<it.CHARACTER_ENCODINGS.length;s++)if(it.CHARACTER_ENCODINGS[s]===e)return it.ALPHABET_STRING.charAt(s);if(e===it.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(e){let s=e.length,r="";for(let i=0;i<s;i++){let o=e.charAt(i);if(o==="+"||o==="$"||o==="%"||o==="/"){let x=e.charAt(i+1),d="\0";switch(o){case"+":if(x>="A"&&x<="Z")d=String.fromCharCode(x.charCodeAt(0)+32);else throw new N;break;case"$":if(x>="A"&&x<="Z")d=String.fromCharCode(x.charCodeAt(0)-64);else throw new N;break;case"%":if(x>="A"&&x<="E")d=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")d=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")d=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")d=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")d="\0";else if(x==="V")d="@";else if(x==="W")d="`";else if(x==="X"||x==="Y"||x==="Z")d="";else throw new N;break;case"/":if(x>="A"&&x<="O")d=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")d=":";else throw new N;break}r+=d,i++}else r+=o}return r}}it.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",it.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],it.ASTERISK_ENCODING=148;class st extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,s,r){let i=this.decodeStart(s),o=this.decodeEnd(s),x=new Be;st.decodeMiddle(s,i[1],o[0],x);let d=x.toString(),u=null;r!=null&&(u=r.get(H.ALLOWED_LENGTHS)),u==null&&(u=st.DEFAULT_ALLOWED_LENGTHS);let E=d.length,m=!1,B=0;for(let M of u){if(E===M){m=!0;break}M>B&&(B=M)}if(!m&&E>B&&(m=!0),!m)throw new N;const F=[new Y(i[1],e),new Y(o[0],e)];return new Te(d,null,0,F,De.ITF,new Date().getTime())}static decodeMiddle(e,s,r,i){let o=new Int32Array(10),x=new Int32Array(5),d=new Int32Array(5);for(o.fill(0),x.fill(0),d.fill(0);s<r;){Bt.recordPattern(e,s,o);for(let E=0;E<5;E++){let m=2*E;x[E]=o[m],d[E]=o[m+1]}let u=st.decodeDigit(x);i.append(u.toString()),u=this.decodeDigit(d),i.append(u.toString()),o.forEach(function(E){s+=E})}}decodeStart(e){let s=st.skipWhiteSpace(e),r=st.findGuardPattern(e,s,st.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,s){let r=this.narrowLineWidth*10;r=r<s?r:s;for(let i=s-1;r>0&&i>=0&&!e.get(i);i--)r--;if(r!==0)throw new j}static skipWhiteSpace(e){const s=e.getSize(),r=e.getNextSet(0);if(r===s)throw new j;return r}decodeEnd(e){e.reverse();try{let s=st.skipWhiteSpace(e),r;try{r=st.findGuardPattern(e,s,st.END_PATTERN_REVERSED[0])}catch(o){o instanceof j&&(r=st.findGuardPattern(e,s,st.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let i=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-i,r}finally{e.reverse()}}static findGuardPattern(e,s,r){let i=r.length,o=new Int32Array(i),x=e.getSize(),d=!1,u=0,E=s;o.fill(0);for(let m=s;m<x;m++)if(e.get(m)!==d)o[u]++;else{if(u===i-1){if(Bt.patternMatchVariance(o,r,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return[E,m];E+=o[0]+o[1],z.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,d=!d}throw new j}static decodeDigit(e){let s=st.MAX_AVG_VARIANCE,r=-1,i=st.PATTERNS.length;for(let o=0;o<i;o++){let x=st.PATTERNS[o],d=Bt.patternMatchVariance(e,x,st.MAX_INDIVIDUAL_VARIANCE);d<s?(s=d,r=o):d===s&&(r=-1)}if(r>=0)return r%10;throw new j}}st.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],st.MAX_AVG_VARIANCE=.38,st.MAX_INDIVIDUAL_VARIANCE=.5,st.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],st.START_PATTERN=Int32Array.from([1,1,1,1]),st.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let s=!1,r,i=0,o=Int32Array.from([0,0,0]);for(;!s;){o=Int32Array.from([0,0,0]),r=Ft.findGuardPattern(e,i,!1,this.START_END_PATTERN,o);let x=r[0];i=r[1];let d=x-(i-x);d>=0&&(s=e.isRange(d,x,!1))}return r}static checkChecksum(e){return Ft.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let s=e.length;if(s===0)return!1;let r=parseInt(e.charAt(s-1),10);return Ft.getStandardUPCEANChecksum(e.substring(0,s-1))===r}static getStandardUPCEANChecksum(e){let s=e.length,r=0;for(let i=s-1;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new N;r+=o}r*=3;for(let i=s-2;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new N;r+=o}return(1e3-r)%10}static decodeEnd(e,s){return Ft.findGuardPattern(e,s,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,s,r,i){return this.findGuardPattern(e,s,r,i,new Int32Array(i.length))}static findGuardPattern(e,s,r,i,o){let x=e.getSize();s=r?e.getNextUnset(s):e.getNextSet(s);let d=0,u=s,E=i.length,m=r;for(let B=s;B<x;B++)if(e.get(B)!==m)o[d]++;else{if(d===E-1){if(Bt.patternMatchVariance(o,i,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([u,B]);u+=o[0]+o[1];let F=o.slice(2,o.length-1);for(let k=0;k<d-1;k++)o[k]=F[k];o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,m=!m}throw new j}static decodeDigit(e,s,r,i){this.recordPattern(e,r,s);let o=this.MAX_AVG_VARIANCE,x=-1,d=i.length;for(let u=0;u<d;u++){let E=i[u],m=Bt.patternMatchVariance(s,E,Ft.MAX_INDIVIDUAL_VARIANCE);m<o&&(o=m,x=u)}if(x>=0)return x;throw new j}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Z0{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,s,r){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(s,r,i),x=i.toString(),d=Z0.parseExtensionString(x),u=[new Y((r[0]+r[1])/2,e),new Y(o,e)],E=new Te(x,null,0,u,De.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&E.putAllMetadata(d),E}decodeMiddle(e,s,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1],d=0;for(let E=0;E<5&&x<o;E++){let m=Ft.decodeDigit(e,i,x,Ft.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);for(let B of i)x+=B;m>=10&&(d|=1<<4-E),E!==4&&(x=e.getNextSet(x),x=e.getNextUnset(x))}if(r.length!==5)throw new j;let u=this.determineCheckDigit(d);if(Z0.extensionChecksum(r.toString())!==u)throw new j;return x}static extensionChecksum(e){let s=e.length,r=0;for(let i=s-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(let i=s-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let s=0;s<10;s++)if(e===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new j}static parseExtensionString(e){if(e.length!==5)return null;let s=Z0.parseExtension5String(e);return s==null?null:new Map([[ge.SUGGESTED_PRICE,s]])}static parseExtension5String(e){let s;switch(e.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let r=parseInt(e.substring(1)),i=(r/100).toString(),o=r%100,x=o<10?"0"+o:o.toString();return s+i+"."+x}}class Ar{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,s,r){let i=this.decodeRowStringBuffer,o=this.decodeMiddle(s,r,i),x=i.toString(),d=Ar.parseExtensionString(x),u=[new Y((r[0]+r[1])/2,e),new Y(o,e)],E=new Te(x,null,0,u,De.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&E.putAllMetadata(d),E}decodeMiddle(e,s,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1],d=0;for(let u=0;u<2&&x<o;u++){let E=Ft.decodeDigit(e,i,x,Ft.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let m of i)x+=m;E>=10&&(d|=1<<1-u),u!==1&&(x=e.getNextSet(x),x=e.getNextUnset(x))}if(r.length!==2)throw new j;if(parseInt(r.toString())%4!==d)throw new j;return x}static parseExtensionString(e){return e.length!==2?null:new Map([[ge.ISSUE_NUMBER,parseInt(e)]])}}class Ii{static decodeRow(e,s,r){let i=Ft.findGuardPattern(s,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Z0().decodeRow(e,s,i)}catch{return new Ar().decodeRow(e,s,i)}}}Ii.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class lt extends Ft{constructor(){super(),this.decodeRowStringBuffer="",lt.L_AND_G_PATTERNS=lt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let s=lt.L_PATTERNS[e-10],r=new Int32Array(s.length);for(let i=0;i<s.length;i++)r[i]=s[s.length-i-1];lt.L_AND_G_PATTERNS[e]=r}}decodeRow(e,s,r){let i=lt.findStartGuardPattern(s),o=r==null?null:r.get(H.NEED_RESULT_POINT_CALLBACK);if(o!=null){const fe=new Y((i[0]+i[1])/2,e);o.foundPossibleResultPoint(fe)}let x=this.decodeMiddle(s,i,this.decodeRowStringBuffer),d=x.rowOffset,u=x.resultString;if(o!=null){const fe=new Y(d,e);o.foundPossibleResultPoint(fe)}let E=this.decodeEnd(s,d);if(o!=null){const fe=new Y((E[0]+E[1])/2,e);o.foundPossibleResultPoint(fe)}let m=E[1],B=m+(m-E[0]);if(B>=s.getSize()||!s.isRange(m,B,!1))throw new j;let F=u.toString();if(F.length<8)throw new N;if(!lt.checkChecksum(F))throw new P;let k=(i[1]+i[0])/2,M=(E[1]+E[0])/2,L=this.getBarcodeFormat(),K=[new Y(k,e),new Y(M,e)],Q=new Te(F,null,0,K,L,new Date().getTime()),Ee=0;try{let fe=Ii.decodeRow(e,s,E[1]);Q.putMetadata(ge.UPC_EAN_EXTENSION,fe.getText()),Q.putAllMetadata(fe.getResultMetadata()),Q.addResultPoints(fe.getResultPoints()),Ee=fe.getText().length}catch{}let Ce=r==null?null:r.get(H.ALLOWED_EAN_EXTENSIONS);if(Ce!=null){let fe=!1;for(let nt in Ce)if(Ee.toString()===nt){fe=!0;break}if(!fe)throw new j}return Q}decodeEnd(e,s){return lt.findGuardPattern(e,s,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return lt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let s=e.length;if(s===0)return!1;let r=parseInt(e.charAt(s-1),10);return lt.getStandardUPCEANChecksum(e.substring(0,s-1))===r}static getStandardUPCEANChecksum(e){let s=e.length,r=0;for(let i=s-1;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new N;r+=o}r*=3;for(let i=s-2;i>=0;i-=2){let o=e.charAt(i).charCodeAt(0)-48;if(o<0||o>9)throw new N;r+=o}return(1e3-r)%10}}class ds extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,s,r){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1],d=0;for(let E=0;E<6&&x<o;E++){let m=lt.decodeDigit(e,i,x,lt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);for(let B of i)x+=B;m>=10&&(d|=1<<5-E)}r=ds.determineFirstDigit(r,d),x=lt.findGuardPattern(e,x,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&x<o;E++){let m=lt.decodeDigit(e,i,x,lt.L_PATTERNS);r+=String.fromCharCode(48+m);for(let B of i)x+=B}return{rowOffset:x,resultString:r}}getBarcodeFormat(){return De.EAN_13}static determineFirstDigit(e,s){for(let r=0;r<10;r++)if(s===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new j}}ds.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Si extends lt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,s,r){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x=s[1];for(let u=0;u<4&&x<o;u++){let E=lt.decodeDigit(e,i,x,lt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let m of i)x+=m}x=lt.findGuardPattern(e,x,!0,lt.MIDDLE_PATTERN,new Int32Array(lt.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&x<o;u++){let E=lt.decodeDigit(e,i,x,lt.L_PATTERNS);r+=String.fromCharCode(48+E);for(let m of i)x+=m}return{rowOffset:x,resultString:r}}getBarcodeFormat(){return De.EAN_8}}class Ti extends lt{constructor(){super(...arguments),this.ean13Reader=new ds}getBarcodeFormat(){return De.UPC_A}decode(e,s){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,s,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,s,r))}decodeMiddle(e,s,r){return this.ean13Reader.decodeMiddle(e,s,r)}maybeReturnResult(e){let s=e.getText();if(s.charAt(0)==="0"){let r=new Te(s.substring(1),null,null,e.getResultPoints(),De.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new j}reset(){this.ean13Reader.reset()}}class p0 extends lt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,s,r){const i=this.decodeMiddleCounters.map(E=>E);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const o=e.getSize();let x=s[1],d=0;for(let E=0;E<6&&x<o;E++){const m=p0.decodeDigit(e,i,x,p0.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);for(let B of i)x+=B;m>=10&&(d|=1<<5-E)}let u=p0.determineNumSysAndCheckDigit(r,d);return{rowOffset:x,resultString:u}}decodeEnd(e,s){return p0.findGuardPatternWithoutCounters(e,s,!0,p0.MIDDLE_END_PATTERN)}checkChecksum(e){return lt.checkChecksum(p0.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,s){for(let r=0;r<=1;r++)for(let i=0;i<10;i++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][i]){let o=String.fromCharCode(48+r),x=String.fromCharCode(48+i);return o+e+x}throw j.getNotFoundInstance()}getBarcodeFormat(){return De.UPC_E}static convertUPCEtoUPCA(e){const s=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Be;r.append(e.charAt(0));let i=s[5];switch(i){case 0:case 1:case 2:r.appendChars(s,0,2),r.append(i),r.append("0000"),r.appendChars(s,2,3);break;case 3:r.appendChars(s,0,3),r.append("00000"),r.appendChars(s,3,2);break;case 4:r.appendChars(s,0,4),r.append("00000"),r.append(s[4]);break;default:r.appendChars(s,0,5),r.append("0000"),r.append(i);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}p0.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),p0.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class pr extends Bt{constructor(e){super();let s=e==null?null:e.get(H.POSSIBLE_FORMATS),r=[];f(s)?(r.push(new ds),r.push(new Ti),r.push(new Si),r.push(new p0)):(s.indexOf(De.EAN_13)>-1&&r.push(new ds),s.indexOf(De.UPC_A)>-1&&r.push(new Ti),s.indexOf(De.EAN_8)>-1&&r.push(new Si),s.indexOf(De.UPC_E)>-1&&r.push(new p0)),this.readers=r}decodeRow(e,s,r){for(let i of this.readers)try{const o=i.decodeRow(e,s,r),x=o.getBarcodeFormat()===De.EAN_13&&o.getText().charAt(0)==="0",d=r==null?null:r.get(H.POSSIBLE_FORMATS),u=d==null||d.includes(De.UPC_A);if(x&&u){const E=o.getRawBytes(),m=new Te(o.getText().substring(1),E,E?E.length:null,o.getResultPoints(),De.UPC_A);return m.putAllMetadata(o.getResultMetadata()),m}return o}catch{}throw new j}reset(){for(let e of this.readers)e.reset()}}class Gt extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,s){for(let r=0;r<s.length;r++)if(Bt.patternMatchVariance(e,s[r],Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return r;throw new j}static count(e){return oe.sum(new Int32Array(e))}static increment(e,s){let r=0,i=s[0];for(let o=1;o<e.length;o++)s[o]>i&&(i=s[o],r=o);e[r]++}static decrement(e,s){let r=0,i=s[0];for(let o=1;o<e.length;o++)s[o]<i&&(i=s[o],r=o);e[r]--}static isFinderPattern(e){let s=e[0]+e[1],r=s+e[2]+e[3],i=s/r;if(i>=Gt.MIN_FINDER_PATTERN_RATIO&&i<=Gt.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let d of e)d>x&&(x=d),d<o&&(o=d);return x<10*o}return!1}}Gt.MAX_AVG_VARIANCE=.2,Gt.MAX_INDIVIDUAL_VARIANCE=.45,Gt.MIN_FINDER_PATTERN_RATIO=9.5/12,Gt.MAX_FINDER_PATTERN_RATIO=12.5/14;class bs{constructor(e,s){this.value=e,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof bs))return!1;const s=e;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class kn{constructor(e,s,r,i,o){this.value=e,this.startEnd=s,this.value=e,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new Y(r,o)),this.resultPoints.push(new Y(i,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof kn))return!1;const s=e;return this.value===s.value}hashCode(){return this.value}}class y0{constructor(){}static getRSSvalue(e,s,r){let i=0;for(let u of e)i+=u;let o=0,x=0,d=e.length;for(let u=0;u<d-1;u++){let E;for(E=1,x|=1<<u;E<e[u];E++,x&=~(1<<u)){let m=y0.combins(i-E-1,d-u-2);if(r&&x===0&&i-E-(d-u-1)>=d-u-1&&(m-=y0.combins(i-E-(d-u),d-u-2)),d-u-1>1){let B=0;for(let F=i-E-(d-u-2);F>s;F--)B+=y0.combins(i-E-F-1,d-u-3);m-=B*(d-1-u)}else i-E>s&&m--;o+=m}i-=E}return o}static combins(e,s){let r,i;e-s>s?(i=s,r=e-s):(i=e-s,r=s);let o=1,x=1;for(let d=e;d>r;d--)o*=d,x<=i&&(o/=x,x++);for(;x<=i;)o/=x,x++;return o}}class Al{static buildBitArray(e){let s=e.length*2-1;e[e.length-1].getRightChar()==null&&(s-=1);let r=12*s,i=new O(r),o=0,d=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)(d&1<<u)!=0&&i.set(o),o++;for(let u=1;u<e.length;++u){let E=e[u],m=E.getLeftChar().getValue();for(let B=11;B>=0;--B)(m&1<<B)!=0&&i.set(o),o++;if(E.getRightChar()!=null){let B=E.getRightChar().getValue();for(let F=11;F>=0;--F)(B&1<<F)!=0&&i.set(o),o++}}return i}}class us{constructor(e,s){s?this.decodedInformation=null:(this.finished=e,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Br{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class s0 extends Br{constructor(e,s){super(e),this.value=s}getValue(){return this.value}isFNC1(){return this.value===s0.FNC1}}s0.FNC1="$";class fs extends Br{constructor(e,s,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class h0 extends Br{constructor(e,s,r){if(super(e),s<0||s>10||r<0||r>10)throw new N;this.firstDigit=s,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===h0.FNC1}isSecondDigitFNC1(){return this.secondDigit===h0.FNC1}isAnyFNC1(){return this.firstDigit===h0.FNC1||this.secondDigit===h0.FNC1}}h0.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new j;let s=e.substring(0,2);for(let o of _e.TWO_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,o[2],e):_e.processFixedAI(2,o[1],e);if(e.length<3)throw new j;let r=e.substring(0,3);for(let o of _e.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,o[2],e):_e.processFixedAI(3,o[1],e);for(let o of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,o[2],e):_e.processFixedAI(4,o[1],e);if(e.length<4)throw new j;let i=e.substring(0,4);for(let o of _e.FOUR_DIGIT_DATA_LENGTH)if(o[0]===i)return o[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,o[2],e):_e.processFixedAI(4,o[1],e);throw new j}static processFixedAI(e,s,r){if(r.length<e)throw new j;let i=r.substring(0,e);if(r.length<e+s)throw new j;let o=r.substring(e,e+s),x=r.substring(e+s),d="("+i+")"+o,u=_e.parseFieldsInGeneralPurpose(x);return u==null?d:d+u}static processVariableAI(e,s,r){let i=r.substring(0,e),o;r.length<e+s?o=r.length:o=e+s;let x=r.substring(e,o),d=r.substring(o),u="("+i+")"+x,E=_e.parseFieldsInGeneralPurpose(d);return E==null?u:u+E}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class ws{constructor(e){this.buffer=new Be,this.information=e}decodeAllCodes(e,s){let r=s,i=null;do{let o=this.decodeGeneralPurposeField(r,i),x=_e.parseFieldsInGeneralPurpose(o.getNewString());if(x!=null&&e.append(x),o.isRemaining()?i=""+o.getRemainingValue():i=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let s=e;s<e+3;++s)if(this.information.get(s))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new h0(this.information.getSize(),h0.FNC1,h0.FNC1):new h0(this.information.getSize(),o-1,h0.FNC1)}let s=this.extractNumericValueFromBitArray(e,7),r=(s-8)/11,i=(s-8)%11;return new h0(e+7,r,i)}extractNumericValueFromBitArray(e,s){return ws.extractNumericValueFromBitArray(this.information,e,s)}static extractNumericValueFromBitArray(e,s,r){let i=0;for(let o=0;o<r;++o)e.get(s+o)&&(i|=1<<r-o-1);return i}decodeGeneralPurposeField(e,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new fs(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new fs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,s;do{let r=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),e=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),e=s.isFinished()):(s=this.parseNumericBlock(),e=s.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let s;return e.isSecondDigitFNC1()?s=new fs(this.current.getPosition(),this.buffer.toString()):s=new fs(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new us(!0,s)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let s=new fs(this.current.getPosition(),this.buffer.toString());return new us(!0,s)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new us(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let s=new fs(this.current.getPosition(),this.buffer.toString());return new us(!0,s)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new us(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let s=new fs(this.current.getPosition(),this.buffer.toString());return new us(!0,s)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new us(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,5);if(s>=5&&s<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253}decodeIsoIec646(e){let s=this.extractNumericValueFromBitArray(e,5);if(s===15)return new s0(e+5,s0.FNC1);if(s>=5&&s<15)return new s0(e+5,"0"+(s-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new s0(e+7,""+(r+1));if(r>=90&&r<116)return new s0(e+7,""+(r+7));let i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new N}return new s0(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,5);if(s>=5&&s<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let s=this.extractNumericValueFromBitArray(e,5);if(s===15)return new s0(e+5,s0.FNC1);if(s>=5&&s<15)return new s0(e+5,"0"+(s-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new s0(e+6,""+(r+33));let i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new ie("Decoding invalid alphanumeric value: "+r)}return new s0(e+6,i)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let s=0;s<5&&s+e<this.information.getSize();++s)if(s===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+s))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let s=e;s<e+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let s=0;s<4&&s+e<this.information.getSize();++s)if(this.information.get(e+s))return!1;return!0}}class br{constructor(e){this.information=e,this.generalDecoder=new ws(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class n0 extends br{constructor(e){super(e)}encodeCompressedGtin(e,s){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,s,r)}encodeCompressedGtinWithoutAI(e,s,r){for(let i=0;i<4;++i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*i,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}n0.appendCheckDigit(e,r)}static appendCheckDigit(e,s){let r=0;for(let i=0;i<13;i++){let o=e.charAt(i+s).charCodeAt(0)-48;r+=(i&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}n0.GTIN_SIZE=40;class Ds extends n0{constructor(e){super(e)}parseInformation(){let e=new Be;e.append("(01)");let s=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ds.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Ds.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(e,Ds.HEADER_SIZE+44)}}Ds.HEADER_SIZE=4;class In extends br{constructor(e){super(e)}parseInformation(){let e=new Be;return this.getGeneralDecoder().decodeAllCodes(e,In.HEADER_SIZE)}}In.HEADER_SIZE=5;class Sn extends n0{constructor(e){super(e)}encodeCompressedWeight(e,s,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(s,r);this.addWeightCode(e,i);let o=this.checkWeight(i),x=1e5;for(let d=0;d<5;++d)o/x===0&&e.append("0"),x/=10;e.append(o)}}class v0 extends Sn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=v0.HEADER_SIZE+Sn.GTIN_SIZE+v0.WEIGHT_SIZE)throw new j;let e=new Be;return this.encodeCompressedGtin(e,v0.HEADER_SIZE),this.encodeCompressedWeight(e,v0.HEADER_SIZE+Sn.GTIN_SIZE,v0.WEIGHT_SIZE),e.toString()}}v0.HEADER_SIZE=5,v0.WEIGHT_SIZE=15;class pl extends v0{constructor(e){super(e)}addWeightCode(e,s){e.append("(3103)")}checkWeight(e){return e}}class Bl extends v0{constructor(e){super(e)}addWeightCode(e,s){s<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class _0 extends n0{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<_0.HEADER_SIZE+n0.GTIN_SIZE)throw new j;let e=new Be;this.encodeCompressedGtin(e,_0.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(_0.HEADER_SIZE+n0.GTIN_SIZE,_0.LAST_DIGIT_SIZE);e.append("(392"),e.append(s),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(_0.HEADER_SIZE+n0.GTIN_SIZE+_0.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}_0.HEADER_SIZE=8,_0.LAST_DIGIT_SIZE=2;class Qt extends n0{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Qt.HEADER_SIZE+n0.GTIN_SIZE)throw new j;let e=new Be;this.encodeCompressedGtin(e,Qt.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+n0.GTIN_SIZE,Qt.LAST_DIGIT_SIZE);e.append("(393"),e.append(s),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+n0.GTIN_SIZE+Qt.LAST_DIGIT_SIZE,Qt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let i=this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE+n0.GTIN_SIZE+Qt.LAST_DIGIT_SIZE+Qt.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()}}Qt.HEADER_SIZE=8,Qt.LAST_DIGIT_SIZE=2,Qt.FIRST_THREE_DIGITS_SIZE=10;class _t extends Sn{constructor(e,s,r){super(e),this.dateCode=r,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE+_t.DATE_SIZE)throw new j;let e=new Be;return this.encodeCompressedGtin(e,_t.HEADER_SIZE),this.encodeCompressedWeight(e,_t.HEADER_SIZE+_t.GTIN_SIZE,_t.WEIGHT_SIZE),this.encodeCompressedDate(e,_t.HEADER_SIZE+_t.GTIN_SIZE+_t.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,s){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(s,_t.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let i=r%32;r/=32;let o=r%12+1;r/=12;let x=r;x/10==0&&e.append("0"),e.append(x),o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i)}addWeightCode(e,s){e.append("("),e.append(this.firstAIdigits),e.append(s/1e5),e.append(")")}checkWeight(e){return e%1e5}}_t.HEADER_SIZE=8,_t.WEIGHT_SIZE=20,_t.DATE_SIZE=16;function Pi(p){try{if(p.get(1))return new Ds(p);if(!p.get(2))return new In(p);switch(ws.extractNumericValueFromBitArray(p,1,4)){case 4:return new pl(p);case 5:return new Bl(p)}switch(ws.extractNumericValueFromBitArray(p,1,5)){case 12:return new _0(p);case 13:return new Qt(p)}switch(ws.extractNumericValueFromBitArray(p,1,7)){case 56:return new _t(p,"310","11");case 57:return new _t(p,"320","11");case 58:return new _t(p,"310","13");case 59:return new _t(p,"320","13");case 60:return new _t(p,"310","15");case 61:return new _t(p,"320","15");case 62:return new _t(p,"310","17");case 63:return new _t(p,"320","17")}}catch(e){throw console.log(e),new ie("unknown decoder: "+p)}}class q0{constructor(e,s,r,i){this.leftchar=e,this.rightchar=s,this.finderpattern=r,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,s){return e instanceof q0?q0.equalsOrNull(e.leftchar,s.leftchar)&&q0.equalsOrNull(e.rightchar,s.rightchar)&&q0.equalsOrNull(e.finderpattern,s.finderpattern):!1}static equalsOrNull(e,s){return e===null?s===null:q0.equals(e,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class wr{constructor(e,s,r){this.pairs=e,this.rowNumber=s,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,s){return e instanceof wr?this.checkEqualitity(e,s)&&e.wasReversed===s.wasReversed:!1}checkEqualitity(e,s){if(!e||!s)return;let r;return e.forEach((i,o)=>{s.forEach(x=>{i.getLeftChar().getValue()===x.getLeftChar().getValue()&&i.getRightChar().getValue()===x.getRightChar().getValue()&&i.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(r=!0)})}),r}}class ue extends Gt{constructor(e){super(...arguments),this.pairs=new Array(ue.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,s,r){this.pairs.length=0,this.startFromEven=!1;try{return ue.constructResult(this.decodeRow2pairs(e,s))}catch(i){this.verbose&&console.log(i)}return this.pairs.length=0,this.startFromEven=!0,ue.constructResult(this.decodeRow2pairs(e,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,s){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,e))}catch(o){if(o instanceof j){if(!this.pairs.length)throw new j;r=!0}}if(this.checkChecksum())return this.pairs;let i;if(this.rows.length?i=!0:i=!1,this.storeRow(e,!1),i){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new j}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),s}checkRows(e,s){for(let r=s;r<this.rows.length;r++){let i=this.rows[r];this.pairs.length=0;for(let x of e)this.pairs.push(x.getPairs());if(this.pairs.push(i.getPairs()),!ue.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(i);try{return this.checkRows(o,r+1)}catch(x){this.verbose&&console.log(x)}}throw new j}static isValidSequence(e){for(let s of ue.FINDER_PATTERN_SEQUENCES){if(e.length>s.length)continue;let r=!0;for(let i=0;i<e.length;i++)if(e[i].getFinderPattern().getValue()!=s[i]){r=!1;break}if(r)return!0}return!1}storeRow(e,s){let r=0,i=!1,o=!1;for(;r<this.rows.length;){let x=this.rows[r];if(x.getRowNumber()>e){o=x.isEquivalent(this.pairs);break}i=x.isEquivalent(this.pairs),r++}o||i||ue.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new wr(this.pairs,e,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,s){for(let r of s)if(r.getPairs().length!==e.length){for(let i of r.getPairs())for(let o of e)if(q0.equals(i,o))break}}static isPartialRow(e,s){for(let r of s){let i=!0;for(let o of e){let x=!1;for(let d of r.getPairs())if(o.equals(d)){x=!0;break}if(!x){i=!1;break}}if(i)return!0}return!1}getRows(){return this.rows}static constructResult(e){let s=Al.buildBitArray(e),i=Pi(s).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),x=e[e.length-1].getFinderPattern().getResultPoints(),d=[o[0],o[1],x[0],x[1]];return new Te(i,null,null,d,De.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),s=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let i=r.getChecksumPortion(),o=2;for(let d=1;d<this.pairs.size();++d){let u=this.pairs.get(d);i+=u.getLeftChar().getChecksumPortion(),o++;let E=u.getRightChar();E!=null&&(i+=E.getChecksumPortion(),o++)}return i%=211,211*(o-4)+i==s.getValue()}static getNextSecondBar(e,s){let r;return e.get(s)?(r=e.getNextUnset(s),r=e.getNextSet(r)):(r=e.getNextSet(s),r=e.getNextUnset(r)),r}retrieveNextPair(e,s,r){let i=s.length%2==0;this.startFromEven&&(i=!i);let o,x=!0,d=-1;do this.findNextPair(e,s,d),o=this.parseFoundFinderPattern(e,r,i),o==null?d=ue.getNextSecondBar(e,this.startEnd[0]):x=!1;while(x);let u=this.decodeDataCharacter(e,o,i,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new j;let E;try{E=this.decodeDataCharacter(e,o,i,!1)}catch(m){E=null,this.verbose&&console.log(m)}return new q0(u,E,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,s,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=e.getSize(),x;r>=0?x=r:this.isEmptyPair(s)?x=0:x=s[s.length-1].getFinderPattern().getStartEnd()[1];let d=s.length%2!=0;this.startFromEven&&(d=!d);let u=!1;for(;x<o&&(u=!e.get(x),!!u);)x++;let E=0,m=x;for(let B=x;B<o;B++)if(e.get(B)!=u)i[E]++;else{if(E==3){if(d&&ue.reverseCounters(i),ue.isFinderPattern(i)){this.startEnd[0]=m,this.startEnd[1]=B;return}d&&ue.reverseCounters(i),m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,E--}else E++;i[E]=1,u=!u}throw new j}static reverseCounters(e){let s=e.length;for(let r=0;r<s/2;++r){let i=e[r];e[r]=e[s-r-1],e[s-r-1]=i}}parseFoundFinderPattern(e,s,r){let i,o,x;if(r){let E=this.startEnd[0]-1;for(;E>=0&&!e.get(E);)E--;E++,i=this.startEnd[0]-E,o=E,x=this.startEnd[1]}else o=this.startEnd[0],x=e.getNextUnset(this.startEnd[1]+1),i=x-this.startEnd[1];let d=this.getDecodeFinderCounters();z.arraycopy(d,0,d,1,d.length-1),d[0]=i;let u;try{u=this.parseFinderValue(d,ue.FINDER_PATTERNS)}catch{return null}return new kn(u,[o,x],o,x,s)}decodeDataCharacter(e,s,r,i){let o=this.getDataCharacterCounters();for(let At=0;At<o.length;At++)o[At]=0;if(i)ue.recordPatternInReverse(e,s.getStartEnd()[0],o);else{ue.recordPattern(e,s.getStartEnd()[1],o);for(let At=0,Ht=o.length-1;At<Ht;At++,Ht--){let l0=o[At];o[At]=o[Ht],o[Ht]=l0}}let x=17,d=oe.sum(new Int32Array(o))/x,u=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(d-u)/u>.3)throw new j;let E=this.getOddCounts(),m=this.getEvenCounts(),B=this.getOddRoundingErrors(),F=this.getEvenRoundingErrors();for(let At=0;At<o.length;At++){let Ht=1*o[At]/d,l0=Ht+.5;if(l0<1){if(Ht<.3)throw new j;l0=1}else if(l0>8){if(Ht>8.7)throw new j;l0=8}let ks=At/2;(At&1)==0?(E[ks]=l0,B[ks]=Ht-l0):(m[ks]=l0,F[ks]=Ht-l0)}this.adjustOddEvenCounts(x);let k=4*s.getValue()+(r?0:2)+(i?0:1)-1,M=0,L=0;for(let At=E.length-1;At>=0;At--){if(ue.isNotA1left(s,r,i)){let Ht=ue.WEIGHTS[k][2*At];L+=E[At]*Ht}M+=E[At]}let K=0;for(let At=m.length-1;At>=0;At--)if(ue.isNotA1left(s,r,i)){let Ht=ue.WEIGHTS[k][2*At+1];K+=m[At]*Ht}let Q=L+K;if((M&1)!=0||M>13||M<4)throw new j;let Ee=(13-M)/2,Ce=ue.SYMBOL_WIDEST[Ee],fe=9-Ce,nt=y0.getRSSvalue(E,Ce,!0),qe=y0.getRSSvalue(m,fe,!1),i0=ue.EVEN_TOTAL_SUBSET[Ee],B0=ue.GSUM[Ee],o0=nt*i0+qe+B0;return new bs(o0,Q)}static isNotA1left(e,s,r){return!(e.getValue()==0&&s&&r)}adjustOddEvenCounts(e){let s=oe.sum(new Int32Array(this.getOddCounts())),r=oe.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;s>13?o=!0:s<4&&(i=!0);let x=!1,d=!1;r>13?d=!0:r<4&&(x=!0);let u=s+r-e,E=(s&1)==1,m=(r&1)==0;if(u==1)if(E){if(m)throw new j;o=!0}else{if(!m)throw new j;d=!0}else if(u==-1)if(E){if(m)throw new j;i=!0}else{if(!m)throw new j;x=!0}else if(u==0){if(E){if(!m)throw new j;s<r?(i=!0,d=!0):(o=!0,x=!0)}else if(m)throw new j}else throw new j;if(i){if(o)throw new j;ue.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&ue.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(d)throw new j;ue.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&ue.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ue.SYMBOL_WIDEST=[7,5,4,3,1],ue.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ue.GSUM=[0,348,1388,2948,3988],ue.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ue.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ue.FINDER_PAT_A=0,ue.FINDER_PAT_B=1,ue.FINDER_PAT_C=2,ue.FINDER_PAT_D=3,ue.FINDER_PAT_E=4,ue.FINDER_PAT_F=5,ue.FINDER_PATTERN_SEQUENCES=[[ue.FINDER_PAT_A,ue.FINDER_PAT_A],[ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B],[ue.FINDER_PAT_A,ue.FINDER_PAT_C,ue.FINDER_PAT_B,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_C],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_E,ue.FINDER_PAT_B,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F],[ue.FINDER_PAT_A,ue.FINDER_PAT_A,ue.FINDER_PAT_B,ue.FINDER_PAT_B,ue.FINDER_PAT_C,ue.FINDER_PAT_D,ue.FINDER_PAT_D,ue.FINDER_PAT_E,ue.FINDER_PAT_E,ue.FINDER_PAT_F,ue.FINDER_PAT_F]],ue.MAX_PAIRS=11;class bl extends bs{constructor(e,s,r){super(e,s),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class St extends Gt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,s,r){const i=this.decodePair(s,!1,e,r);St.addOrTally(this.possibleLeftPairs,i),s.reverse();let o=this.decodePair(s,!0,e,r);St.addOrTally(this.possibleRightPairs,o),s.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&St.checkChecksum(x,d))return St.constructResult(x,d)}throw new j}static addOrTally(e,s){if(s==null)return;let r=!1;for(let i of e)if(i.getValue()===s.getValue()){i.incrementCount(),r=!0;break}r||e.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,s){let r=4537077*e.getValue()+s.getValue(),i=new String(r).toString(),o=new Be;for(let E=13-i.length;E>0;E--)o.append("0");o.append(i);let x=0;for(let E=0;E<13;E++){let m=o.charAt(E).charCodeAt(0)-48;x+=(E&1)===0?3*m:m}x=10-x%10,x===10&&(x=0),o.append(x.toString());let d=e.getFinderPattern().getResultPoints(),u=s.getFinderPattern().getResultPoints();return new Te(o.toString(),null,0,[d[0],d[1],u[0],u[1]],De.RSS_14,new Date().getTime())}static checkChecksum(e,s){let r=(e.getChecksumPortion()+16*s.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+s.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,r===i}decodePair(e,s,r,i){try{let o=this.findFinderPattern(e,s),x=this.parseFoundFinderPattern(e,r,s,o),d=i==null?null:i.get(H.NEED_RESULT_POINT_CALLBACK);if(d!=null){let m=(o[0]+o[1])/2;s&&(m=e.getSize()-1-m),d.foundPossibleResultPoint(new Y(m,r))}let u=this.decodeDataCharacter(e,x,!0),E=this.decodeDataCharacter(e,x,!1);return new bl(1597*u.getValue()+E.getValue(),u.getChecksumPortion()+4*E.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(e,s,r){let i=this.getDataCharacterCounters();for(let K=0;K<i.length;K++)i[K]=0;if(r)Bt.recordPatternInReverse(e,s.getStartEnd()[0],i);else{Bt.recordPattern(e,s.getStartEnd()[1]+1,i);for(let K=0,Q=i.length-1;K<Q;K++,Q--){let Ee=i[K];i[K]=i[Q],i[Q]=Ee}}let o=r?16:15,x=oe.sum(new Int32Array(i))/o,d=this.getOddCounts(),u=this.getEvenCounts(),E=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(let K=0;K<i.length;K++){let Q=i[K]/x,Ee=Math.floor(Q+.5);Ee<1?Ee=1:Ee>8&&(Ee=8);let Ce=Math.floor(K/2);(K&1)===0?(d[Ce]=Ee,E[Ce]=Q-Ee):(u[Ce]=Ee,m[Ce]=Q-Ee)}this.adjustOddEvenCounts(r,o);let B=0,F=0;for(let K=d.length-1;K>=0;K--)F*=9,F+=d[K],B+=d[K];let k=0,M=0;for(let K=u.length-1;K>=0;K--)k*=9,k+=u[K],M+=u[K];let L=F+3*k;if(r){if((B&1)!==0||B>12||B<4)throw new j;let K=(12-B)/2,Q=St.OUTSIDE_ODD_WIDEST[K],Ee=9-Q,Ce=y0.getRSSvalue(d,Q,!1),fe=y0.getRSSvalue(u,Ee,!0),nt=St.OUTSIDE_EVEN_TOTAL_SUBSET[K],qe=St.OUTSIDE_GSUM[K];return new bs(Ce*nt+fe+qe,L)}else{if((M&1)!==0||M>10||M<4)throw new j;let K=(10-M)/2,Q=St.INSIDE_ODD_WIDEST[K],Ee=9-Q,Ce=y0.getRSSvalue(d,Q,!0),fe=y0.getRSSvalue(u,Ee,!1),nt=St.INSIDE_ODD_TOTAL_SUBSET[K],qe=St.INSIDE_GSUM[K];return new bs(fe*nt+Ce+qe,L)}}findFinderPattern(e,s){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),o=!1,x=0;for(;x<i&&(o=!e.get(x),s!==o);)x++;let d=0,u=x;for(let E=x;E<i;E++)if(e.get(E)!==o)r[d]++;else{if(d===3){if(Gt.isFinderPattern(r))return[u,E];u+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,d--}else d++;r[d]=1,o=!o}throw new j}parseFoundFinderPattern(e,s,r,i){let o=e.get(i[0]),x=i[0]-1;for(;x>=0&&o!==e.get(x);)x--;x++;const d=i[0]-x,u=this.getDecodeFinderCounters(),E=new Int32Array(u.length);z.arraycopy(u,0,E,1,u.length-1),E[0]=d;const m=this.parseFinderValue(E,St.FINDER_PATTERNS);let B=x,F=i[1];return r&&(B=e.getSize()-1-B,F=e.getSize()-1-F),new kn(m,[x,i[1]],B,F,s)}adjustOddEvenCounts(e,s){let r=oe.sum(new Int32Array(this.getOddCounts())),i=oe.sum(new Int32Array(this.getEvenCounts())),o=!1,x=!1,d=!1,u=!1;e?(r>12?x=!0:r<4&&(o=!0),i>12?u=!0:i<4&&(d=!0)):(r>11?x=!0:r<5&&(o=!0),i>10?u=!0:i<4&&(d=!0));let E=r+i-s,m=(r&1)===(e?1:0),B=(i&1)===1;if(E===1)if(m){if(B)throw new j;x=!0}else{if(!B)throw new j;u=!0}else if(E===-1)if(m){if(B)throw new j;o=!0}else{if(!B)throw new j;d=!0}else if(E===0){if(m){if(!B)throw new j;r<i?(o=!0,u=!0):(x=!0,d=!0)}else if(B)throw new j}else throw new j;if(o){if(x)throw new j;Gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(u)throw new j;Gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}St.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],St.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],St.OUTSIDE_GSUM=[0,161,961,2015,2715],St.INSIDE_GSUM=[0,336,1036,1516],St.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],St.INSIDE_ODD_WIDEST=[2,4,6,8],St.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Fs extends Bt{constructor(e,s){super(),this.readers=[],this.verbose=s===!0;const r=e?e.get(H.POSSIBLE_FORMATS):null,i=e&&e.get(H.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(De.EAN_13)||r.includes(De.UPC_A)||r.includes(De.EAN_8)||r.includes(De.UPC_E))&&this.readers.push(new pr(e)),r.includes(De.CODE_39)&&this.readers.push(new it(i)),r.includes(De.CODE_128)&&this.readers.push(new be),r.includes(De.ITF)&&this.readers.push(new st),r.includes(De.RSS_14)&&this.readers.push(new St),r.includes(De.RSS_EXPANDED)&&this.readers.push(new ue(this.verbose))):(this.readers.push(new pr(e)),this.readers.push(new it),this.readers.push(new pr(e)),this.readers.push(new be),this.readers.push(new st),this.readers.push(new St),this.readers.push(new ue(this.verbose)))}decodeRow(e,s,r){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,s,r)}catch{}throw new j}reset(){this.readers.forEach(e=>e.reset())}}class wl extends ct{constructor(e=500,s){super(new Fs(s),e,s)}}class ut{constructor(e,s,r){this.ecCodewords=e,this.ecBlocks=[s],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class at{constructor(e,s){this.count=e,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(e,s,r,i,o,x){this.versionNumber=e,this.symbolSizeRows=s,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=x;let d=0;const u=x.getECCodewords(),E=x.getECBlocks();for(let m of E)d+=m.getCount()*(m.getDataCodewords()+u);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,s){if((e&1)!==0||(s&1)!==0)throw new N;for(let r of rt.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===s)return r;throw new N}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new ut(5,new at(1,3))),new rt(2,12,12,10,10,new ut(7,new at(1,5))),new rt(3,14,14,12,12,new ut(10,new at(1,8))),new rt(4,16,16,14,14,new ut(12,new at(1,12))),new rt(5,18,18,16,16,new ut(14,new at(1,18))),new rt(6,20,20,18,18,new ut(18,new at(1,22))),new rt(7,22,22,20,20,new ut(20,new at(1,30))),new rt(8,24,24,22,22,new ut(24,new at(1,36))),new rt(9,26,26,24,24,new ut(28,new at(1,44))),new rt(10,32,32,14,14,new ut(36,new at(1,62))),new rt(11,36,36,16,16,new ut(42,new at(1,86))),new rt(12,40,40,18,18,new ut(48,new at(1,114))),new rt(13,44,44,20,20,new ut(56,new at(1,144))),new rt(14,48,48,22,22,new ut(68,new at(1,174))),new rt(15,52,52,24,24,new ut(42,new at(2,102))),new rt(16,64,64,14,14,new ut(56,new at(2,140))),new rt(17,72,72,16,16,new ut(36,new at(4,92))),new rt(18,80,80,18,18,new ut(48,new at(4,114))),new rt(19,88,88,20,20,new ut(56,new at(4,144))),new rt(20,96,96,22,22,new ut(68,new at(4,174))),new rt(21,104,104,24,24,new ut(56,new at(6,136))),new rt(22,120,120,18,18,new ut(68,new at(6,175))),new rt(23,132,132,20,20,new ut(62,new at(8,163))),new rt(24,144,144,22,22,new ut(62,new at(8,156),new at(2,155))),new rt(25,8,18,6,16,new ut(7,new at(1,5))),new rt(26,8,32,6,14,new ut(11,new at(1,10))),new rt(27,12,26,10,24,new ut(14,new at(1,16))),new rt(28,12,36,10,16,new ut(18,new at(1,22))),new rt(29,16,36,14,16,new ut(24,new at(1,32))),new rt(30,16,48,14,22,new ut(28,new at(1,49)))]}}rt.VERSIONS=rt.buildVersions();class Dr{constructor(e){const s=e.getHeight();if(s<8||s>144||(s&1)!==0)throw new N;this.version=Dr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const s=e.getHeight(),r=e.getWidth();return rt.getVersionForDimensions(s,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let s=0,r=4,i=0;const o=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let d=!1,u=!1,E=!1,m=!1;do if(r===o&&i===0&&!d)e[s++]=this.readCorner1(o,x)&255,r-=2,i+=2,d=!0;else if(r===o-2&&i===0&&(x&3)!==0&&!u)e[s++]=this.readCorner2(o,x)&255,r-=2,i+=2,u=!0;else if(r===o+4&&i===2&&(x&7)===0&&!E)e[s++]=this.readCorner3(o,x)&255,r-=2,i+=2,E=!0;else if(r===o-2&&i===0&&(x&7)===4&&!m)e[s++]=this.readCorner4(o,x)&255,r-=2,i+=2,m=!0;else{do r<o&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[s++]=this.readUtah(r,i,o,x)&255),r-=2,i+=2;while(r>=0&&i<x);r+=1,i+=3;do r>=0&&i<x&&!this.readMappingMatrix.get(i,r)&&(e[s++]=this.readUtah(r,i,o,x)&255),r+=2,i-=2;while(r<o&&i>=0);r+=3,i+=1}while(r<o||i<x);if(s!==this.version.getTotalCodewords())throw new N;return e}readModule(e,s,r,i){return e<0&&(e+=r,s+=4-(r+4&7)),s<0&&(s+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(s,e),this.mappingBitMatrix.get(s,e)}readUtah(e,s,r,i){let o=0;return this.readModule(e-2,s-2,r,i)&&(o|=1),o<<=1,this.readModule(e-2,s-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,s-2,r,i)&&(o|=1),o<<=1,this.readModule(e-1,s-1,r,i)&&(o|=1),o<<=1,this.readModule(e-1,s,r,i)&&(o|=1),o<<=1,this.readModule(e,s-2,r,i)&&(o|=1),o<<=1,this.readModule(e,s-1,r,i)&&(o|=1),o<<=1,this.readModule(e,s,r,i)&&(o|=1),o}readCorner1(e,s){let r=0;return this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,1,e,s)&&(r|=1),r<<=1,this.readModule(e-1,2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r<<=1,this.readModule(2,s-1,e,s)&&(r|=1),r<<=1,this.readModule(3,s-1,e,s)&&(r|=1),r}readCorner2(e,s){let r=0;return this.readModule(e-3,0,e,s)&&(r|=1),r<<=1,this.readModule(e-2,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(0,s-4,e,s)&&(r|=1),r<<=1,this.readModule(0,s-3,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r}readCorner3(e,s){let r=0;return this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,s-1,e,s)&&(r|=1),r<<=1,this.readModule(0,s-3,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-3,e,s)&&(r|=1),r<<=1,this.readModule(1,s-2,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r}readCorner4(e,s){let r=0;return this.readModule(e-3,0,e,s)&&(r|=1),r<<=1,this.readModule(e-2,0,e,s)&&(r|=1),r<<=1,this.readModule(e-1,0,e,s)&&(r|=1),r<<=1,this.readModule(0,s-2,e,s)&&(r|=1),r<<=1,this.readModule(0,s-1,e,s)&&(r|=1),r<<=1,this.readModule(1,s-1,e,s)&&(r|=1),r<<=1,this.readModule(2,s-1,e,s)&&(r|=1),r<<=1,this.readModule(3,s-1,e,s)&&(r|=1),r}extractDataRegion(e){const s=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==s)throw new b("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),x=s/i|0,d=r/o|0,u=x*i,E=d*o,m=new Fe(E,u);for(let B=0;B<x;++B){const F=B*i;for(let k=0;k<d;++k){const M=k*o;for(let L=0;L<i;++L){const K=B*(i+2)+1+L,Q=F+L;for(let Ee=0;Ee<o;++Ee){const Ce=k*(o+2)+1+Ee;if(e.get(Ce,K)){const fe=M+Ee;m.set(fe,Q)}}}}}return m}}class Fr{constructor(e,s){this.numDataCodewords=e,this.codewords=s}static getDataBlocks(e,s){const r=s.getECBlocks();let i=0;const o=r.getECBlocks();for(let L of o)i+=L.getCount();const x=new Array(i);let d=0;for(let L of o)for(let K=0;K<L.getCount();K++){const Q=L.getDataCodewords(),Ee=r.getECCodewords()+Q;x[d++]=new Fr(Q,new Uint8Array(Ee))}const E=x[0].codewords.length-r.getECCodewords(),m=E-1;let B=0;for(let L=0;L<m;L++)for(let K=0;K<d;K++)x[K].codewords[L]=e[B++];const F=s.getVersionNumber()===24,k=F?8:d;for(let L=0;L<k;L++)x[L].codewords[E-1]=e[B++];const M=x[0].codewords.length;for(let L=E;L<M;L++)for(let K=0;K<d;K++){const Q=F?(K+8)%d:K,Ee=F&&Q>7?L-1:L;x[Q].codewords[Ee]=e[B++]}if(B!==e.length)throw new b;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class yr{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new b(""+e);let s=0,r=this.bitOffset,i=this.byteOffset;const o=this.bytes;if(r>0){const x=8-r,d=e<x?e:x,u=x-d,E=255>>8-d<<u;s=(o[i]&E)>>u,e-=d,r+=d,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)s=s<<8|o[i]&255,i++,e-=8;if(e>0){const x=8-e,d=255>>x<<x;s=s<<e|(o[i]&d)>>x,r+=e}}return this.bitOffset=r,this.byteOffset=i,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nt;(function(p){p[p.PAD_ENCODE=0]="PAD_ENCODE",p[p.ASCII_ENCODE=1]="ASCII_ENCODE",p[p.C40_ENCODE=2]="C40_ENCODE",p[p.TEXT_ENCODE=3]="TEXT_ENCODE",p[p.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",p[p.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",p[p.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nt||(Nt={}));class Q0{static decode(e){const s=new yr(e),r=new Be,i=new Be,o=new Array;let x=Nt.ASCII_ENCODE;do if(x===Nt.ASCII_ENCODE)x=this.decodeAsciiSegment(s,r,i);else{switch(x){case Nt.C40_ENCODE:this.decodeC40Segment(s,r);break;case Nt.TEXT_ENCODE:this.decodeTextSegment(s,r);break;case Nt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,r);break;case Nt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,r);break;case Nt.BASE256_ENCODE:this.decodeBase256Segment(s,r,o);break;default:throw new N}x=Nt.ASCII_ENCODE}while(x!==Nt.PAD_ENCODE&&s.available()>0);return i.length()>0&&r.append(i.toString()),new me(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,s,r){let i=!1;do{let o=e.readBits(8);if(o===0)throw new N;if(o<=128)return i&&(o+=128),s.append(String.fromCharCode(o-1)),Nt.ASCII_ENCODE;if(o===129)return Nt.PAD_ENCODE;if(o<=229){const x=o-130;x<10&&s.append("0"),s.append(""+x)}else switch(o){case 230:return Nt.C40_ENCODE;case 231:return Nt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:s.append("[)>05"),r.insert(0,"");break;case 237:s.append("[)>06"),r.insert(0,"");break;case 238:return Nt.ANSIX12_ENCODE;case 239:return Nt.TEXT_ENCODE;case 240:return Nt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new N;break}}while(e.available()>0);return Nt.ASCII_ENCODE}static decodeC40Segment(e,s){let r=!1;const i=[];let o=0;do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),i);for(let d=0;d<3;d++){const u=i[d];switch(o){case 0:if(u<3)o=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[u];r?(s.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):s.append(E)}else throw new N;break;case 1:r?(s.append(String.fromCharCode(u+128)),r=!1):s.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[u];r?(s.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):s.append(E)}else switch(u){case 27:s.append("");break;case 30:r=!0;break;default:throw new N}o=0;break;case 3:r?(s.append(String.fromCharCode(u+224)),r=!1):s.append(String.fromCharCode(u+96)),o=0;break;default:throw new N}}}while(e.available()>0)}static decodeTextSegment(e,s){let r=!1,i=[],o=0;do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),i);for(let d=0;d<3;d++){const u=i[d];switch(o){case 0:if(u<3)o=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[u];r?(s.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):s.append(E)}else throw new N;break;case 1:r?(s.append(String.fromCharCode(u+128)),r=!1):s.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[u];r?(s.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):s.append(E)}else switch(u){case 27:s.append("");break;case 30:r=!0;break;default:throw new N}o=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[u];r?(s.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):s.append(E),o=0}else throw new N;break;default:throw new N}}}while(e.available()>0)}static decodeAnsiX12Segment(e,s){const r=[];do{if(e.available()===8)return;const i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(let o=0;o<3;o++){const x=r[o];switch(x){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(x<14)s.append(String.fromCharCode(x+44));else if(x<40)s.append(String.fromCharCode(x+51));else throw new N;break}}}while(e.available()>0)}static parseTwoBytes(e,s,r){let i=(e<<8)+s-1,o=Math.floor(i/1600);r[0]=o,i-=o*1600,o=Math.floor(i/40),r[1]=o,r[2]=i-o*40}static decodeEdifactSegment(e,s){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let i=e.readBits(6);if(i===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(i&32)===0&&(i|=64),s.append(String.fromCharCode(i))}}while(e.available()>0)}static decodeBase256Segment(e,s,r){let i=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),i++);let x;if(o===0?x=e.available()/8|0:o<250?x=o:x=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),x<0)throw new N;const d=new Uint8Array(x);for(let u=0;u<x;u++){if(e.available()<8)throw new N;d[u]=this.unrandomize255State(e.readBits(8),i++)}r.push(d);try{s.append(Ae.decode(d,ce.ISO88591))}catch(u){throw new ie("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,s){const r=149*s%255+1,i=e-r;return i>=0?i:i+256}}Q0.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Q0.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Q0.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Q0.TEXT_SHIFT2_SET_CHARS=Q0.C40_SHIFT2_SET_CHARS,Q0.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Dl{constructor(){this.rsDecoder=new ae(T.DATA_MATRIX_FIELD_256)}decode(e){const s=new Dr(e),r=s.getVersion(),i=s.readCodewords(),o=Fr.getDataBlocks(i,r);let x=0;for(let E of o)x+=E.getNumDataCodewords();const d=new Uint8Array(x),u=o.length;for(let E=0;E<u;E++){const m=o[E],B=m.getCodewords(),F=m.getNumDataCodewords();this.correctErrors(B,F);for(let k=0;k<F;k++)d[k*u+E]=B[k]}return Q0.decode(d)}correctErrors(e,s){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-s)}catch{throw new P}for(let i=0;i<s;i++)e[i]=r[i]}}class Pt{constructor(e){this.image=e,this.rectangleDetector=new Pe(this.image)}detect(){const e=this.rectangleDetector.detect();let s=this.detectSolid1(e);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new j;s=this.shiftToModuleCenter(s);const r=s[0],i=s[1],o=s[2],x=s[3];let d=this.transitionsBetween(r,x)+1,u=this.transitionsBetween(o,x)+1;(d&1)===1&&(d+=1),(u&1)===1&&(u+=1),4*d<7*u&&4*u<7*d&&(d=u=Math.max(d,u));let E=Pt.sampleGrid(this.image,r,i,o,x,d,u);return new Oe(E,[r,i,o,x])}static shiftPoint(e,s,r){let i=(s.getX()-e.getX())/(r+1),o=(s.getY()-e.getY())/(r+1);return new Y(e.getX()+i,e.getY()+o)}static moveAway(e,s,r){let i=e.getX(),o=e.getY();return i<s?i-=1:i+=1,o<r?o-=1:o+=1,new Y(i,o)}detectSolid1(e){let s=e[0],r=e[1],i=e[3],o=e[2],x=this.transitionsBetween(s,r),d=this.transitionsBetween(r,i),u=this.transitionsBetween(i,o),E=this.transitionsBetween(o,s),m=x,B=[o,s,r,i];return m>d&&(m=d,B[0]=s,B[1]=r,B[2]=i,B[3]=o),m>u&&(m=u,B[0]=r,B[1]=i,B[2]=o,B[3]=s),m>E&&(B[0]=i,B[1]=o,B[2]=s,B[3]=r),B}detectSolid2(e){let s=e[0],r=e[1],i=e[2],o=e[3],x=this.transitionsBetween(s,o),d=Pt.shiftPoint(r,i,(x+1)*4),u=Pt.shiftPoint(i,r,(x+1)*4),E=this.transitionsBetween(d,s),m=this.transitionsBetween(u,o);return E<m?(e[0]=s,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=s),e}correctTopRight(e){let s=e[0],r=e[1],i=e[2],o=e[3],x=this.transitionsBetween(s,o),d=this.transitionsBetween(r,o),u=Pt.shiftPoint(s,r,(d+1)*4),E=Pt.shiftPoint(i,r,(x+1)*4);x=this.transitionsBetween(u,o),d=this.transitionsBetween(E,o);let m=new Y(o.getX()+(i.getX()-r.getX())/(x+1),o.getY()+(i.getY()-r.getY())/(x+1)),B=new Y(o.getX()+(s.getX()-r.getX())/(d+1),o.getY()+(s.getY()-r.getY())/(d+1));if(!this.isValid(m))return this.isValid(B)?B:null;if(!this.isValid(B))return m;let F=this.transitionsBetween(u,m)+this.transitionsBetween(E,m),k=this.transitionsBetween(u,B)+this.transitionsBetween(E,B);return F>k?m:B}shiftToModuleCenter(e){let s=e[0],r=e[1],i=e[2],o=e[3],x=this.transitionsBetween(s,o)+1,d=this.transitionsBetween(i,o)+1,u=Pt.shiftPoint(s,r,d*4),E=Pt.shiftPoint(i,r,x*4);x=this.transitionsBetween(u,o)+1,d=this.transitionsBetween(E,o)+1,(x&1)===1&&(x+=1),(d&1)===1&&(d+=1);let m=(s.getX()+r.getX()+i.getX()+o.getX())/4,B=(s.getY()+r.getY()+i.getY()+o.getY())/4;s=Pt.moveAway(s,m,B),r=Pt.moveAway(r,m,B),i=Pt.moveAway(i,m,B),o=Pt.moveAway(o,m,B);let F,k;return u=Pt.shiftPoint(s,r,d*4),u=Pt.shiftPoint(u,o,x*4),F=Pt.shiftPoint(r,s,d*4),F=Pt.shiftPoint(F,i,x*4),E=Pt.shiftPoint(i,o,d*4),E=Pt.shiftPoint(E,r,x*4),k=Pt.shiftPoint(o,i,d*4),k=Pt.shiftPoint(k,s,x*4),[u,F,E,k]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,s,r,i,o,x,d){return tt.getInstance().sampleGrid(e,x,d,.5,.5,x-.5,.5,x-.5,d-.5,.5,d-.5,s.getX(),s.getY(),o.getX(),o.getY(),i.getX(),i.getY(),r.getX(),r.getY())}transitionsBetween(e,s){let r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(s.getX()),x=Math.trunc(s.getY()),d=Math.abs(x-i)>Math.abs(o-r);if(d){let L=r;r=i,i=L,L=o,o=x,x=L}let u=Math.abs(o-r),E=Math.abs(x-i),m=-u/2,B=i<x?1:-1,F=r<o?1:-1,k=0,M=this.image.get(d?i:r,d?r:i);for(let L=r,K=i;L!==o;L+=F){let Q=this.image.get(d?K:L,d?L:K);if(Q!==M&&(k++,M=Q),m+=E,m>0){if(K===x)break;K+=B,m-=u}}return k}}class $0{constructor(){this.decoder=new Dl}decode(e,s=null){let r,i;if(s!=null&&s.has(H.PURE_BARCODE)){const E=$0.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(E),i=$0.NO_POINTS}else{const E=new Pt(e.getBlackMatrix()).detect();r=this.decoder.decode(E.getBits()),i=E.getPoints()}const o=r.getRawBytes(),x=new Te(r.getText(),o,8*o.length,i,De.DATA_MATRIX,z.currentTimeMillis()),d=r.getByteSegments();d!=null&&x.putMetadata(ge.BYTE_SEGMENTS,d);const u=r.getECLevel();return u!=null&&x.putMetadata(ge.ERROR_CORRECTION_LEVEL,u),x}reset(){}static extractPureBits(e){const s=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(s==null||r==null)throw new j;const i=this.moduleSize(s,e);let o=s[1];const x=r[1];let d=s[0];const E=(r[0]-d+1)/i,m=(x-o+1)/i;if(E<=0||m<=0)throw new j;const B=i/2;o+=B,d+=B;const F=new Fe(E,m);for(let k=0;k<m;k++){const M=o+k*i;for(let L=0;L<E;L++)e.get(d+L*i,M)&&F.set(L,k)}return F}static moduleSize(e,s){const r=s.getWidth();let i=e[0];const o=e[1];for(;i<r&&s.get(i,o);)i++;if(i===r)throw new j;const x=i-e[0];if(x===0)throw new j;return x}}$0.NO_POINTS=[];class Fl extends ct{constructor(e=500){super(new $0,e)}}var ys;(function(p){p[p.L=0]="L",p[p.M=1]="M",p[p.Q=2]="Q",p[p.H=3]="H"})(ys||(ys={}));class bt{constructor(e,s,r){this.value=e,this.stringValue=s,this.bits=r,bt.FOR_BITS.set(r,this),bt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return bt.L;case"M":return bt.M;case"Q":return bt.Q;case"H":return bt.H;default:throw new D(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof bt))return!1;const s=e;return this.value===s.value}static forBits(e){if(e<0||e>=bt.FOR_BITS.size)throw new b;return bt.FOR_BITS.get(e)}}bt.FOR_BITS=new Map,bt.FOR_VALUE=new Map,bt.L=new bt(ys.L,"L",1),bt.M=new bt(ys.M,"M",0),bt.Q=new bt(ys.Q,"Q",3),bt.H=new bt(ys.H,"H",2);class Xt{constructor(e){this.errorCorrectionLevel=bt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,s){return U.bitCount(e^s)}static decodeFormatInformation(e,s){const r=Xt.doDecodeFormatInformation(e,s);return r!==null?r:Xt.doDecodeFormatInformation(e^Xt.FORMAT_INFO_MASK_QR,s^Xt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,s){let r=Number.MAX_SAFE_INTEGER,i=0;for(const o of Xt.FORMAT_INFO_DECODE_LOOKUP){const x=o[0];if(x===e||x===s)return new Xt(o[1]);let d=Xt.numBitsDiffering(e,x);d<r&&(i=o[1],r=d),e!==s&&(d=Xt.numBitsDiffering(s,x),d<r&&(i=o[1],r=d))}return r<=3?new Xt(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Xt))return!1;const s=e;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Xt.FORMAT_INFO_MASK_QR=21522,Xt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(e,...s){this.ecCodewordsPerBlock=e,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const s=this.ecBlocks;for(const r of s)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(e,s){this.count=e,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ne{constructor(e,s,...r){this.versionNumber=e,this.alignmentPatternCenters=s,this.ecBlocks=r;let i=0;const o=r[0].getECCodewordsPerBlock(),x=r[0].getECBlocks();for(const d of x)i+=d.getCount()*(d.getDataCodewords()+o);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new N;try{return this.getVersionForNumber((e-17)/4)}catch{throw new N}}static getVersionForNumber(e){if(e<1||e>40)throw new b;return Ne.VERSIONS[e-1]}static decodeVersionInformation(e){let s=Number.MAX_SAFE_INTEGER,r=0;for(let i=0;i<Ne.VERSION_DECODE_INFO.length;i++){const o=Ne.VERSION_DECODE_INFO[i];if(o===e)return Ne.getVersionForNumber(i+7);const x=Xt.numBitsDiffering(e,o);x<s&&(r=i+7,s=x)}return s<=3?Ne.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),s=new Fe(e);s.setRegion(0,0,9,9),s.setRegion(e-8,0,8,9),s.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let i=0;i<r;i++){const o=this.alignmentPatternCenters[i]-2;for(let x=0;x<r;x++)i===0&&(x===0||x===r-1)||i===r-1&&x===0||s.setRegion(this.alignmentPatternCenters[x]-2,o,5,5)}return s.setRegion(6,9,1,e-17),s.setRegion(9,6,e-17,1),this.versionNumber>6&&(s.setRegion(e-11,0,3,6),s.setRegion(0,e-11,6,3)),s}toString(){return""+this.versionNumber}}Ne.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ne.VERSIONS=[new Ne(1,new Int32Array(0),new Z(7,new _(1,19)),new Z(10,new _(1,16)),new Z(13,new _(1,13)),new Z(17,new _(1,9))),new Ne(2,Int32Array.from([6,18]),new Z(10,new _(1,34)),new Z(16,new _(1,28)),new Z(22,new _(1,22)),new Z(28,new _(1,16))),new Ne(3,Int32Array.from([6,22]),new Z(15,new _(1,55)),new Z(26,new _(1,44)),new Z(18,new _(2,17)),new Z(22,new _(2,13))),new Ne(4,Int32Array.from([6,26]),new Z(20,new _(1,80)),new Z(18,new _(2,32)),new Z(26,new _(2,24)),new Z(16,new _(4,9))),new Ne(5,Int32Array.from([6,30]),new Z(26,new _(1,108)),new Z(24,new _(2,43)),new Z(18,new _(2,15),new _(2,16)),new Z(22,new _(2,11),new _(2,12))),new Ne(6,Int32Array.from([6,34]),new Z(18,new _(2,68)),new Z(16,new _(4,27)),new Z(24,new _(4,19)),new Z(28,new _(4,15))),new Ne(7,Int32Array.from([6,22,38]),new Z(20,new _(2,78)),new Z(18,new _(4,31)),new Z(18,new _(2,14),new _(4,15)),new Z(26,new _(4,13),new _(1,14))),new Ne(8,Int32Array.from([6,24,42]),new Z(24,new _(2,97)),new Z(22,new _(2,38),new _(2,39)),new Z(22,new _(4,18),new _(2,19)),new Z(26,new _(4,14),new _(2,15))),new Ne(9,Int32Array.from([6,26,46]),new Z(30,new _(2,116)),new Z(22,new _(3,36),new _(2,37)),new Z(20,new _(4,16),new _(4,17)),new Z(24,new _(4,12),new _(4,13))),new Ne(10,Int32Array.from([6,28,50]),new Z(18,new _(2,68),new _(2,69)),new Z(26,new _(4,43),new _(1,44)),new Z(24,new _(6,19),new _(2,20)),new Z(28,new _(6,15),new _(2,16))),new Ne(11,Int32Array.from([6,30,54]),new Z(20,new _(4,81)),new Z(30,new _(1,50),new _(4,51)),new Z(28,new _(4,22),new _(4,23)),new Z(24,new _(3,12),new _(8,13))),new Ne(12,Int32Array.from([6,32,58]),new Z(24,new _(2,92),new _(2,93)),new Z(22,new _(6,36),new _(2,37)),new Z(26,new _(4,20),new _(6,21)),new Z(28,new _(7,14),new _(4,15))),new Ne(13,Int32Array.from([6,34,62]),new Z(26,new _(4,107)),new Z(22,new _(8,37),new _(1,38)),new Z(24,new _(8,20),new _(4,21)),new Z(22,new _(12,11),new _(4,12))),new Ne(14,Int32Array.from([6,26,46,66]),new Z(30,new _(3,115),new _(1,116)),new Z(24,new _(4,40),new _(5,41)),new Z(20,new _(11,16),new _(5,17)),new Z(24,new _(11,12),new _(5,13))),new Ne(15,Int32Array.from([6,26,48,70]),new Z(22,new _(5,87),new _(1,88)),new Z(24,new _(5,41),new _(5,42)),new Z(30,new _(5,24),new _(7,25)),new Z(24,new _(11,12),new _(7,13))),new Ne(16,Int32Array.from([6,26,50,74]),new Z(24,new _(5,98),new _(1,99)),new Z(28,new _(7,45),new _(3,46)),new Z(24,new _(15,19),new _(2,20)),new Z(30,new _(3,15),new _(13,16))),new Ne(17,Int32Array.from([6,30,54,78]),new Z(28,new _(1,107),new _(5,108)),new Z(28,new _(10,46),new _(1,47)),new Z(28,new _(1,22),new _(15,23)),new Z(28,new _(2,14),new _(17,15))),new Ne(18,Int32Array.from([6,30,56,82]),new Z(30,new _(5,120),new _(1,121)),new Z(26,new _(9,43),new _(4,44)),new Z(28,new _(17,22),new _(1,23)),new Z(28,new _(2,14),new _(19,15))),new Ne(19,Int32Array.from([6,30,58,86]),new Z(28,new _(3,113),new _(4,114)),new Z(26,new _(3,44),new _(11,45)),new Z(26,new _(17,21),new _(4,22)),new Z(26,new _(9,13),new _(16,14))),new Ne(20,Int32Array.from([6,34,62,90]),new Z(28,new _(3,107),new _(5,108)),new Z(26,new _(3,41),new _(13,42)),new Z(30,new _(15,24),new _(5,25)),new Z(28,new _(15,15),new _(10,16))),new Ne(21,Int32Array.from([6,28,50,72,94]),new Z(28,new _(4,116),new _(4,117)),new Z(26,new _(17,42)),new Z(28,new _(17,22),new _(6,23)),new Z(30,new _(19,16),new _(6,17))),new Ne(22,Int32Array.from([6,26,50,74,98]),new Z(28,new _(2,111),new _(7,112)),new Z(28,new _(17,46)),new Z(30,new _(7,24),new _(16,25)),new Z(24,new _(34,13))),new Ne(23,Int32Array.from([6,30,54,78,102]),new Z(30,new _(4,121),new _(5,122)),new Z(28,new _(4,47),new _(14,48)),new Z(30,new _(11,24),new _(14,25)),new Z(30,new _(16,15),new _(14,16))),new Ne(24,Int32Array.from([6,28,54,80,106]),new Z(30,new _(6,117),new _(4,118)),new Z(28,new _(6,45),new _(14,46)),new Z(30,new _(11,24),new _(16,25)),new Z(30,new _(30,16),new _(2,17))),new Ne(25,Int32Array.from([6,32,58,84,110]),new Z(26,new _(8,106),new _(4,107)),new Z(28,new _(8,47),new _(13,48)),new Z(30,new _(7,24),new _(22,25)),new Z(30,new _(22,15),new _(13,16))),new Ne(26,Int32Array.from([6,30,58,86,114]),new Z(28,new _(10,114),new _(2,115)),new Z(28,new _(19,46),new _(4,47)),new Z(28,new _(28,22),new _(6,23)),new Z(30,new _(33,16),new _(4,17))),new Ne(27,Int32Array.from([6,34,62,90,118]),new Z(30,new _(8,122),new _(4,123)),new Z(28,new _(22,45),new _(3,46)),new Z(30,new _(8,23),new _(26,24)),new Z(30,new _(12,15),new _(28,16))),new Ne(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new _(3,117),new _(10,118)),new Z(28,new _(3,45),new _(23,46)),new Z(30,new _(4,24),new _(31,25)),new Z(30,new _(11,15),new _(31,16))),new Ne(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new _(7,116),new _(7,117)),new Z(28,new _(21,45),new _(7,46)),new Z(30,new _(1,23),new _(37,24)),new Z(30,new _(19,15),new _(26,16))),new Ne(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new _(5,115),new _(10,116)),new Z(28,new _(19,47),new _(10,48)),new Z(30,new _(15,24),new _(25,25)),new Z(30,new _(23,15),new _(25,16))),new Ne(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new _(13,115),new _(3,116)),new Z(28,new _(2,46),new _(29,47)),new Z(30,new _(42,24),new _(1,25)),new Z(30,new _(23,15),new _(28,16))),new Ne(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new _(17,115)),new Z(28,new _(10,46),new _(23,47)),new Z(30,new _(10,24),new _(35,25)),new Z(30,new _(19,15),new _(35,16))),new Ne(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new _(17,115),new _(1,116)),new Z(28,new _(14,46),new _(21,47)),new Z(30,new _(29,24),new _(19,25)),new Z(30,new _(11,15),new _(46,16))),new Ne(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new _(13,115),new _(6,116)),new Z(28,new _(14,46),new _(23,47)),new Z(30,new _(44,24),new _(7,25)),new Z(30,new _(59,16),new _(1,17))),new Ne(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new _(12,121),new _(7,122)),new Z(28,new _(12,47),new _(26,48)),new Z(30,new _(39,24),new _(14,25)),new Z(30,new _(22,15),new _(41,16))),new Ne(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new _(6,121),new _(14,122)),new Z(28,new _(6,47),new _(34,48)),new Z(30,new _(46,24),new _(10,25)),new Z(30,new _(2,15),new _(64,16))),new Ne(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new _(17,122),new _(4,123)),new Z(28,new _(29,46),new _(14,47)),new Z(30,new _(49,24),new _(10,25)),new Z(30,new _(24,15),new _(46,16))),new Ne(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new _(4,122),new _(18,123)),new Z(28,new _(13,46),new _(32,47)),new Z(30,new _(48,24),new _(14,25)),new Z(30,new _(42,15),new _(32,16))),new Ne(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new _(20,117),new _(4,118)),new Z(28,new _(40,47),new _(7,48)),new Z(30,new _(43,24),new _(22,25)),new Z(30,new _(10,15),new _(67,16))),new Ne(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new _(19,118),new _(6,119)),new Z(28,new _(18,47),new _(31,48)),new Z(30,new _(34,24),new _(34,25)),new Z(30,new _(20,15),new _(61,16)))];var Lt;(function(p){p[p.DATA_MASK_000=0]="DATA_MASK_000",p[p.DATA_MASK_001=1]="DATA_MASK_001",p[p.DATA_MASK_010=2]="DATA_MASK_010",p[p.DATA_MASK_011=3]="DATA_MASK_011",p[p.DATA_MASK_100=4]="DATA_MASK_100",p[p.DATA_MASK_101=5]="DATA_MASK_101",p[p.DATA_MASK_110=6]="DATA_MASK_110",p[p.DATA_MASK_111=7]="DATA_MASK_111"})(Lt||(Lt={}));class E0{constructor(e,s){this.value=e,this.isMasked=s}unmaskBitMatrix(e,s){for(let r=0;r<s;r++)for(let i=0;i<s;i++)this.isMasked(r,i)&&e.flip(i,r)}}E0.values=new Map([[Lt.DATA_MASK_000,new E0(Lt.DATA_MASK_000,(p,e)=>(p+e&1)===0)],[Lt.DATA_MASK_001,new E0(Lt.DATA_MASK_001,(p,e)=>(p&1)===0)],[Lt.DATA_MASK_010,new E0(Lt.DATA_MASK_010,(p,e)=>e%3===0)],[Lt.DATA_MASK_011,new E0(Lt.DATA_MASK_011,(p,e)=>(p+e)%3===0)],[Lt.DATA_MASK_100,new E0(Lt.DATA_MASK_100,(p,e)=>(Math.floor(p/2)+Math.floor(e/3)&1)===0)],[Lt.DATA_MASK_101,new E0(Lt.DATA_MASK_101,(p,e)=>p*e%6===0)],[Lt.DATA_MASK_110,new E0(Lt.DATA_MASK_110,(p,e)=>p*e%6<3)],[Lt.DATA_MASK_111,new E0(Lt.DATA_MASK_111,(p,e)=>(p+e+p*e%3&1)===0)]]);class yl{constructor(e){const s=e.getHeight();if(s<21||(s&3)!==1)throw new N;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const s=this.bitMatrix.getHeight();let r=0;const i=s-7;for(let o=s-1;o>=i;o--)r=this.copyBit(8,o,r);for(let o=s-8;o<s;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=Xt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new N}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),s=Math.floor((e-17)/4);if(s<=6)return Ne.getVersionForNumber(s);let r=0;const i=e-11;for(let x=5;x>=0;x--)for(let d=e-9;d>=i;d--)r=this.copyBit(d,x,r);let o=Ne.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let x=5;x>=0;x--)for(let d=e-9;d>=i;d--)r=this.copyBit(x,d,r);if(o=Ne.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new N}copyBit(e,s,r){return(this.isMirror?this.bitMatrix.get(s,e):this.bitMatrix.get(e,s))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),s=this.readVersion(),r=E0.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);const o=s.buildFunctionPattern();let x=!0;const d=new Uint8Array(s.getTotalCodewords());let u=0,E=0,m=0;for(let B=i-1;B>0;B-=2){B===6&&B--;for(let F=0;F<i;F++){const k=x?i-1-F:F;for(let M=0;M<2;M++)o.get(B-M,k)||(m++,E<<=1,this.bitMatrix.get(B-M,k)&&(E|=1),m===8&&(d[u++]=E,m=0,E=0))}x=!x}if(u!==s.getTotalCodewords())throw new N;return d}remask(){if(this.parsedFormatInfo===null)return;const e=E0.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,s)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let s=0,r=e.getWidth();s<r;s++)for(let i=s+1,o=e.getHeight();i<o;i++)e.get(s,i)!==e.get(i,s)&&(e.flip(i,s),e.flip(s,i))}}class vr{constructor(e,s){this.numDataCodewords=e,this.codewords=s}static getDataBlocks(e,s,r){if(e.length!==s.getTotalCodewords())throw new b;const i=s.getECBlocksForLevel(r);let o=0;const x=i.getECBlocks();for(const M of x)o+=M.getCount();const d=new Array(o);let u=0;for(const M of x)for(let L=0;L<M.getCount();L++){const K=M.getDataCodewords(),Q=i.getECCodewordsPerBlock()+K;d[u++]=new vr(K,new Uint8Array(Q))}const E=d[0].codewords.length;let m=d.length-1;for(;m>=0&&d[m].codewords.length!==E;)m--;m++;const B=E-i.getECCodewordsPerBlock();let F=0;for(let M=0;M<B;M++)for(let L=0;L<u;L++)d[L].codewords[M]=e[F++];for(let M=m;M<u;M++)d[M].codewords[B]=e[F++];const k=d[0].codewords.length;for(let M=B;M<k;M++)for(let L=0;L<u;L++){const K=L<m?M:M+1;d[L].codewords[K]=e[F++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var g0;(function(p){p[p.TERMINATOR=0]="TERMINATOR",p[p.NUMERIC=1]="NUMERIC",p[p.ALPHANUMERIC=2]="ALPHANUMERIC",p[p.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",p[p.BYTE=4]="BYTE",p[p.ECI=5]="ECI",p[p.KANJI=6]="KANJI",p[p.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",p[p.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",p[p.HANZI=9]="HANZI"})(g0||(g0={}));class Ue{constructor(e,s,r,i){this.value=e,this.stringValue=s,this.characterCountBitsForVersions=r,this.bits=i,Ue.FOR_BITS.set(i,this),Ue.FOR_VALUE.set(e,this)}static forBits(e){const s=Ue.FOR_BITS.get(e);if(s===void 0)throw new b;return s}getCharacterCountBits(e){const s=e.getVersionNumber();let r;return s<=9?r=0:s<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ue))return!1;const s=e;return this.value===s.value}toString(){return this.stringValue}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.TERMINATOR=new Ue(g0.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ue.NUMERIC=new Ue(g0.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ue.ALPHANUMERIC=new Ue(g0.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ue.STRUCTURED_APPEND=new Ue(g0.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ue.BYTE=new Ue(g0.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ue.ECI=new Ue(g0.ECI,"ECI",Int32Array.from([0,0,0]),7),Ue.KANJI=new Ue(g0.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ue.FNC1_FIRST_POSITION=new Ue(g0.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ue.FNC1_SECOND_POSITION=new Ue(g0.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ue.HANZI=new Ue(g0.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class It{static decode(e,s,r,i){const o=new yr(e);let x=new Be;const d=new Array;let u=-1,E=-1;try{let m=null,B=!1,F;do{if(o.available()<4)F=Ue.TERMINATOR;else{const k=o.readBits(4);F=Ue.forBits(k)}switch(F){case Ue.TERMINATOR:break;case Ue.FNC1_FIRST_POSITION:case Ue.FNC1_SECOND_POSITION:B=!0;break;case Ue.STRUCTURED_APPEND:if(o.available()<16)throw new N;u=o.readBits(8),E=o.readBits(8);break;case Ue.ECI:const k=It.parseECIValue(o);if(m=W.getCharacterSetECIByValue(k),m===null)throw new N;break;case Ue.HANZI:const M=o.readBits(4),L=o.readBits(F.getCharacterCountBits(s));M===It.GB2312_SUBSET&&It.decodeHanziSegment(o,x,L);break;default:const K=o.readBits(F.getCharacterCountBits(s));switch(F){case Ue.NUMERIC:It.decodeNumericSegment(o,x,K);break;case Ue.ALPHANUMERIC:It.decodeAlphanumericSegment(o,x,K,B);break;case Ue.BYTE:It.decodeByteSegment(o,x,K,m,d,i);break;case Ue.KANJI:It.decodeKanjiSegment(o,x,K);break;default:throw new N}break}}while(F!==Ue.TERMINATOR)}catch{throw new N}return new me(e,x.toString(),d.length===0?null:d,r===null?null:r.toString(),u,E)}static decodeHanziSegment(e,s,r){if(r*13>e.available())throw new N;const i=new Uint8Array(2*r);let o=0;for(;r>0;){const x=e.readBits(13);let d=x/96<<8&4294967295|x%96;d<959?d+=41377:d+=42657,i[o]=d>>8&255,i[o+1]=d&255,o+=2,r--}try{s.append(Ae.decode(i,ce.GB2312))}catch(x){throw new N(x)}}static decodeKanjiSegment(e,s,r){if(r*13>e.available())throw new N;const i=new Uint8Array(2*r);let o=0;for(;r>0;){const x=e.readBits(13);let d=x/192<<8&4294967295|x%192;d<7936?d+=33088:d+=49472,i[o]=d>>8,i[o+1]=d,o+=2,r--}try{s.append(Ae.decode(i,ce.SHIFT_JIS))}catch(x){throw new N(x)}}static decodeByteSegment(e,s,r,i,o,x){if(8*r>e.available())throw new N;const d=new Uint8Array(r);for(let E=0;E<r;E++)d[E]=e.readBits(8);let u;i===null?u=ce.guessEncoding(d,x):u=i.getName();try{s.append(Ae.decode(d,u))}catch(E){throw new N(E)}o.push(d)}static toAlphaNumericChar(e){if(e>=It.ALPHANUMERIC_CHARS.length)throw new N;return It.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,s,r,i){const o=s.length();for(;r>1;){if(e.available()<11)throw new N;const x=e.readBits(11);s.append(It.toAlphaNumericChar(Math.floor(x/45))),s.append(It.toAlphaNumericChar(x%45)),r-=2}if(r===1){if(e.available()<6)throw new N;s.append(It.toAlphaNumericChar(e.readBits(6)))}if(i)for(let x=o;x<s.length();x++)s.charAt(x)==="%"&&(x<s.length()-1&&s.charAt(x+1)==="%"?s.deleteCharAt(x+1):s.setCharAt(x,""))}static decodeNumericSegment(e,s,r){for(;r>=3;){if(e.available()<10)throw new N;const i=e.readBits(10);if(i>=1e3)throw new N;s.append(It.toAlphaNumericChar(Math.floor(i/100))),s.append(It.toAlphaNumericChar(Math.floor(i/10)%10)),s.append(It.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new N;const i=e.readBits(7);if(i>=100)throw new N;s.append(It.toAlphaNumericChar(Math.floor(i/10))),s.append(It.toAlphaNumericChar(i%10))}else if(r===1){if(e.available()<4)throw new N;const i=e.readBits(4);if(i>=10)throw new N;s.append(It.toAlphaNumericChar(i))}}static parseECIValue(e){const s=e.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){const r=e.readBits(8);return(s&63)<<8&4294967295|r}if((s&224)===192){const r=e.readBits(16);return(s&31)<<16&4294967295|r}throw new N}}It.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",It.GB2312_SUBSET=1;class Ri{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const s=e[0];e[0]=e[2],e[2]=s}}class vl{constructor(){this.rsDecoder=new ae(T.QR_CODE_FIELD_256)}decodeBooleanArray(e,s){return this.decodeBitMatrix(Fe.parseFromBooleanArray(e),s)}decodeBitMatrix(e,s){const r=new yl(e);let i=null;try{return this.decodeBitMatrixParser(r,s)}catch(o){i=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,s);return o.setOther(new Ri(!0)),o}catch(o){throw i!==null?i:o}}decodeBitMatrixParser(e,s){const r=e.readVersion(),i=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),x=vr.getDataBlocks(o,r,i);let d=0;for(const m of x)d+=m.getNumDataCodewords();const u=new Uint8Array(d);let E=0;for(const m of x){const B=m.getCodewords(),F=m.getNumDataCodewords();this.correctErrors(B,F);for(let k=0;k<F;k++)u[E++]=B[k]}return It.decode(u,r,i,s)}correctErrors(e,s){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-s)}catch{throw new P}for(let i=0;i<s;i++)e[i]=r[i]}}class _r extends Y{constructor(e,s,r){super(e,s),this.estimatedModuleSize=r}aboutEquals(e,s,r){if(Math.abs(s-this.getY())<=e&&Math.abs(r-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,s,r){const i=(this.getX()+s)/2,o=(this.getY()+e)/2,x=(this.estimatedModuleSize+r)/2;return new _r(i,o,x)}}class Tn{constructor(e,s,r,i,o,x,d){this.image=e,this.startX=s,this.startY=r,this.width=i,this.height=o,this.moduleSize=x,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,s=this.height,r=this.width,i=e+r,o=this.startY+s/2,x=new Int32Array(3),d=this.image;for(let u=0;u<s;u++){const E=o+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));x[0]=0,x[1]=0,x[2]=0;let m=e;for(;m<i&&!d.get(m,E);)m++;let B=0;for(;m<i;){if(d.get(m,E))if(B===1)x[1]++;else if(B===2){if(this.foundPatternCross(x)){const F=this.handlePossibleCenter(x,E,m);if(F!==null)return F}x[0]=x[2],x[1]=1,x[2]=0,B=1}else x[++B]++;else B===1&&B++,x[B]++;m++}if(this.foundPatternCross(x)){const F=this.handlePossibleCenter(x,E,i);if(F!==null)return F}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j}static centerFromEnd(e,s){return s-e[2]-e[1]/2}foundPatternCross(e){const s=this.moduleSize,r=s/2;for(let i=0;i<3;i++)if(Math.abs(s-e[i])>=r)return!1;return!0}crossCheckVertical(e,s,r,i){const o=this.image,x=o.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let u=e;for(;u>=0&&o.get(s,u)&&d[1]<=r;)d[1]++,u--;if(u<0||d[1]>r)return NaN;for(;u>=0&&!o.get(s,u)&&d[0]<=r;)d[0]++,u--;if(d[0]>r)return NaN;for(u=e+1;u<x&&o.get(s,u)&&d[1]<=r;)d[1]++,u++;if(u===x||d[1]>r)return NaN;for(;u<x&&!o.get(s,u)&&d[2]<=r;)d[2]++,u++;if(d[2]>r)return NaN;const E=d[0]+d[1]+d[2];return 5*Math.abs(E-i)>=2*i?NaN:this.foundPatternCross(d)?Tn.centerFromEnd(d,u):NaN}handlePossibleCenter(e,s,r){const i=e[0]+e[1]+e[2],o=Tn.centerFromEnd(e,r),x=this.crossCheckVertical(s,o,2*e[1],i);if(!isNaN(x)){const d=(e[0]+e[1]+e[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(d,x,o))return E.combineEstimate(x,o,d);const u=new _r(o,x,d);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class kr extends Y{constructor(e,s,r,i){super(e,s),this.estimatedModuleSize=r,this.count=i,i===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,s,r){if(Math.abs(s-this.getY())<=e&&Math.abs(r-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,s,r){const i=this.count+1,o=(this.count*this.getX()+s)/i,x=(this.count*this.getY()+e)/i,d=(this.count*this.estimatedModuleSize+r)/i;return new kr(o,x,d,i)}}class _l{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ut{constructor(e,s){this.image=e,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const s=e!=null&&e.get(H.TRY_HARDER)!==void 0,r=e!=null&&e.get(H.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),x=i.getWidth();let d=Math.floor(3*o/(4*Ut.MAX_MODULES));(d<Ut.MIN_SKIP||s)&&(d=Ut.MIN_SKIP);let u=!1;const E=new Int32Array(5);for(let B=d-1;B<o&&!u;B+=d){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let F=0;for(let k=0;k<x;k++)if(i.get(k,B))(F&1)===1&&F++,E[F]++;else if((F&1)===0)if(F===4)if(Ut.foundPatternCross(E)){if(this.handlePossibleCenter(E,B,k,r)===!0)if(d=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>E[2]&&(B+=L-E[2]-d,k=x-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,F=3;continue}F=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,F=3;else E[++F]++;else E[F]++;Ut.foundPatternCross(E)&&this.handlePossibleCenter(E,B,x,r)===!0&&(d=E[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const m=this.selectBestPatterns();return Y.orderBestPatterns(m),new _l(m)}static centerFromEnd(e,s){return s-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let s=0;for(let o=0;o<5;o++){const x=e[o];if(x===0)return!1;s+=x}if(s<7)return!1;const r=s/7,i=r/2;return Math.abs(r-e[0])<i&&Math.abs(r-e[1])<i&&Math.abs(3*r-e[2])<3*i&&Math.abs(r-e[3])<i&&Math.abs(r-e[4])<i}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,s,r,i){const o=this.getCrossCheckStateCount();let x=0;const d=this.image;for(;e>=x&&s>=x&&d.get(s-x,e-x);)o[2]++,x++;if(e<x||s<x)return!1;for(;e>=x&&s>=x&&!d.get(s-x,e-x)&&o[1]<=r;)o[1]++,x++;if(e<x||s<x||o[1]>r)return!1;for(;e>=x&&s>=x&&d.get(s-x,e-x)&&o[0]<=r;)o[0]++,x++;if(o[0]>r)return!1;const u=d.getHeight(),E=d.getWidth();for(x=1;e+x<u&&s+x<E&&d.get(s+x,e+x);)o[2]++,x++;if(e+x>=u||s+x>=E)return!1;for(;e+x<u&&s+x<E&&!d.get(s+x,e+x)&&o[3]<r;)o[3]++,x++;if(e+x>=u||s+x>=E||o[3]>=r)return!1;for(;e+x<u&&s+x<E&&d.get(s+x,e+x)&&o[4]<r;)o[4]++,x++;if(o[4]>=r)return!1;const m=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(m-i)<2*i&&Ut.foundPatternCross(o)}crossCheckVertical(e,s,r,i){const o=this.image,x=o.getHeight(),d=this.getCrossCheckStateCount();let u=e;for(;u>=0&&o.get(s,u);)d[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(s,u)&&d[1]<=r;)d[1]++,u--;if(u<0||d[1]>r)return NaN;for(;u>=0&&o.get(s,u)&&d[0]<=r;)d[0]++,u--;if(d[0]>r)return NaN;for(u=e+1;u<x&&o.get(s,u);)d[2]++,u++;if(u===x)return NaN;for(;u<x&&!o.get(s,u)&&d[3]<r;)d[3]++,u++;if(u===x||d[3]>=r)return NaN;for(;u<x&&o.get(s,u)&&d[4]<r;)d[4]++,u++;if(d[4]>=r)return NaN;const E=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(E-i)>=2*i?NaN:Ut.foundPatternCross(d)?Ut.centerFromEnd(d,u):NaN}crossCheckHorizontal(e,s,r,i){const o=this.image,x=o.getWidth(),d=this.getCrossCheckStateCount();let u=e;for(;u>=0&&o.get(u,s);)d[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,s)&&d[1]<=r;)d[1]++,u--;if(u<0||d[1]>r)return NaN;for(;u>=0&&o.get(u,s)&&d[0]<=r;)d[0]++,u--;if(d[0]>r)return NaN;for(u=e+1;u<x&&o.get(u,s);)d[2]++,u++;if(u===x)return NaN;for(;u<x&&!o.get(u,s)&&d[3]<r;)d[3]++,u++;if(u===x||d[3]>=r)return NaN;for(;u<x&&o.get(u,s)&&d[4]<r;)d[4]++,u++;if(d[4]>=r)return NaN;const E=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(E-i)>=i?NaN:Ut.foundPatternCross(d)?Ut.centerFromEnd(d,u):NaN}handlePossibleCenter(e,s,r,i){const o=e[0]+e[1]+e[2]+e[3]+e[4];let x=Ut.centerFromEnd(e,r),d=this.crossCheckVertical(s,Math.floor(x),e[2],o);if(!isNaN(d)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(d),e[2],o),!isNaN(x)&&(!i||this.crossCheckDiagonal(Math.floor(d),Math.floor(x),e[2],o)))){const u=o/7;let E=!1;const m=this.possibleCenters;for(let B=0,F=m.length;B<F;B++){const k=m[B];if(k.aboutEquals(u,d,x)){m[B]=k.combineEstimate(d,x,u),E=!0;break}}if(!E){const B=new kr(x,d,u);m.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const r of this.possibleCenters)if(r.getCount()>=Ut.CENTER_QUORUM)if(s==null)s=r;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-r.getX())-Math.abs(s.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,s=0;const r=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=Ut.CENTER_QUORUM&&(e++,s+=x.getEstimatedModuleSize());if(e<3)return!1;const i=s/r;let o=0;for(const x of this.possibleCenters)o+=Math.abs(x.getEstimatedModuleSize()-i);return o<=.05*s}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new j;const s=this.possibleCenters;let r;if(e>3){let i=0,o=0;for(const u of this.possibleCenters){const E=u.getEstimatedModuleSize();i+=E,o+=E*E}r=i/e;let x=Math.sqrt(o/e-r*r);s.sort((u,E)=>{const m=Math.abs(E.getEstimatedModuleSize()-r),B=Math.abs(u.getEstimatedModuleSize()-r);return m<B?-1:m>B?1:0});const d=Math.max(.2*r,x);for(let u=0;u<s.length&&s.length>3;u++){const E=s[u];Math.abs(E.getEstimatedModuleSize()-r)>d&&(s.splice(u,1),u--)}}if(s.length>3){let i=0;for(const o of s)i+=o.getEstimatedModuleSize();r=i/s.length,s.sort((o,x)=>{if(x.getCount()===o.getCount()){const d=Math.abs(x.getEstimatedModuleSize()-r),u=Math.abs(o.getEstimatedModuleSize()-r);return d<u?1:d>u?-1:0}else return x.getCount()-o.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Ut.CENTER_QUORUM=2,Ut.MIN_SKIP=3,Ut.MAX_MODULES=57;class zs{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(H.NEED_RESULT_POINT_CALLBACK);const r=new Ut(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const s=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(s,r,i);if(o<1)throw new j("No pattern found in proccess finder.");const x=zs.computeDimension(s,r,i,o),d=Ne.getProvisionalVersionForDimension(x),u=d.getDimensionForVersion()-7;let E=null;if(d.getAlignmentPatternCenters().length>0){const k=r.getX()-s.getX()+i.getX(),M=r.getY()-s.getY()+i.getY(),L=1-3/u,K=Math.floor(s.getX()+L*(k-s.getX())),Q=Math.floor(s.getY()+L*(M-s.getY()));for(let Ee=4;Ee<=16;Ee<<=1)try{E=this.findAlignmentInRegion(o,K,Q,Ee);break}catch(Ce){if(!(Ce instanceof j))throw Ce}}const m=zs.createTransform(s,r,i,E,x),B=zs.sampleGrid(this.image,m,x);let F;return E===null?F=[i,s,r]:F=[i,s,r,E],new Oe(B,F)}static createTransform(e,s,r,i,o){const x=o-3.5;let d,u,E,m;return i!==null?(d=i.getX(),u=i.getY(),E=x-3,m=E):(d=s.getX()-e.getX()+r.getX(),u=s.getY()-e.getY()+r.getY(),E=x,m=x),Xe.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,E,m,3.5,x,e.getX(),e.getY(),s.getX(),s.getY(),d,u,r.getX(),r.getY())}static sampleGrid(e,s,r){return tt.getInstance().sampleGridWithTransform(e,r,r,s)}static computeDimension(e,s,r,i){const o=oe.round(Y.distance(e,s)/i),x=oe.round(Y.distance(e,r)/i);let d=Math.floor((o+x)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new j("Dimensions could be not found.")}return d}calculateModuleSize(e,s,r){return(this.calculateModuleSizeOneWay(e,s)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,s){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(s.getX()),Math.floor(s.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14}sizeOfBlackWhiteBlackRunBothWays(e,s,r,i){let o=this.sizeOfBlackWhiteBlackRun(e,s,r,i),x=1,d=e-(r-e);d<0?(x=e/(e-d),d=0):d>=this.image.getWidth()&&(x=(this.image.getWidth()-1-e)/(d-e),d=this.image.getWidth()-1);let u=Math.floor(s-(i-s)*x);return x=1,u<0?(x=s/(s-u),u=0):u>=this.image.getHeight()&&(x=(this.image.getHeight()-1-s)/(u-s),u=this.image.getHeight()-1),d=Math.floor(e+(d-e)*x),o+=this.sizeOfBlackWhiteBlackRun(e,s,d,u),o-1}sizeOfBlackWhiteBlackRun(e,s,r,i){const o=Math.abs(i-s)>Math.abs(r-e);if(o){let k=e;e=s,s=k,k=r,r=i,i=k}const x=Math.abs(r-e),d=Math.abs(i-s);let u=-x/2;const E=e<r?1:-1,m=s<i?1:-1;let B=0;const F=r+E;for(let k=e,M=s;k!==F;k+=E){const L=o?M:k,K=o?k:M;if(B===1===this.image.get(L,K)){if(B===2)return oe.distance(k,M,e,s);B++}if(u+=d,u>0){if(M===i)break;M+=m,u-=x}}return B===2?oe.distance(r+E,i,e,s):NaN}findAlignmentInRegion(e,s,r,i){const o=Math.floor(i*e),x=Math.max(0,s-o),d=Math.min(this.image.getWidth()-1,s+o);if(d-x<e*3)throw new j("Alignment top exceeds estimated module size.");const u=Math.max(0,r-o),E=Math.min(this.image.getHeight()-1,r+o);if(E-u<e*3)throw new j("Alignment bottom exceeds estimated module size.");return new Tn(this.image,x,u,d-x,E-u,e,this.resultPointCallback).find()}}class es{constructor(){this.decoder=new vl}getDecoder(){return this.decoder}decode(e,s){let r,i;if(s!=null&&s.get(H.PURE_BARCODE)!==void 0){const u=es.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(u,s),i=es.NO_POINTS}else{const u=new zs(e.getBlackMatrix()).detect(s);r=this.decoder.decodeBitMatrix(u.getBits(),s),i=u.getPoints()}r.getOther()instanceof Ri&&r.getOther().applyMirroredCorrection(i);const o=new Te(r.getText(),r.getRawBytes(),void 0,i,De.QR_CODE,void 0),x=r.getByteSegments();x!==null&&o.putMetadata(ge.BYTE_SEGMENTS,x);const d=r.getECLevel();return d!==null&&o.putMetadata(ge.ERROR_CORRECTION_LEVEL,d),r.hasStructuredAppend()&&(o.putMetadata(ge.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(ge.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const s=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(s===null||r===null)throw new j;const i=this.moduleSize(s,e);let o=s[1],x=r[1],d=s[0],u=r[0];if(d>=u||o>=x)throw new j;if(x-o!==u-d&&(u=d+(x-o),u>=e.getWidth()))throw new j;const E=Math.round((u-d+1)/i),m=Math.round((x-o+1)/i);if(E<=0||m<=0)throw new j;if(m!==E)throw new j;const B=Math.floor(i/2);o+=B,d+=B;const F=d+Math.floor((E-1)*i)-u;if(F>0){if(F>B)throw new j;d-=F}const k=o+Math.floor((m-1)*i)-x;if(k>0){if(k>B)throw new j;o-=k}const M=new Fe(E,m);for(let L=0;L<m;L++){const K=o+Math.floor(L*i);for(let Q=0;Q<E;Q++)e.get(d+Math.floor(Q*i),K)&&M.set(Q,L)}return M}static moduleSize(e,s){const r=s.getHeight(),i=s.getWidth();let o=e[0],x=e[1],d=!0,u=0;for(;o<i&&x<r;){if(d!==s.get(o,x)){if(++u===5)break;d=!d}o++,x++}if(o===i||x===r)throw new j;return(o-e[0])/7}}es.NO_POINTS=new Array;class Ge{PDF417Common(){}static getBitCountSum(e){return oe.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ge.EMPTY_INT_ARRAY;const s=new Int32Array(e.length);let r=0;for(const i of e)s[r++]=i;return s}static getCodeword(e){const s=te.binarySearch(Ge.SYMBOL_TABLE,e&262143);return s<0?-1:(Ge.CODEWORD_TABLE[s]-1)%Ge.NUMBER_OF_CODEWORDS}}Ge.NUMBER_OF_CODEWORDS=929,Ge.MAX_CODEWORDS_IN_BARCODE=Ge.NUMBER_OF_CODEWORDS-1,Ge.MIN_ROWS_IN_BARCODE=3,Ge.MAX_ROWS_IN_BARCODE=90,Ge.MODULES_IN_CODEWORD=17,Ge.MODULES_IN_STOP_PATTERN=18,Ge.BARS_IN_MODULE=8,Ge.EMPTY_INT_ARRAY=new Int32Array([]),Ge.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ge.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class kl{constructor(e,s){this.bits=e,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class $e{static detectMultiple(e,s,r){let i=e.getBlackMatrix(),o=$e.detect(r,i);return o.length||(i=i.clone(),i.rotate180(),o=$e.detect(r,i)),new kl(i,o)}static detect(e,s){const r=new Array;let i=0,o=0,x=!1;for(;i<s.getHeight();){const d=$e.findVertices(s,i,o);if(d[0]==null&&d[3]==null){if(!x)break;x=!1,o=0;for(const u of r)u[1]!=null&&(i=Math.trunc(Math.max(i,u[1].getY()))),u[3]!=null&&(i=Math.max(i,Math.trunc(u[3].getY())));i+=$e.ROW_STEP;continue}if(x=!0,r.push(d),!e)break;d[2]!=null?(o=Math.trunc(d[2].getX()),i=Math.trunc(d[2].getY())):(o=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY()))}return r}static findVertices(e,s,r){const i=e.getHeight(),o=e.getWidth(),x=new Array(8);return $e.copyToResult(x,$e.findRowsWithPattern(e,i,o,s,r,$e.START_PATTERN),$e.INDEXES_START_PATTERN),x[4]!=null&&(r=Math.trunc(x[4].getX()),s=Math.trunc(x[4].getY())),$e.copyToResult(x,$e.findRowsWithPattern(e,i,o,s,r,$e.STOP_PATTERN),$e.INDEXES_STOP_PATTERN),x}static copyToResult(e,s,r){for(let i=0;i<r.length;i++)e[r[i]]=s[i]}static findRowsWithPattern(e,s,r,i,o,x){const d=new Array(4);let u=!1;const E=new Int32Array(x.length);for(;i<s;i+=$e.ROW_STEP){let B=$e.findGuardPattern(e,o,i,r,!1,x,E);if(B!=null){for(;i>0;){const F=$e.findGuardPattern(e,o,--i,r,!1,x,E);if(F!=null)B=F;else{i++;break}}d[0]=new Y(B[0],i),d[1]=new Y(B[1],i),u=!0;break}}let m=i+1;if(u){let B=0,F=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;m<s;m++){const k=$e.findGuardPattern(e,F[0],m,r,!1,x,E);if(k!=null&&Math.abs(F[0]-k[0])<$e.MAX_PATTERN_DRIFT&&Math.abs(F[1]-k[1])<$e.MAX_PATTERN_DRIFT)F=k,B=0;else{if(B>$e.SKIPPED_ROW_COUNT_MAX)break;B++}}m-=B+1,d[2]=new Y(F[0],m),d[3]=new Y(F[1],m)}return m-i<$e.BARCODE_MIN_HEIGHT&&te.fill(d,null),d}static findGuardPattern(e,s,r,i,o,x,d){te.fillWithin(d,0,d.length,0);let u=s,E=0;for(;e.get(u,r)&&u>0&&E++<$e.MAX_PIXEL_DRIFT;)u--;let m=u,B=0,F=x.length;for(let k=o;m<i;m++)if(e.get(m,r)!==k)d[B]++;else{if(B===F-1){if($e.patternMatchVariance(d,x,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return new Int32Array([u,m]);u+=d[0]+d[1],z.arraycopy(d,2,d,0,B-1),d[B-1]=0,d[B]=0,B--}else B++;d[B]=1,k=!k}return B===F-1&&$e.patternMatchVariance(d,x,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE?new Int32Array([u,m-1]):null}static patternMatchVariance(e,s,r){let i=e.length,o=0,x=0;for(let E=0;E<i;E++)o+=e[E],x+=s[E];if(o<x)return 1/0;let d=o/x;r*=d;let u=0;for(let E=0;E<i;E++){let m=e[E],B=s[E]*d,F=m>B?m-B:B-m;if(F>r)return 1/0;u+=F}return u/o}}$e.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$e.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$e.MAX_AVG_VARIANCE=.42,$e.MAX_INDIVIDUAL_VARIANCE=.8,$e.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$e.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$e.MAX_PIXEL_DRIFT=3,$e.MAX_PATTERN_DRIFT=5,$e.SKIPPED_ROW_COUNT_MAX=25,$e.ROW_STEP=5,$e.BARCODE_MIN_HEIGHT=10;class Vt{constructor(e,s){if(s.length===0)throw new b;this.field=e;let r=s.length;if(r>1&&s[0]===0){let i=1;for(;i<r&&s[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),z.arraycopy(s,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let i=0;for(let o of this.coefficients)i=this.field.add(i,o);return i}let s=this.coefficients[0],r=this.coefficients.length;for(let i=1;i<r;i++)s=this.field.add(this.field.multiply(e,s),this.coefficients[i]);return s}add(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let s=this.coefficients,r=e.coefficients;if(s.length>r.length){let x=s;s=r,r=x}let i=new Int32Array(r.length),o=r.length-s.length;z.arraycopy(r,0,i,0,o);for(let x=o;x<r.length;x++)i[x]=this.field.add(s[x-o],r[x]);return new Vt(this.field,i)}subtract(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Vt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Vt(this.field,new Int32Array([0]));let s=this.coefficients,r=s.length,i=e.coefficients,o=i.length,x=new Int32Array(r+o-1);for(let d=0;d<r;d++){let u=s[d];for(let E=0;E<o;E++)x[d+E]=this.field.add(x[d+E],this.field.multiply(u,i[E]))}return new Vt(this.field,x)}negative(){let e=this.coefficients.length,s=new Int32Array(e);for(let r=0;r<e;r++)s[r]=this.field.subtract(0,this.coefficients[r]);return new Vt(this.field,s)}multiplyScalar(e){if(e===0)return new Vt(this.field,new Int32Array([0]));if(e===1)return this;let s=this.coefficients.length,r=new Int32Array(s);for(let i=0;i<s;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new Vt(this.field,r)}multiplyByMonomial(e,s){if(e<0)throw new b;if(s===0)return new Vt(this.field,new Int32Array([0]));let r=this.coefficients.length,i=new Int32Array(r+e);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],s);return new Vt(this.field,i)}toString(){let e=new Be;for(let s=this.getDegree();s>=0;s--){let r=this.getCoefficient(s);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(s===0||r!==1)&&e.append(r),s!==0&&(s===1?e.append("x"):(e.append("x^"),e.append(s))))}return e.toString()}}class Il{add(e,s){return(e+s)%this.modulus}subtract(e,s){return(this.modulus+e-s)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}inverse(e){if(e===0)throw new R;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,s){return e===0||s===0?0:this.expTable[(this.logTable[e]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ir extends Il{constructor(e,s){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let i=0;i<e;i++)this.expTable[i]=r,r=r*s%e;for(let i=0;i<e-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,s){if(e<0)throw new b;if(s===0)return this.zero;let r=new Int32Array(e+1);return r[0]=s,new Vt(this,r)}}Ir.PDF417_GF=new Ir(Ge.NUMBER_OF_CODEWORDS,3);class Ni{constructor(){this.field=Ir.PDF417_GF}decode(e,s,r){let i=new Vt(this.field,e),o=new Int32Array(s),x=!1;for(let M=s;M>0;M--){let L=i.evaluateAt(this.field.exp(M));o[s-M]=L,L!==0&&(x=!0)}if(!x)return 0;let d=this.field.getOne();if(r!=null)for(const M of r){let L=this.field.exp(e.length-1-M),K=new Vt(this.field,new Int32Array([this.field.subtract(0,L),1]));d=d.multiply(K)}let u=new Vt(this.field,o),E=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),u,s),m=E[0],B=E[1],F=this.findErrorLocations(m),k=this.findErrorMagnitudes(B,m,F);for(let M=0;M<F.length;M++){let L=e.length-1-this.field.log(F[M]);if(L<0)throw P.getChecksumInstance();e[L]=this.field.subtract(e[L],k[M])}return F.length}runEuclideanAlgorithm(e,s,r){if(e.getDegree()<s.getDegree()){let F=e;e=s,s=F}let i=e,o=s,x=this.field.getZero(),d=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let F=i,k=x;if(i=o,x=d,i.isZero())throw P.getChecksumInstance();o=F;let M=this.field.getZero(),L=i.getCoefficient(i.getDegree()),K=this.field.inverse(L);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){let Q=o.getDegree()-i.getDegree(),Ee=this.field.multiply(o.getCoefficient(o.getDegree()),K);M=M.add(this.field.buildMonomial(Q,Ee)),o=o.subtract(i.multiplyByMonomial(Q,Ee))}d=M.multiply(x).subtract(k).negative()}let u=d.getCoefficient(0);if(u===0)throw P.getChecksumInstance();let E=this.field.inverse(u),m=d.multiply(E),B=o.multiply(E);return[m,B]}findErrorLocations(e){let s=e.getDegree(),r=new Int32Array(s),i=0;for(let o=1;o<this.field.getSize()&&i<s;o++)e.evaluateAt(o)===0&&(r[i]=this.field.inverse(o),i++);if(i!==s)throw P.getChecksumInstance();return r}findErrorMagnitudes(e,s,r){let i=s.getDegree(),o=new Int32Array(i);for(let E=1;E<=i;E++)o[i-E]=this.field.multiply(E,s.getCoefficient(E));let x=new Vt(this.field,o),d=r.length,u=new Int32Array(d);for(let E=0;E<d;E++){let m=this.field.inverse(r[E]),B=this.field.subtract(0,e.evaluateAt(m)),F=this.field.inverse(x.evaluateAt(m));u[E]=this.field.multiply(B,F)}return u}}class hs{constructor(e,s,r,i,o){e instanceof hs?this.constructor_2(e):this.constructor_1(e,s,r,i,o)}constructor_1(e,s,r,i,o){const x=s==null||r==null,d=i==null||o==null;if(x&&d)throw new j;x?(s=new Y(0,i.getY()),r=new Y(0,o.getY())):d&&(i=new Y(e.getWidth()-1,s.getY()),o=new Y(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=s,this.bottomLeft=r,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(s.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(s.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,s){return e==null?s:s==null?e:new hs(e.image,e.topLeft,e.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(e,s,r){let i=this.topLeft,o=this.bottomLeft,x=this.topRight,d=this.bottomRight;if(e>0){let u=r?this.topLeft:this.topRight,E=Math.trunc(u.getY()-e);E<0&&(E=0);let m=new Y(u.getX(),E);r?i=m:x=m}if(s>0){let u=r?this.bottomLeft:this.bottomRight,E=Math.trunc(u.getY()+s);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let m=new Y(u.getX(),E);r?o=m:d=m}return new hs(this.image,i,o,x,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Sl{constructor(e,s,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=s,this.rowCountLowerPart=r,this.rowCount=s+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ys{constructor(){this.buffer=""}static form(e,s){let r=-1;function i(x,d,u,E,m,B){if(x==="%%")return"%";if(s[++r]===void 0)return;x=E?parseInt(E.substr(1)):void 0;let F=m?parseInt(m.substr(1)):void 0,k;switch(B){case"s":k=s[r];break;case"c":k=s[r][0];break;case"f":k=parseFloat(s[r]).toFixed(x);break;case"p":k=parseFloat(s[r]).toPrecision(x);break;case"e":k=parseFloat(s[r]).toExponential(x);break;case"x":k=parseInt(s[r]).toString(F||16);break;case"d":k=parseFloat(parseInt(s[r],F||10).toPrecision(x)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(F);let M=parseInt(u),L=u&&u[0]+""=="0"?"0":" ";for(;k.length<M;)k=d!==void 0?k+L:L+k;return k}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)}format(e,...s){this.buffer+=Ys.form(e,s)}toString(){return this.buffer}}class Ks{constructor(e){this.boundingBox=new hs(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let s=this.getCodeword(e);if(s!=null)return s;for(let r=1;r<Ks.MAX_NEARBY_DISTANCE;r++){let i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(s=this.codewords[i],s!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(s=this.codewords[i],s!=null)))return s}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,s){this.codewords[this.imageRowToCodewordIndex(e)]=s}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ys;let s=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",s++);continue}e.format("%3d: %3d|%3d%n",s++,r.getRowNumber(),r.getValue())}return e.toString()}}Ks.MAX_NEARBY_DISTANCE=5;class Zs{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let s=this.values.get(e);s==null&&(s=0),s++,this.values.set(e,s)}getValue(){let e=-1,s=new Array;for(const[r,i]of this.values.entries()){const o={getKey:()=>r,getValue:()=>i};o.getValue()>e?(e=o.getValue(),s=[],s.push(o.getKey())):o.getValue()===e&&s.push(o.getKey())}return Ge.toIntArray(s)}getConfidence(e){return this.values.get(e)}}class Oi extends Ks{constructor(e,s){super(e),this._isLeft=s}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,e);let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,E=1,m=0;for(let B=x;B<d;B++){if(s[B]==null)continue;let F=s[B],k=F.getRowNumber()-u;if(k===0)m++;else if(k===1)E=Math.max(E,m),m=1,u=F.getRowNumber();else if(k<0||F.getRowNumber()>=e.getRowCount()||k>B)s[B]=null;else{let M;E>2?M=(E-2)*k:M=k;let L=M>=B;for(let K=1;K<=M&&!L;K++)L=s[B-K]!=null;L?s[B]=null:(u=F.getRowNumber(),m=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let s=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let i=r.getRowNumber();if(i>=s.length)continue;s[i]++}return s}adjustIncompleteIndicatorColumnRowNumbers(e){let s=this.getBoundingBox(),r=this._isLeft?s.getTopLeft():s.getTopRight(),i=this._isLeft?s.getBottomLeft():s.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),x=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=this.getCodewords(),u=-1;for(let E=o;E<x;E++){if(d[E]==null)continue;let m=d[E];m.setRowNumberAsRowIndicatorColumn();let B=m.getRowNumber()-u;B===0||(B===1?u=m.getRowNumber():m.getRowNumber()>=e.getRowCount()?d[E]=null:u=m.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),s=new Zs,r=new Zs,i=new Zs,o=new Zs;for(let d of e){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let u=d.getValue()%30,E=d.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:r.setValue(u*3+1);break;case 1:o.setValue(u/3),i.setValue(u%3);break;case 2:s.setValue(u+1);break}}if(s.getValue().length===0||r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||s.getValue()[0]<1||r.getValue()[0]+i.getValue()[0]<Ge.MIN_ROWS_IN_BARCODE||r.getValue()[0]+i.getValue()[0]>Ge.MAX_ROWS_IN_BARCODE)return null;let x=new Sl(s.getValue()[0],r.getValue()[0],i.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,x),x}removeIncorrectCodewords(e,s){for(let r=0;r<e.length;r++){let i=e[r];if(e[r]==null)continue;let o=i.getValue()%30,x=i.getRowNumber();if(x>s.getRowCount()){e[r]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:o*3+1!==s.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==s.getErrorCorrectionLevel()||o%3!==s.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==s.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class qs{constructor(e,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ge.MAX_CODEWORDS_IN_BARCODE,s;do s=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let r=this.detectionResultColumns[s].getCodewords();for(let i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(s,i,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&s[r]!=null&&e[r].getRowNumber()===s[r].getRowNumber())for(let i=1;i<=this.barcodeColumnCount;i++){let o=this.detectionResultColumns[i].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<s.length;r++){if(s[r]==null)continue;let i=s[r].getRowNumber(),o=0;for(let x=this.barcodeColumnCount+1;x>0&&o<this.ADJUST_ROW_NUMBER_SKIP;x--){let d=this.detectionResultColumns[x].getCodewords()[r];d!=null&&(o=qs.adjustRowNumberIfValid(i,o,d),d.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,s=this.detectionResultColumns[0].getCodewords();for(let r=0;r<s.length;r++){if(s[r]==null)continue;let i=s[r].getRowNumber(),o=0;for(let x=1;x<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;x++){let d=this.detectionResultColumns[x].getCodewords()[r];d!=null&&(o=qs.adjustRowNumberIfValid(i,o,d),d.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,s,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),s=0):++s),s}adjustRowNumbers(e,s,r){if(!this.detectionResultColumns[e-1])return;let i=r[s],o=this.detectionResultColumns[e-1].getCodewords(),x=o;this.detectionResultColumns[e+1]!=null&&(x=this.detectionResultColumns[e+1].getCodewords());let d=new Array(14);d[2]=o[s],d[3]=x[s],s>0&&(d[0]=r[s-1],d[4]=o[s-1],d[5]=x[s-1]),s>1&&(d[8]=r[s-2],d[10]=o[s-2],d[11]=x[s-2]),s<r.length-1&&(d[1]=r[s+1],d[6]=o[s+1],d[7]=x[s+1]),s<r.length-2&&(d[9]=r[s+2],d[12]=o[s+2],d[13]=x[s+2]);for(let u of d)if(qs.adjustRowNumber(i,u))return}static adjustRowNumber(e,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===e.getBucket()?(e.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,s){this.detectionResultColumns[e]=s}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Ys;for(let r=0;r<e.getCodewords().length;r++){s.format("CW %3d:",r);for(let i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){s.format("    |   ");continue}let o=this.detectionResultColumns[i].getCodewords()[r];if(o==null){s.format("    |   ");continue}s.format(" %3d|%3d",o.getRowNumber(),o.getValue())}s.format("%n")}return s.toString()}}class Qs{constructor(e,s,r,i){this.rowNumber=Qs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(s),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Qs.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Qs.BARCODE_ROW_UNKNOWN=-1;class r0{static initialize(){for(let e=0;e<Ge.SYMBOL_TABLE.length;e++){let s=Ge.SYMBOL_TABLE[e],r=s&1;for(let i=0;i<Ge.BARS_IN_MODULE;i++){let o=0;for(;(s&1)===r;)o+=1,s>>=1;r=s&1,r0.RATIOS_TABLE[e]||(r0.RATIOS_TABLE[e]=new Array(Ge.BARS_IN_MODULE)),r0.RATIOS_TABLE[e][Ge.BARS_IN_MODULE-i-1]=Math.fround(o/Ge.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let s=r0.getDecodedCodewordValue(r0.sampleBitCounts(e));return s!==-1?s:r0.getClosestDecodedValue(e)}static sampleBitCounts(e){let s=oe.sum(e),r=new Int32Array(Ge.BARS_IN_MODULE),i=0,o=0;for(let x=0;x<Ge.MODULES_IN_CODEWORD;x++){let d=s/(2*Ge.MODULES_IN_CODEWORD)+x*s/Ge.MODULES_IN_CODEWORD;o+e[i]<=d&&(o+=e[i],i++),r[i]++}return r}static getDecodedCodewordValue(e){let s=r0.getBitValue(e);return Ge.getCodeword(s)===-1?-1:s}static getBitValue(e){let s=0;for(let r=0;r<e.length;r++)for(let i=0;i<e[r];i++)s=s<<1|(r%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(e){let s=oe.sum(e),r=new Array(Ge.BARS_IN_MODULE);if(s>1)for(let x=0;x<r.length;x++)r[x]=Math.fround(e[x]/s);let i=pe.MAX_VALUE,o=-1;this.bSymbolTableReady||r0.initialize();for(let x=0;x<r0.RATIOS_TABLE.length;x++){let d=0,u=r0.RATIOS_TABLE[x];for(let E=0;E<Ge.BARS_IN_MODULE;E++){let m=Math.fround(u[E]-r[E]);if(d+=Math.fround(m*m),d>=i)break}d<i&&(i=d,o=Ge.SYMBOL_TABLE[x])}return o}}r0.bSymbolTableReady=!1,r0.RATIOS_TABLE=new Array(Ge.SYMBOL_TABLE.length).map(p=>new Array(Ge.BARS_IN_MODULE));class Mi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Li{static parseLong(e,s=void 0){return parseInt(e,s)}}class Ui extends A{}Ui.kind="NullPointerException";class Tl{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,s,r){if(e==null)throw new Ui;if(s<0||s>e.length||r<0||s+r>e.length||s+r<0)throw new $;if(r===0)return;for(let i=0;i<r;i++)this.write(e[s+i])}flush(){}close(){}}class Pl extends A{}class Rl extends Tl{constructor(e=32){if(super(),this.count=0,e<0)throw new b("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new Pl;r=U.MAX_VALUE}this.buf=te.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,s,r){if(s<0||s>e.length||r<0||s+r-e.length>0)throw new $;this.ensureCapacity(this.count+r),z.arraycopy(e,s,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return te.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ct;(function(p){p[p.ALPHA=0]="ALPHA",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.PUNCT=3]="PUNCT",p[p.ALPHA_SHIFT=4]="ALPHA_SHIFT",p[p.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function ji(){if(typeof window<"u")return window.BigInt||null;if(typeof Vn<"u")return Vn.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Pn;function ts(p){if(typeof Pn>"u"&&(Pn=ji()),Pn===null)throw new Error("BigInt is not supported!");return Pn(p)}function Nl(){let p=[];p[0]=ts(1);let e=ts(900);p[1]=e;for(let s=2;s<16;s++)p[s]=p[s-1]*e;return p}class q{static decode(e,s){let r=new Be(""),i=W.ISO8859_1;r.enableDecoding(i);let o=1,x=e[o++],d=new Mi;for(;o<e[0];){switch(x){case q.TEXT_COMPACTION_MODE_LATCH:o=q.textCompaction(e,o,r);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:o=q.byteCompaction(x,e,i,o,r);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:o=q.numericCompaction(e,o,r);break;case q.ECI_CHARSET:W.getCharacterSetECIByValue(e[o++]);break;case q.ECI_GENERAL_PURPOSE:o+=2;break;case q.ECI_USER_DEFINED:o++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=q.decodeMacroBlock(e,o,d);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new N;default:o--,o=q.textCompaction(e,o,r);break}if(o<e.length)x=e[o++];else throw N.getFormatInstance()}if(r.length()===0)throw N.getFormatInstance();let u=new me(null,r.toString(),null,s);return u.setOther(d),u}static decodeMacroBlock(e,s,r){if(s+q.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw N.getFormatInstance();let i=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<q.NUMBER_OF_SEQUENCE_CODEWORDS;d++,s++)i[d]=e[s];r.setSegmentIndex(U.parseInt(q.decodeBase900toBase10(i,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Be;s=q.textCompaction(e,s,o),r.setFileId(o.toString());let x=-1;for(e[s]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=s+1);s<e[0];)switch(e[s]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,e[s]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new Be;s=q.textCompaction(e,s+1,d),r.setFileName(d.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new Be;s=q.textCompaction(e,s+1,u),r.setSender(u.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new Be;s=q.textCompaction(e,s+1,E),r.setAddressee(E.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let m=new Be;s=q.numericCompaction(e,s+1,m),r.setSegmentCount(U.parseInt(m.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new Be;s=q.numericCompaction(e,s+1,B),r.setTimestamp(Li.parseLong(B.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let F=new Be;s=q.numericCompaction(e,s+1,F),r.setChecksum(U.parseInt(F.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new Be;s=q.numericCompaction(e,s+1,k),r.setFileSize(Li.parseLong(k.toString()));break;default:throw N.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:s++,r.setLastSegment(!0);break;default:throw N.getFormatInstance()}if(x!==-1){let d=s-x;r.isLastSegment()&&d--,r.setOptionalData(te.copyOfRange(e,x,x+d))}return s}static textCompaction(e,s,r){let i=new Int32Array((e[0]-s)*2),o=new Int32Array((e[0]-s)*2),x=0,d=!1;for(;s<e[0]&&!d;){let u=e[s++];if(u<q.TEXT_COMPACTION_MODE_LATCH)i[x]=u/30,i[x+1]=u%30,x+=2;else switch(u){case q.TEXT_COMPACTION_MODE_LATCH:i[x++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,d=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[x]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[s++],o[x]=u,x++;break}}return q.decodeTextCompaction(i,o,x,r),s}static decodeTextCompaction(e,s,r,i){let o=Ct.ALPHA,x=Ct.ALPHA,d=0;for(;d<r;){let u=e[d],E="";switch(o){case Ct.ALPHA:if(u<26)E=String.fromCharCode(65+u);else switch(u){case 26:E=" ";break;case q.LL:o=Ct.LOWER;break;case q.ML:o=Ct.MIXED;break;case q.PS:x=o,o=Ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.LOWER:if(u<26)E=String.fromCharCode(97+u);else switch(u){case 26:E=" ";break;case q.AS:x=o,o=Ct.ALPHA_SHIFT;break;case q.ML:o=Ct.MIXED;break;case q.PS:x=o,o=Ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.MIXED:if(u<q.PL)E=q.MIXED_CHARS[u];else switch(u){case q.PL:o=Ct.PUNCT;break;case 26:E=" ";break;case q.LL:o=Ct.LOWER;break;case q.AL:o=Ct.ALPHA;break;case q.PS:x=o,o=Ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.PUNCT:if(u<q.PAL)E=q.PUNCT_CHARS[u];else switch(u){case q.PAL:o=Ct.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(o=x,u<26)E=String.fromCharCode(65+u);else switch(u){case 26:E=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(o=x,u<q.PAL)E=q.PUNCT_CHARS[u];else switch(u){case q.PAL:o=Ct.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(s[d]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=Ct.ALPHA;break}break}E!==""&&i.append(E),d++}}static byteCompaction(e,s,r,i,o){let x=new Rl,d=0,u=0,E=!1;switch(e){case q.BYTE_COMPACTION_MODE_LATCH:let m=new Int32Array(6),B=s[i++];for(;i<s[0]&&!E;)switch(m[d++]=B,u=900*u+B,B=s[i++],B){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,E=!0;break;default:if(d%5===0&&d>0){for(let F=0;F<6;++F)x.write(Number(ts(u)>>ts(8*(5-F))));u=0,d=0}break}i===s[0]&&B<q.TEXT_COMPACTION_MODE_LATCH&&(m[d++]=B);for(let F=0;F<d;F++)x.write(m[F]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;i<s[0]&&!E;){let F=s[i++];if(F<q.TEXT_COMPACTION_MODE_LATCH)d++,u=900*u+F;else switch(F){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,E=!0;break}if(d%5===0&&d>0){for(let k=0;k<6;++k)x.write(Number(ts(u)>>ts(8*(5-k))));u=0,d=0}}break}return o.append(Ae.decode(x.toByteArray(),r)),i}static numericCompaction(e,s,r){let i=0,o=!1,x=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;s<e[0]&&!o;){let d=e[s++];if(s===e[0]&&(o=!0),d<q.TEXT_COMPACTION_MODE_LATCH)x[i]=d,i++;else switch(d){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,o=!0;break}(i%q.MAX_NUMERIC_CODEWORDS===0||d===q.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(q.decodeBase900toBase10(x,i)),i=0)}return s}static decodeBase900toBase10(e,s){let r=ts(0);for(let o=0;o<s;o++)r+=q.EXP900[s-o-1]*ts(e[o]);let i=r.toString();if(i.charAt(0)!=="1")throw new N;return i.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=ji()?Nl():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(e,s,r,i,o,x,d){let u=new hs(e,s,r,i,o),E=null,m=null,B;for(let M=!0;;M=!1){if(s!=null&&(E=et.getRowIndicatorColumn(e,u,s,!0,x,d)),i!=null&&(m=et.getRowIndicatorColumn(e,u,i,!1,x,d)),B=et.merge(E,m),B==null)throw j.getNotFoundInstance();let L=B.getBoundingBox();if(M&&L!=null&&(L.getMinY()<u.getMinY()||L.getMaxY()>u.getMaxY()))u=L;else break}B.setBoundingBox(u);let F=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,E),B.setDetectionResultColumn(F,m);let k=E!=null;for(let M=1;M<=F;M++){let L=k?M:F-M;if(B.getDetectionResultColumn(L)!==void 0)continue;let K;L===0||L===F?K=new Oi(u,L===0):K=new Ks(u),B.setDetectionResultColumn(L,K);let Q=-1,Ee=Q;for(let Ce=u.getMinY();Ce<=u.getMaxY();Ce++){if(Q=et.getStartColumn(B,L,Ce,k),Q<0||Q>u.getMaxX()){if(Ee===-1)continue;Q=Ee}let fe=et.detectCodeword(e,u.getMinX(),u.getMaxX(),k,Q,Ce,x,d);fe!=null&&(K.setCodeword(Ce,fe),Ee=Q,x=Math.min(x,fe.getWidth()),d=Math.max(d,fe.getWidth()))}}return et.createDecoderResult(B)}static merge(e,s){if(e==null&&s==null)return null;let r=et.getBarcodeMetadata(e,s);if(r==null)return null;let i=hs.merge(et.adjustBoundingBox(e),et.adjustBoundingBox(s));return new qs(r,i)}static adjustBoundingBox(e){if(e==null)return null;let s=e.getRowHeights();if(s==null)return null;let r=et.getMax(s),i=0;for(let d of s)if(i+=r-d,d>0)break;let o=e.getCodewords();for(let d=0;i>0&&o[d]==null;d++)i--;let x=0;for(let d=s.length-1;d>=0&&(x+=r-s[d],!(s[d]>0));d--);for(let d=o.length-1;x>0&&o[d]==null;d--)x--;return e.getBoundingBox().addMissingRows(i,x,e.isLeft())}static getMax(e){let s=-1;for(let r of e)s=Math.max(s,r);return s}static getBarcodeMetadata(e,s){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let i;return s==null||(i=s.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r}static getRowIndicatorColumn(e,s,r,i,o,x){let d=new Oi(s,i);for(let u=0;u<2;u++){let E=u===0?1:-1,m=Math.trunc(Math.trunc(r.getX()));for(let B=Math.trunc(Math.trunc(r.getY()));B<=s.getMaxY()&&B>=s.getMinY();B+=E){let F=et.detectCodeword(e,0,e.getWidth(),i,m,B,o,x);F!=null&&(d.setCodeword(B,F),i?m=F.getStartX():m=F.getEndX())}}return d}static adjustCodewordCount(e,s){let r=s[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-et.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>Ge.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)}static createDecoderResult(e){let s=et.createBarcodeMatrix(e);et.adjustCodewordCount(e,s);let r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],x=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let E=0;E<e.getBarcodeColumnCount();E++){let m=s[u][E+1].getValue(),B=u*e.getBarcodeColumnCount()+E;m.length===0?r.push(B):m.length===1?i[B]=m[0]:(x.push(B),o.push(m))}let d=new Array(o.length);for(let u=0;u<d.length;u++)d[u]=o[u];return et.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Ge.toIntArray(r),Ge.toIntArray(x),d)}static createDecoderResultFromAmbiguousValues(e,s,r,i,o){let x=new Int32Array(i.length),d=100;for(;d-- >0;){for(let u=0;u<x.length;u++)s[i[u]]=o[u][x[u]];try{return et.decodeCodewords(s,e,r)}catch(u){if(!(u instanceof P))throw u}if(x.length===0)throw P.getChecksumInstance();for(let u=0;u<x.length;u++)if(x[u]<o[u].length-1){x[u]++;break}else if(x[u]=0,u===x.length-1)throw P.getChecksumInstance()}throw P.getChecksumInstance()}static createBarcodeMatrix(e){let s=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let i=0;i<s.length;i++)for(let o=0;o<s[i].length;o++)s[i][o]=new Zs;let r=0;for(let i of e.getDetectionResultColumns()){if(i!=null){for(let o of i.getCodewords())if(o!=null){let x=o.getRowNumber();if(x>=0){if(x>=s.length)continue;s[x][r].setValue(o.getValue())}}}r++}return s}static isValidBarcodeColumn(e,s){return s>=0&&s<=e.getBarcodeColumnCount()+1}static getStartColumn(e,s,r,i){let o=i?1:-1,x=null;if(et.isValidBarcodeColumn(e,s-o)&&(x=e.getDetectionResultColumn(s-o).getCodeword(r)),x!=null)return i?x.getEndX():x.getStartX();if(x=e.getDetectionResultColumn(s).getCodewordNearby(r),x!=null)return i?x.getStartX():x.getEndX();if(et.isValidBarcodeColumn(e,s-o)&&(x=e.getDetectionResultColumn(s-o).getCodewordNearby(r)),x!=null)return i?x.getEndX():x.getStartX();let d=0;for(;et.isValidBarcodeColumn(e,s-o);){s-=o;for(let u of e.getDetectionResultColumn(s).getCodewords())if(u!=null)return(i?u.getEndX():u.getStartX())+o*d*(u.getEndX()-u.getStartX());d++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,s,r,i,o,x,d,u){o=et.adjustCodewordStartColumn(e,s,r,i,o,x);let E=et.getModuleBitCount(e,s,r,i,o,x);if(E==null)return null;let m,B=oe.sum(E);if(i)m=o+B;else{for(let M=0;M<E.length/2;M++){let L=E[M];E[M]=E[E.length-1-M],E[E.length-1-M]=L}m=o,o=m-B}if(!et.checkCodewordSkew(B,d,u))return null;let F=r0.getDecodedValue(E),k=Ge.getCodeword(F);return k===-1?null:new Qs(o,m,et.getCodewordBucketNumber(F),k)}static getModuleBitCount(e,s,r,i,o,x){let d=o,u=new Int32Array(8),E=0,m=i?1:-1,B=i;for(;(i?d<r:d>=s)&&E<u.length;)e.get(d,x)===B?(u[E]++,d+=m):(E++,B=!B);return E===u.length||d===(i?r:s)&&E===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,s,r,i,o,x){let d=o,u=i?-1:1;for(let E=0;E<2;E++){for(;(i?d>=s:d<r)&&i===e.get(d,x);){if(Math.abs(o-d)>et.CODEWORD_SKEW_SIZE)return o;d+=u}u=-u,i=!i}return d}static checkCodewordSkew(e,s,r){return s-et.CODEWORD_SKEW_SIZE<=e&&e<=r+et.CODEWORD_SKEW_SIZE}static decodeCodewords(e,s,r){if(e.length===0)throw N.getFormatInstance();let i=1<<s+1,o=et.correctErrors(e,r,i);et.verifyCodewordCount(e,i);let x=q.decode(e,""+s);return x.setErrorsCorrected(o),x.setErasures(r.length),x}static correctErrors(e,s,r){if(s!=null&&s.length>r/2+et.MAX_ERRORS||r<0||r>et.MAX_EC_CODEWORDS)throw P.getChecksumInstance();return et.errorCorrection.decode(e,r,s)}static verifyCodewordCount(e,s){if(e.length<4)throw N.getFormatInstance();let r=e[0];if(r>e.length)throw N.getFormatInstance();if(r===0)if(s<e.length)e[0]=e.length-s;else throw N.getFormatInstance()}static getBitCountForCodeword(e){let s=new Int32Array(8),r=0,i=s.length-1;for(;!((e&1)!==r&&(r=e&1,i--,i<0));)s[i]++,e>>=1;return s}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return et.getCodewordBucketNumber(et.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let s=new Ys;for(let r=0;r<e.length;r++){s.format("Row %2d: ",r);for(let i=0;i<e[r].length;i++){let o=e[r][i];o.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}s.format("%n")}return s.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new Ni;class Jt{decode(e,s=null){let r=Jt.decode(e,s,!1);if(r==null||r.length===0||r[0]==null)throw j.getNotFoundInstance();return r[0]}decodeMultiple(e,s=null){try{return Jt.decode(e,s,!0)}catch(r){throw r instanceof N||r instanceof P?j.getNotFoundInstance():r}}static decode(e,s,r){const i=new Array,o=$e.detectMultiple(e,s,r);for(const x of o.getPoints()){const d=et.decode(o.getBits(),x[4],x[5],x[6],x[7],Jt.getMinCodewordWidth(x),Jt.getMaxCodewordWidth(x)),u=new Te(d.getText(),d.getRawBytes(),void 0,x,De.PDF_417);u.putMetadata(ge.ERROR_CORRECTION_LEVEL,d.getECLevel());const E=d.getOther();E!=null&&u.putMetadata(ge.PDF417_EXTRA_METADATA,E),i.push(u)}return i.map(x=>x)}static getMaxWidth(e,s){return e==null||s==null?0:Math.trunc(Math.abs(e.getX()-s.getX()))}static getMinWidth(e,s){return e==null||s==null?U.MAX_VALUE:Math.trunc(Math.abs(e.getX()-s.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Jt.getMaxWidth(e[0],e[4]),Jt.getMaxWidth(e[6],e[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.max(Jt.getMaxWidth(e[1],e[5]),Jt.getMaxWidth(e[7],e[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Jt.getMinWidth(e[0],e[4]),Jt.getMinWidth(e[6],e[2])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN),Math.min(Jt.getMinWidth(e[1],e[5]),Jt.getMinWidth(e[7],e[3])*Ge.MODULES_IN_CODEWORD/Ge.MODULES_IN_STOP_PATTERN)))}reset(){}}class Rn extends A{}Rn.kind="ReaderException";class Vi{constructor(e,s){this.verbose=e===!0,s&&this.setHints(s)}decode(e,s){return s&&this.setHints(s),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const s=!f(e)&&e.get(H.TRY_HARDER)===!0,r=f(e)?null:e.get(H.POSSIBLE_FORMATS),i=new Array;if(!f(r)){const o=r.some(x=>x===De.UPC_A||x===De.UPC_E||x===De.EAN_13||x===De.EAN_8||x===De.CODABAR||x===De.CODE_39||x===De.CODE_93||x===De.CODE_128||x===De.ITF||x===De.RSS_14||x===De.RSS_EXPANDED);o&&!s&&i.push(new Fs(e,this.verbose)),r.includes(De.QR_CODE)&&i.push(new es),r.includes(De.DATA_MATRIX)&&i.push(new $0),r.includes(De.AZTEC)&&i.push(new qt),r.includes(De.PDF_417)&&i.push(new Jt),o&&s&&i.push(new Fs(e,this.verbose))}i.length===0&&(s||i.push(new Fs(e,this.verbose)),i.push(new es),i.push(new $0),i.push(new qt),i.push(new Jt),s&&i.push(new Fs(e,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Rn("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(e,this.hints)}catch(r){if(r instanceof Rn)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}class Ol extends ct{constructor(e=null,s=500){const r=new Vi;r.setHints(e),super(r,s)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ml extends ct{constructor(e=500){super(new Jt,e)}}class Ll extends ct{constructor(e=500){super(new es,e)}}var Sr;(function(p){p[p.ERROR_CORRECTION=0]="ERROR_CORRECTION",p[p.CHARACTER_SET=1]="CHARACTER_SET",p[p.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",p[p.MIN_SIZE=3]="MIN_SIZE",p[p.MAX_SIZE=4]="MAX_SIZE",p[p.MARGIN=5]="MARGIN",p[p.PDF417_COMPACT=6]="PDF417_COMPACT",p[p.PDF417_COMPACTION=7]="PDF417_COMPACTION",p[p.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",p[p.AZTEC_LAYERS=9]="AZTEC_LAYERS",p[p.QR_VERSION=10]="QR_VERSION"})(Sr||(Sr={}));var Ot=Sr;class Tr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new He(e,Int32Array.from([1])))}buildGenerator(e){const s=this.cachedGenerators;if(e>=s.length){let r=s[s.length-1];const i=this.field;for(let o=s.length;o<=e;o++){const x=r.multiply(new He(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));s.push(x),r=x}}return s[e]}encode(e,s){if(s===0)throw new b("No error correction bytes");const r=e.length-s;if(r<=0)throw new b("No data bytes provided");const i=this.buildGenerator(s),o=new Int32Array(r);z.arraycopy(e,0,o,0,r);let x=new He(this.field,o);x=x.multiplyByMonomial(s,1);const u=x.divide(i)[1].getCoefficients(),E=s-u.length;for(let m=0;m<E;m++)e[r+m]=0;z.arraycopy(u,0,e,r+E,u.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(e){return Tt.applyMaskPenaltyRule1Internal(e,!0)+Tt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let s=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let x=0;x<o-1;x++){const d=r[x];for(let u=0;u<i-1;u++){const E=d[u];E===d[u+1]&&E===r[x+1][u]&&E===r[x+1][u+1]&&s++}}return Tt.N2*s}static applyMaskPenaltyRule3(e){let s=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let x=0;x<o;x++)for(let d=0;d<i;d++){const u=r[x];d+6<i&&u[d]===1&&u[d+1]===0&&u[d+2]===1&&u[d+3]===1&&u[d+4]===1&&u[d+5]===0&&u[d+6]===1&&(Tt.isWhiteHorizontal(u,d-4,d)||Tt.isWhiteHorizontal(u,d+7,d+11))&&s++,x+6<o&&r[x][d]===1&&r[x+1][d]===0&&r[x+2][d]===1&&r[x+3][d]===1&&r[x+4][d]===1&&r[x+5][d]===0&&r[x+6][d]===1&&(Tt.isWhiteVertical(r,d,x-4,x)||Tt.isWhiteVertical(r,d,x+7,x+11))&&s++}return s*Tt.N3}static isWhiteHorizontal(e,s,r){s=Math.max(s,0),r=Math.min(r,e.length);for(let i=s;i<r;i++)if(e[i]===1)return!1;return!0}static isWhiteVertical(e,s,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(let o=r;o<i;o++)if(e[o][s]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let s=0;const r=e.getArray(),i=e.getWidth(),o=e.getHeight();for(let u=0;u<o;u++){const E=r[u];for(let m=0;m<i;m++)E[m]===1&&s++}const x=e.getHeight()*e.getWidth();return Math.floor(Math.abs(s*2-x)*10/x)*Tt.N4}static getDataMaskBit(e,s,r){let i,o;switch(e){case 0:i=r+s&1;break;case 1:i=r&1;break;case 2:i=s%3;break;case 3:i=(r+s)%3;break;case 4:i=Math.floor(r/2)+Math.floor(s/3)&1;break;case 5:o=r*s,i=(o&1)+o%3;break;case 6:o=r*s,i=(o&1)+o%3&1;break;case 7:o=r*s,i=o%3+(r+s&1)&1;break;default:throw new b("Invalid mask pattern: "+e)}return i===0}static applyMaskPenaltyRule1Internal(e,s){let r=0;const i=s?e.getHeight():e.getWidth(),o=s?e.getWidth():e.getHeight(),x=e.getArray();for(let d=0;d<i;d++){let u=0,E=-1;for(let m=0;m<o;m++){const B=s?x[d][m]:x[m][d];B===E?u++:(u>=5&&(r+=Tt.N1+(u-5)),u=1,E=B)}u>=5&&(r+=Tt.N1+(u-5))}return r}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class Nn{constructor(e,s){this.width=e,this.height=s;const r=new Array(s);for(let i=0;i!==s;i++)r[i]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,s){return this.bytes[s][e]}getArray(){return this.bytes}setNumber(e,s,r){this.bytes[s][e]=r}setBoolean(e,s,r){this.bytes[s][e]=r?1:0}clear(e){for(const s of this.bytes)te.fill(s,e)}equals(e){if(!(e instanceof Nn))return!1;const s=e;if(this.width!==s.width||this.height!==s.height)return!1;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r],x=s.bytes[r];for(let d=0,u=this.width;d<u;++d)if(o[d]!==x[d])return!1}return!0}toString(){const e=new Be;for(let s=0,r=this.height;s<r;++s){const i=this.bytes[s];for(let o=0,x=this.width;o<x;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Es{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Be;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Es.NUM_MASK_PATTERNS}}Es.NUM_MASK_PATTERNS=8;class mt extends A{}mt.kind="WriterException";class je{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,s,r,i,o){je.clearMatrix(o),je.embedBasicPatterns(r,o),je.embedTypeInfo(s,i,o),je.maybeEmbedVersionInfo(r,o),je.embedDataBits(e,i,o)}static embedBasicPatterns(e,s){je.embedPositionDetectionPatternsAndSeparators(s),je.embedDarkDotAtLeftBottomCorner(s),je.maybeEmbedPositionAdjustmentPatterns(e,s),je.embedTimingPatterns(s)}static embedTypeInfo(e,s,r){const i=new O;je.makeTypeInfoBits(e,s,i);for(let o=0,x=i.getSize();o<x;++o){const d=i.get(i.getSize()-1-o),u=je.TYPE_INFO_COORDINATES[o],E=u[0],m=u[1];if(r.setBoolean(E,m,d),o<8){const B=r.getWidth()-o-1;r.setBoolean(B,8,d)}else{const F=r.getHeight()-7+(o-8);r.setBoolean(8,F,d)}}}static maybeEmbedVersionInfo(e,s){if(e.getVersionNumber()<7)return;const r=new O;je.makeVersionInfoBits(e,r);let i=17;for(let o=0;o<6;++o)for(let x=0;x<3;++x){const d=r.get(i);i--,s.setBoolean(o,s.getHeight()-11+x,d),s.setBoolean(s.getHeight()-11+x,o,d)}}static embedDataBits(e,s,r){let i=0,o=-1,x=r.getWidth()-1,d=r.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);d>=0&&d<r.getHeight();){for(let u=0;u<2;++u){const E=x-u;if(!je.isEmpty(r.get(E,d)))continue;let m;i<e.getSize()?(m=e.get(i),++i):m=!1,s!==255&&Tt.getDataMaskBit(s,E,d)&&(m=!m),r.setBoolean(E,d,m)}d+=o}o=-o,d+=o,x-=2}if(i!==e.getSize())throw new mt("Not all bits consumed: "+i+"/"+e.getSize())}static findMSBSet(e){return 32-U.numberOfLeadingZeros(e)}static calculateBCHCode(e,s){if(s===0)throw new b("0 polynomial");const r=je.findMSBSet(s);for(e<<=r-1;je.findMSBSet(e)>=r;)e^=s<<je.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,s,r){if(!Es.isValidMaskPattern(s))throw new mt("Invalid mask pattern");const i=e.getBits()<<3|s;r.appendBits(i,5);const o=je.calculateBCHCode(i,je.TYPE_INFO_POLY);r.appendBits(o,10);const x=new O;if(x.appendBits(je.TYPE_INFO_MASK_PATTERN,15),r.xor(x),r.getSize()!==15)throw new mt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,s){s.appendBits(e.getVersionNumber(),6);const r=je.calculateBCHCode(e.getVersionNumber(),je.VERSION_INFO_POLY);if(s.appendBits(r,12),s.getSize()!==18)throw new mt("should not happen but we got: "+s.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let s=8;s<e.getWidth()-8;++s){const r=(s+1)%2;je.isEmpty(e.get(s,6))&&e.setNumber(s,6,r),je.isEmpty(e.get(6,s))&&e.setNumber(6,s,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new mt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,s,r){for(let i=0;i<8;++i){if(!je.isEmpty(r.get(e+i,s)))throw new mt;r.setNumber(e+i,s,0)}}static embedVerticalSeparationPattern(e,s,r){for(let i=0;i<7;++i){if(!je.isEmpty(r.get(e,s+i)))throw new mt;r.setNumber(e,s+i,0)}}static embedPositionAdjustmentPattern(e,s,r){for(let i=0;i<5;++i){const o=je.POSITION_ADJUSTMENT_PATTERN[i];for(let x=0;x<5;++x)r.setNumber(e+x,s+i,o[x])}}static embedPositionDetectionPattern(e,s,r){for(let i=0;i<7;++i){const o=je.POSITION_DETECTION_PATTERN[i];for(let x=0;x<7;++x)r.setNumber(e+x,s+i,o[x])}}static embedPositionDetectionPatternsAndSeparators(e){const s=je.POSITION_DETECTION_PATTERN[0].length;je.embedPositionDetectionPattern(0,0,e),je.embedPositionDetectionPattern(e.getWidth()-s,0,e),je.embedPositionDetectionPattern(0,e.getWidth()-s,e);const r=8;je.embedHorizontalSeparationPattern(0,r-1,e),je.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),je.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const i=7;je.embedVerticalSeparationPattern(i,0,e),je.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),je.embedVerticalSeparationPattern(i,e.getHeight()-i,e)}static maybeEmbedPositionAdjustmentPatterns(e,s){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,i=je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,x=i.length;o!==x;o++){const d=i[o];if(d>=0)for(let u=0;u!==x;u++){const E=i[u];E>=0&&je.isEmpty(s.get(E,d))&&je.embedPositionAdjustmentPattern(E-2,d-2,s)}}}}je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),je.VERSION_INFO_POLY=7973,je.TYPE_INFO_POLY=1335,je.TYPE_INFO_MASK_PATTERN=21522;class Ul{constructor(e,s){this.dataBytes=e,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class yt{constructor(){}static calculateMaskPenalty(e){return Tt.applyMaskPenaltyRule1(e)+Tt.applyMaskPenaltyRule2(e)+Tt.applyMaskPenaltyRule3(e)+Tt.applyMaskPenaltyRule4(e)}static encode(e,s,r=null){let i=yt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Ot.CHARACTER_SET)!==void 0;o&&(i=r.get(Ot.CHARACTER_SET).toString());const x=this.chooseMode(e,i),d=new O;if(x===Ue.BYTE&&(o||yt.DEFAULT_BYTE_MODE_ENCODING!==i)){const Ce=W.getCharacterSetECIByName(i);Ce!==void 0&&this.appendECI(Ce,d)}this.appendModeInfo(x,d);const u=new O;this.appendBytes(e,x,u,i);let E;if(r!==null&&r.get(Ot.QR_VERSION)!==void 0){const Ce=Number.parseInt(r.get(Ot.QR_VERSION).toString(),10);E=Ne.getVersionForNumber(Ce);const fe=this.calculateBitsNeeded(x,d,u,E);if(!this.willFit(fe,E,s))throw new mt("Data too big for requested version")}else E=this.recommendVersion(s,x,d,u);const m=new O;m.appendBitArray(d);const B=x===Ue.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(B,E,x,m),m.appendBitArray(u);const F=E.getECBlocksForLevel(s),k=E.getTotalCodewords()-F.getTotalECCodewords();this.terminateBits(k,m);const M=this.interleaveWithECBytes(m,E.getTotalCodewords(),k,F.getNumBlocks()),L=new Es;L.setECLevel(s),L.setMode(x),L.setVersion(E);const K=E.getDimensionForVersion(),Q=new Nn(K,K),Ee=this.chooseMaskPattern(M,s,E,Q);return L.setMaskPattern(Ee),je.buildMatrix(M,s,E,Ee,Q),L.setMatrix(Q),L}static recommendVersion(e,s,r,i){const o=this.calculateBitsNeeded(s,r,i,Ne.getVersionForNumber(1)),x=this.chooseVersion(o,e),d=this.calculateBitsNeeded(s,r,i,x);return this.chooseVersion(d,e)}static calculateBitsNeeded(e,s,r,i){return s.getSize()+e.getCharacterCountBits(i)+r.getSize()}static getAlphanumericCode(e){return e<yt.ALPHANUMERIC_TABLE.length?yt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,s=null){if(W.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(e))return Ue.KANJI;let r=!1,i=!1;for(let o=0,x=e.length;o<x;++o){const d=e.charAt(o);if(yt.isDigit(d))r=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)i=!0;else return Ue.BYTE}return i?Ue.ALPHANUMERIC:r?Ue.NUMERIC:Ue.BYTE}static isOnlyDoubleByteKanji(e){let s;try{s=Ae.encode(e,W.SJIS)}catch{return!1}const r=s.length;if(r%2!==0)return!1;for(let i=0;i<r;i+=2){const o=s[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,s,r,i){let o=Number.MAX_SAFE_INTEGER,x=-1;for(let d=0;d<Es.NUM_MASK_PATTERNS;d++){je.buildMatrix(e,s,r,d,i);let u=this.calculateMaskPenalty(i);u<o&&(o=u,x=d)}return x}static chooseVersion(e,s){for(let r=1;r<=40;r++){const i=Ne.getVersionForNumber(r);if(yt.willFit(e,i,s))return i}throw new mt("Data too big")}static willFit(e,s,r){const i=s.getTotalCodewords(),x=s.getECBlocksForLevel(r).getTotalECCodewords(),d=i-x,u=(e+7)/8;return d>=u}static terminateBits(e,s){const r=e*8;if(s.getSize()>r)throw new mt("data bits cannot fit in the QR Code"+s.getSize()+" > "+r);for(let x=0;x<4&&s.getSize()<r;++x)s.appendBit(!1);const i=s.getSize()&7;if(i>0)for(let x=i;x<8;x++)s.appendBit(!1);const o=e-s.getSizeInBytes();for(let x=0;x<o;++x)s.appendBits((x&1)===0?236:17,8);if(s.getSize()!==r)throw new mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,s,r,i,o,x){if(i>=r)throw new mt("Block ID too large");const d=e%r,u=r-d,E=Math.floor(e/r),m=E+1,B=Math.floor(s/r),F=B+1,k=E-B,M=m-F;if(k!==M)throw new mt("EC bytes mismatch");if(r!==u+d)throw new mt("RS blocks mismatch");if(e!==(B+k)*u+(F+M)*d)throw new mt("Total bytes mismatch");i<u?(o[0]=B,x[0]=k):(o[0]=F,x[0]=M)}static interleaveWithECBytes(e,s,r,i){if(e.getSizeInBytes()!==r)throw new mt("Number of bits and data bytes does not match");let o=0,x=0,d=0;const u=new Array;for(let m=0;m<i;++m){const B=new Int32Array(1),F=new Int32Array(1);yt.getNumDataBytesAndNumECBytesForBlockID(s,r,i,m,B,F);const k=B[0],M=new Uint8Array(k);e.toBytes(8*o,M,0,k);const L=yt.generateECBytes(M,F[0]);u.push(new Ul(M,L)),x=Math.max(x,k),d=Math.max(d,L.length),o+=B[0]}if(r!==o)throw new mt("Data bytes does not match offset");const E=new O;for(let m=0;m<x;++m)for(const B of u){const F=B.getDataBytes();m<F.length&&E.appendBits(F[m],8)}for(let m=0;m<d;++m)for(const B of u){const F=B.getErrorCorrectionBytes();m<F.length&&E.appendBits(F[m],8)}if(s!==E.getSizeInBytes())throw new mt("Interleaving error: "+s+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(e,s){const r=e.length,i=new Int32Array(r+s);for(let x=0;x<r;x++)i[x]=e[x]&255;new Tr(T.QR_CODE_FIELD_256).encode(i,s);const o=new Uint8Array(s);for(let x=0;x<s;x++)o[x]=i[r+x];return o}static appendModeInfo(e,s){s.appendBits(e.getBits(),4)}static appendLengthInfo(e,s,r,i){const o=r.getCharacterCountBits(s);if(e>=1<<o)throw new mt(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)}static appendBytes(e,s,r,i){switch(s){case Ue.NUMERIC:yt.appendNumericBytes(e,r);break;case Ue.ALPHANUMERIC:yt.appendAlphanumericBytes(e,r);break;case Ue.BYTE:yt.append8BitBytes(e,r,i);break;case Ue.KANJI:yt.appendKanjiBytes(e,r);break;default:throw new mt("Invalid mode: "+s)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const s=yt.getDigit(e);return s>=0&&s<=9}static appendNumericBytes(e,s){const r=e.length;let i=0;for(;i<r;){const o=yt.getDigit(e.charAt(i));if(i+2<r){const x=yt.getDigit(e.charAt(i+1)),d=yt.getDigit(e.charAt(i+2));s.appendBits(o*100+x*10+d,10),i+=3}else if(i+1<r){const x=yt.getDigit(e.charAt(i+1));s.appendBits(o*10+x,7),i+=2}else s.appendBits(o,4),i++}}static appendAlphanumericBytes(e,s){const r=e.length;let i=0;for(;i<r;){const o=yt.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new mt;if(i+1<r){const x=yt.getAlphanumericCode(e.charCodeAt(i+1));if(x===-1)throw new mt;s.appendBits(o*45+x,11),i+=2}else s.appendBits(o,6),i++}}static append8BitBytes(e,s,r){let i;try{i=Ae.encode(e,r)}catch(o){throw new mt(o)}for(let o=0,x=i.length;o!==x;o++){const d=i[o];s.appendBits(d,8)}}static appendKanjiBytes(e,s){let r;try{r=Ae.encode(e,W.SJIS)}catch(o){throw new mt(o)}const i=r.length;for(let o=0;o<i;o+=2){const x=r[o]&255,d=r[o+1]&255,u=x<<8&4294967295|d;let E=-1;if(u>=33088&&u<=40956?E=u-33088:u>=57408&&u<=60351&&(E=u-49472),E===-1)throw new mt("Invalid byte sequence");const m=(E>>8)*192+(E&255);s.appendBits(m,13)}}static appendECI(e,s){s.appendBits(Ue.ECI.getBits(),4),s.appendBits(e.getValue(),8)}}yt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),yt.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class gs{write(e,s,r,i=null){if(e.length===0)throw new b("Found empty contents");if(s<0||r<0)throw new b("Requested dimensions are too small: "+s+"x"+r);let o=bt.L,x=gs.QUIET_ZONE_SIZE;i!==null&&(i.get(Ot.ERROR_CORRECTION)!==void 0&&(o=bt.fromString(i.get(Ot.ERROR_CORRECTION).toString())),i.get(Ot.MARGIN)!==void 0&&(x=Number.parseInt(i.get(Ot.MARGIN).toString(),10)));const d=yt.encode(e,o,i);return this.renderResult(d,s,r,x)}writeToDom(e,s,r,i,o=null){typeof e=="string"&&(e=document.querySelector(e));const x=this.write(s,r,i,o);e&&e.appendChild(x)}renderResult(e,s,r,i){const o=e.getMatrix();if(o===null)throw new ie;const x=o.getWidth(),d=o.getHeight(),u=x+i*2,E=d+i*2,m=Math.max(s,u),B=Math.max(r,E),F=Math.min(Math.floor(m/u),Math.floor(B/E)),k=Math.floor((m-x*F)/2),M=Math.floor((B-d*F)/2),L=this.createSVGElement(m,B);for(let K=0,Q=M;K<d;K++,Q+=F)for(let Ee=0,Ce=k;Ee<x;Ee++,Ce+=F)if(o.get(Ee,K)===1){const fe=this.createSvgRectElement(Ce,Q,F,F);L.appendChild(fe)}return L}createSVGElement(e,s){const r=document.createElementNS(gs.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",s.toString()),r}createSvgRectElement(e,s,r,i){const o=document.createElementNS(gs.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",s.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o}}gs.QUIET_ZONE_SIZE=4,gs.SVG_NS="http://www.w3.org/2000/svg";class vs{encode(e,s,r,i,o){if(e.length===0)throw new b("Found empty contents");if(s!==De.QR_CODE)throw new b("Can only encode QR_CODE, but got "+s);if(r<0||i<0)throw new b(`Requested dimensions are too small: ${r}x${i}`);let x=bt.L,d=vs.QUIET_ZONE_SIZE;o!==null&&(o.get(Ot.ERROR_CORRECTION)!==void 0&&(x=bt.fromString(o.get(Ot.ERROR_CORRECTION).toString())),o.get(Ot.MARGIN)!==void 0&&(d=Number.parseInt(o.get(Ot.MARGIN).toString(),10)));const u=yt.encode(e,x,o);return vs.renderResult(u,r,i,d)}static renderResult(e,s,r,i){const o=e.getMatrix();if(o===null)throw new ie;const x=o.getWidth(),d=o.getHeight(),u=x+i*2,E=d+i*2,m=Math.max(s,u),B=Math.max(r,E),F=Math.min(Math.floor(m/u),Math.floor(B/E)),k=Math.floor((m-x*F)/2),M=Math.floor((B-d*F)/2),L=new Fe(m,B);for(let K=0,Q=M;K<d;K++,Q+=F)for(let Ee=0,Ce=k;Ee<x;Ee++,Ce+=F)o.get(Ee,K)===1&&L.setRegion(Ce,Q,F,F);return L}}vs.QUIET_ZONE_SIZE=4;class jl{encode(e,s,r,i,o){let x;switch(s){case De.QR_CODE:x=new vs;break;default:throw new b("No encoder available for format "+s)}return x.encode(e,s,r,i,o)}}class k0 extends Se{constructor(e,s,r,i,o,x,d,u){if(super(x,d),this.yuvData=e,this.dataWidth=s,this.dataHeight=r,this.left=i,this.top=o,i+x>s||o+d>r)throw new b("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(x,d)}getRow(e,s){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(s==null||s.length<r)&&(s=new Uint8ClampedArray(r));const i=(e+this.top)*this.dataWidth+this.left;return z.arraycopy(this.yuvData,i,s,0,r),s}getMatrix(){const e=this.getWidth(),s=this.getHeight();if(e===this.dataWidth&&s===this.dataHeight)return this.yuvData;const r=e*s,i=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return z.arraycopy(this.yuvData,o,i,0,r),i;for(let x=0;x<s;x++){const d=x*e;z.arraycopy(this.yuvData,o,i,d,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,s,r,i){return new k0(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+s,r,i,!1)}renderThumbnail(){const e=this.getWidth()/k0.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/k0.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*s),i=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let x=0;x<s;x++){const d=x*e;for(let u=0;u<e;u++){const E=i[o+u*k0.THUMBNAIL_SCALE_FACTOR]&255;r[d+u]=4278190080|E*65793}o+=this.dataWidth*k0.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/k0.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/k0.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,s){const r=this.yuvData;for(let i=0,o=this.top*this.dataWidth+this.left;i<s;i++,o+=this.dataWidth){const x=o+e/2;for(let d=o,u=o+e-1;d<x;d++,u--){const E=r[d];r[d]=r[u],r[u]=E}}}invert(){return new Ke(this)}}k0.THUMBNAIL_SCALE_FACTOR=2;class Pr extends Se{constructor(e,s,r,i,o,x,d){if(super(s,r),this.dataWidth=i,this.dataHeight=o,this.left=x,this.top=d,e.BYTES_PER_ELEMENT===4){const u=s*r,E=new Uint8ClampedArray(u);for(let m=0;m<u;m++){const B=e[m],F=B>>16&255,k=B>>7&510,M=B&255;E[m]=(F+k+M)/4&255}this.luminances=E}else this.luminances=e;if(i===void 0&&(this.dataWidth=s),o===void 0&&(this.dataHeight=r),x===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+r>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(e,s){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(s==null||s.length<r)&&(s=new Uint8ClampedArray(r));const i=(e+this.top)*this.dataWidth+this.left;return z.arraycopy(this.luminances,i,s,0,r),s}getMatrix(){const e=this.getWidth(),s=this.getHeight();if(e===this.dataWidth&&s===this.dataHeight)return this.luminances;const r=e*s,i=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return z.arraycopy(this.luminances,o,i,0,r),i;for(let x=0;x<s;x++){const d=x*e;z.arraycopy(this.luminances,o,i,d,e),o+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,s,r,i){return new Pr(this.luminances,r,i,this.dataWidth,this.dataHeight,this.left+e,this.top+s)}invert(){return new Ke(this)}}class Ji extends W{static forName(e){return this.getCharacterSetECIByName(e)}}class Rr{}Rr.ISO_8859_1=W.ISO8859_1;class Hi{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Wi{static singletonList(e){return[e]}static min(e,s){return e.sort(s)[0]}}class Vl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class _s extends Vl{constructor(e,s,r){super(e),this.value=s,this.bitCount=r}appendTo(e,s){e.appendBits(this.value,this.bitCount)}add(e,s){return new _s(this,e,s)}addBinaryShift(e,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new _s(this,e,s)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+U.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Nr extends _s{constructor(e,s,r){super(e,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=r}appendTo(e,s){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(s[this.binaryShiftStart+r],8)}addBinaryShift(e,s){return new Nr(this,e,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Jl(p,e,s){return new Nr(p,e,s)}function $s(p,e,s){return new _s(p,e,s)}const Hl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ss=0,On=1,C0=2,Gi=3,I0=4,Wl=new _s(null,0,0),Or=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Gl(p){for(let e of p)te.fill(e,-1);return p[ss][I0]=0,p[On][I0]=0,p[On][ss]=28,p[Gi][I0]=0,p[C0][I0]=0,p[C0][ss]=15,p}const Xi=Gl(te.createInt32Array(6,6));class S0{constructor(e,s,r,i){this.token=e,this.mode=s,this.binaryShiftByteCount=r,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,s){let r=this.bitCount,i=this.token;if(e!==this.mode){let x=Or[this.mode][e];i=$s(i,x&65535,x>>16),r+=x>>16}let o=e===C0?4:5;return i=$s(i,s,o),new S0(i,e,0,r+o)}shiftAndAppend(e,s){let r=this.token,i=this.mode===C0?4:5;return r=$s(r,Xi[this.mode][e],i),r=$s(r,s,5),new S0(r,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(e){let s=this.token,r=this.mode,i=this.bitCount;if(this.mode===I0||this.mode===C0){let d=Or[r][ss];s=$s(s,d&65535,d>>16),i+=d>>16,r=ss}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new S0(s,r,this.binaryShiftByteCount+1,i+o);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(e+1)),x}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=Jl(s,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new S0(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let s=this.bitCount+(Or[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?s+=S0.calculateBinaryShiftCost(e)-S0.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(s+=10),s<=e.bitCount}toBitArray(e){let s=[];for(let i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())s.unshift(i);let r=new O;for(const i of s)i.appendTo(r,e);return r}toString(){return ce.format("%s bits=%d bytes=%d",Hl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}S0.INITIAL_STATE=new S0(Wl,ss,0,0);function Xl(p){const e=ce.getCharCode(" "),s=ce.getCharCode("."),r=ce.getCharCode(",");p[ss][e]=1;const i=ce.getCharCode("Z"),o=ce.getCharCode("A");for(let F=o;F<=i;F++)p[ss][F]=F-o+2;p[On][e]=1;const x=ce.getCharCode("z"),d=ce.getCharCode("a");for(let F=d;F<=x;F++)p[On][F]=F-d+2;p[C0][e]=1;const u=ce.getCharCode("9"),E=ce.getCharCode("0");for(let F=E;F<=u;F++)p[C0][F]=F-E+2;p[C0][r]=12,p[C0][s]=13;const m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let F=0;F<m.length;F++)p[Gi][ce.getCharCode(m[F])]=F;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let F=0;F<B.length;F++)ce.getCharCode(B[F])>0&&(p[I0][ce.getCharCode(B[F])]=F);return p}const Mr=Xl(te.createInt32Array(5,256));class en{constructor(e){this.text=e}encode(){const e=ce.getCharCode(" "),s=ce.getCharCode(`
`);let r=Wi.singletonList(S0.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let x,d=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ce.getCharCode("\r"):x=d===s?2:0;break;case ce.getCharCode("."):x=d===e?3:0;break;case ce.getCharCode(","):x=d===e?4:0;break;case ce.getCharCode(":"):x=d===e?5:0;break;default:x=0}x>0?(r=en.updateStateListForPair(r,o,x),o++):r=this.updateStateListForChar(r,o)}return Wi.min(r,(o,x)=>o.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,s){const r=[];for(let i of e)this.updateStateForChar(i,s,r);return en.simplifyStates(r)}updateStateForChar(e,s,r){let i=this.text[s]&255,o=Mr[e.getMode()][i]>0,x=null;for(let d=0;d<=I0;d++){let u=Mr[d][i];if(u>0){if(x==null&&(x=e.endBinaryShift(s)),!o||d===e.getMode()||d===C0){const E=x.latchAndAppend(d,u);r.push(E)}if(!o&&Xi[e.getMode()][d]>=0){const E=x.shiftAndAppend(d,u);r.push(E)}}}if(e.getBinaryShiftByteCount()>0||Mr[e.getMode()][i]===0){let d=e.addBinaryShiftChar(s);r.push(d)}}static updateStateListForPair(e,s,r){const i=[];for(let o of e)this.updateStateForPair(o,s,r,i);return this.simplifyStates(i)}static updateStateForPair(e,s,r,i){let o=e.endBinaryShift(s);if(i.push(o.latchAndAppend(I0,r)),e.getMode()!==I0&&i.push(o.shiftAndAppend(I0,r)),r===3||r===4){let x=o.latchAndAppend(C0,16-r).latchAndAppend(C0,1);i.push(x)}if(e.getBinaryShiftByteCount()>0){let x=e.addBinaryShiftChar(s).addBinaryShiftChar(s+1);i.push(x)}}static simplifyStates(e){let s=[];for(const r of e){let i=!0;for(const o of s){if(o.isBetterThanOrEqualTo(r)){i=!1;break}r.isBetterThanOrEqualTo(o)&&(s=s.filter(x=>x!==o))}i&&s.push(r)}return s}}class ot{constructor(){}static encodeBytes(e){return ot.encode(e,ot.DEFAULT_EC_PERCENT,ot.DEFAULT_AZTEC_LAYERS)}static encode(e,s,r){let i=new en(e).encode(),o=U.truncDivision(i.getSize()*s,100)+11,x=i.getSize()+o,d,u,E,m,B;if(r!==ot.DEFAULT_AZTEC_LAYERS){if(d=r<0,u=Math.abs(r),u>(d?ot.MAX_NB_BITS_COMPACT:ot.MAX_NB_BITS))throw new b(ce.format("Illegal value %s for layers",r));E=ot.totalBitsInLayer(u,d),m=ot.WORD_SIZE[u];let fe=E-E%m;if(B=ot.stuffBits(i,m),B.getSize()+o>fe)throw new b("Data to large for user specified layer");if(d&&B.getSize()>m*64)throw new b("Data to large for user specified layer")}else{m=0,B=null;for(let fe=0;;fe++){if(fe>ot.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(d=fe<=3,u=d?fe+1:fe,E=ot.totalBitsInLayer(u,d),x>E)continue;(B==null||m!==ot.WORD_SIZE[u])&&(m=ot.WORD_SIZE[u],B=ot.stuffBits(i,m));let nt=E-E%m;if(!(d&&B.getSize()>m*64)&&B.getSize()+o<=nt)break}}let F=ot.generateCheckWords(B,E,m),k=B.getSize()/m,M=ot.generateModeMessage(d,u,k),L=(d?11:14)+u*4,K=new Int32Array(L),Q;if(d){Q=L;for(let fe=0;fe<K.length;fe++)K[fe]=fe}else{Q=L+1+2*U.truncDivision(U.truncDivision(L,2)-1,15);let fe=U.truncDivision(L,2),nt=U.truncDivision(Q,2);for(let qe=0;qe<fe;qe++){let i0=qe+U.truncDivision(qe,15);K[fe-qe-1]=nt-i0-1,K[fe+qe]=nt+i0+1}}let Ee=new Fe(Q);for(let fe=0,nt=0;fe<u;fe++){let qe=(u-fe)*4+(d?9:12);for(let i0=0;i0<qe;i0++){let B0=i0*2;for(let o0=0;o0<2;o0++)F.get(nt+B0+o0)&&Ee.set(K[fe*2+o0],K[fe*2+i0]),F.get(nt+qe*2+B0+o0)&&Ee.set(K[fe*2+i0],K[L-1-fe*2-o0]),F.get(nt+qe*4+B0+o0)&&Ee.set(K[L-1-fe*2-o0],K[L-1-fe*2-i0]),F.get(nt+qe*6+B0+o0)&&Ee.set(K[L-1-fe*2-i0],K[fe*2+o0])}nt+=qe*8}if(ot.drawModeMessage(Ee,d,Q,M),d)ot.drawBullsEye(Ee,U.truncDivision(Q,2),5);else{ot.drawBullsEye(Ee,U.truncDivision(Q,2),7);for(let fe=0,nt=0;fe<U.truncDivision(L,2)-1;fe+=15,nt+=16)for(let qe=U.truncDivision(Q,2)&1;qe<Q;qe+=2)Ee.set(U.truncDivision(Q,2)-nt,qe),Ee.set(U.truncDivision(Q,2)+nt,qe),Ee.set(qe,U.truncDivision(Q,2)-nt),Ee.set(qe,U.truncDivision(Q,2)+nt)}let Ce=new Hi;return Ce.setCompact(d),Ce.setSize(Q),Ce.setLayers(u),Ce.setCodeWords(k),Ce.setMatrix(Ee),Ce}static drawBullsEye(e,s,r){for(let i=0;i<r;i+=2)for(let o=s-i;o<=s+i;o++)e.set(o,s-i),e.set(o,s+i),e.set(s-i,o),e.set(s+i,o);e.set(s-r,s-r),e.set(s-r+1,s-r),e.set(s-r,s-r+1),e.set(s+r,s-r),e.set(s+r,s-r+1),e.set(s+r,s+r-1)}static generateModeMessage(e,s,r){let i=new O;return e?(i.appendBits(s-1,2),i.appendBits(r-1,6),i=ot.generateCheckWords(i,28,4)):(i.appendBits(s-1,5),i.appendBits(r-1,11),i=ot.generateCheckWords(i,40,4)),i}static drawModeMessage(e,s,r,i){let o=U.truncDivision(r,2);if(s)for(let x=0;x<7;x++){let d=o-3+x;i.get(x)&&e.set(d,o-5),i.get(x+7)&&e.set(o+5,d),i.get(20-x)&&e.set(d,o+5),i.get(27-x)&&e.set(o-5,d)}else for(let x=0;x<10;x++){let d=o-5+x+U.truncDivision(x,5);i.get(x)&&e.set(d,o-7),i.get(x+10)&&e.set(o+7,d),i.get(29-x)&&e.set(d,o+7),i.get(39-x)&&e.set(o-7,d)}}static generateCheckWords(e,s,r){let i=e.getSize()/r,o=new Tr(ot.getGF(r)),x=U.truncDivision(s,r),d=ot.bitsToWords(e,r,x);o.encode(d,x-i);let u=s%r,E=new O;E.appendBits(0,u);for(const m of Array.from(d))E.appendBits(m,r);return E}static bitsToWords(e,s,r){let i=new Int32Array(r),o,x;for(o=0,x=e.getSize()/s;o<x;o++){let d=0;for(let u=0;u<s;u++)d|=e.get(o*s+u)?1<<s-u-1:0;i[o]=d}return i}static getGF(e){switch(e){case 4:return T.AZTEC_PARAM;case 6:return T.AZTEC_DATA_6;case 8:return T.AZTEC_DATA_8;case 10:return T.AZTEC_DATA_10;case 12:return T.AZTEC_DATA_12;default:throw new b("Unsupported word size "+e)}}static stuffBits(e,s){let r=new O,i=e.getSize(),o=(1<<s)-2;for(let x=0;x<i;x+=s){let d=0;for(let u=0;u<s;u++)(x+u>=i||e.get(x+u))&&(d|=1<<s-1-u);(d&o)===o?(r.appendBits(d&o,s),x--):(d&o)===0?(r.appendBits(d|1,s),x--):r.appendBits(d,s)}return r}static totalBitsInLayer(e,s){return((s?88:112)+16*e)*e}}ot.DEFAULT_EC_PERCENT=33,ot.DEFAULT_AZTEC_LAYERS=0,ot.MAX_NB_BITS=32,ot.MAX_NB_BITS_COMPACT=4,ot.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Mn{encode(e,s,r,i){return this.encodeWithHints(e,s,r,i,null)}encodeWithHints(e,s,r,i,o){let x=Rr.ISO_8859_1,d=ot.DEFAULT_EC_PERCENT,u=ot.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Ot.CHARACTER_SET)&&(x=Ji.forName(o.get(Ot.CHARACTER_SET).toString())),o.has(Ot.ERROR_CORRECTION)&&(d=U.parseInt(o.get(Ot.ERROR_CORRECTION).toString())),o.has(Ot.AZTEC_LAYERS)&&(u=U.parseInt(o.get(Ot.AZTEC_LAYERS).toString()))),Mn.encodeLayers(e,s,r,i,x,d,u)}static encodeLayers(e,s,r,i,o,x,d){if(s!==De.AZTEC)throw new b("Can only encode AZTEC, but got "+s);let u=ot.encode(ce.getBytes(e,o),x,d);return Mn.renderResult(u,r,i)}static renderResult(e,s,r){let i=e.getMatrix();if(i==null)throw new ie;let o=i.getWidth(),x=i.getHeight(),d=Math.max(s,o),u=Math.max(r,x),E=Math.min(d/o,u/x),m=(d-o*E)/2,B=(u-x*E)/2,F=new Fe(d,u);for(let k=0,M=B;k<x;k++,M+=E)for(let L=0,K=m;L<o;L++,K+=E)i.get(L,k)&&F.setRegion(K,M,E,E);return F}}c.AbstractExpandedDecoder=br,c.ArgumentException=D,c.ArithmeticException=R,c.AztecCode=Hi,c.AztecCodeReader=qt,c.AztecCodeWriter=Mn,c.AztecDecoder=de,c.AztecDetector=jt,c.AztecDetectorResult=ve,c.AztecEncoder=ot,c.AztecHighLevelEncoder=en,c.AztecPoint=dt,c.BarcodeFormat=De,c.Binarizer=V,c.BinaryBitmap=S,c.BitArray=O,c.BitMatrix=Fe,c.BitSource=yr,c.BrowserAztecCodeReader=f0,c.BrowserBarcodeReader=wl,c.BrowserCodeReader=ct,c.BrowserDatamatrixCodeReader=Fl,c.BrowserMultiFormatReader=Ol,c.BrowserPDF417Reader=Ml,c.BrowserQRCodeReader=Ll,c.BrowserQRCodeSvgWriter=gs,c.CharacterSetECI=W,c.ChecksumException=P,c.Code128Reader=be,c.Code39Reader=it,c.DataMatrixDecodedBitStreamParser=Q0,c.DataMatrixReader=$0,c.DecodeHintType=H,c.DecoderResult=me,c.DefaultGridSampler=gt,c.DetectorResult=Oe,c.EAN13Reader=ds,c.EncodeHintType=Ot,c.Exception=A,c.FormatException=N,c.GenericGF=T,c.GenericGFPoly=He,c.GlobalHistogramBinarizer=ye,c.GridSampler=We,c.GridSamplerInstance=tt,c.HTMLCanvasElementLuminanceSource=Qe,c.HybridBinarizer=xe,c.ITFReader=st,c.IllegalArgumentException=b,c.IllegalStateException=ie,c.InvertedLuminanceSource=Ke,c.LuminanceSource=Se,c.MathUtils=oe,c.MultiFormatOneDReader=Fs,c.MultiFormatReader=Vi,c.MultiFormatWriter=jl,c.NotFoundException=j,c.OneDReader=Bt,c.PDF417DecodedBitStreamParser=q,c.PDF417DecoderErrorCorrection=Ni,c.PDF417Reader=Jt,c.PDF417ResultMetadata=Mi,c.PerspectiveTransform=Xe,c.PlanarYUVLuminanceSource=k0,c.QRCodeByteMatrix=Nn,c.QRCodeDataMask=E0,c.QRCodeDecodedBitStreamParser=It,c.QRCodeDecoderErrorCorrectionLevel=bt,c.QRCodeDecoderFormatInformation=Xt,c.QRCodeEncoder=yt,c.QRCodeEncoderQRCode=Es,c.QRCodeMaskUtil=Tt,c.QRCodeMatrixUtil=je,c.QRCodeMode=Ue,c.QRCodeReader=es,c.QRCodeVersion=Ne,c.QRCodeWriter=vs,c.RGBLuminanceSource=Pr,c.RSS14Reader=St,c.RSSExpandedReader=ue,c.ReaderException=Rn,c.ReedSolomonDecoder=ae,c.ReedSolomonEncoder=Tr,c.ReedSolomonException=J,c.Result=Te,c.ResultMetadataType=ge,c.ResultPoint=Y,c.StringUtils=ce,c.UnsupportedOperationException=we,c.VideoInputDevice=ke,c.WhiteRectangleDetector=Pe,c.WriterException=mt,c.ZXingArrays=te,c.ZXingCharset=Ji,c.ZXingInteger=U,c.ZXingStandardCharsets=Rr,c.ZXingStringBuilder=Be,c.ZXingStringEncoding=Ae,c.ZXingSystem=z,c.createAbstractExpandedDecoder=Pi,Object.defineProperty(c,"__esModule",{value:!0})}))})(xn,xn.exports)),xn.exports}ku();var ki=(function(){var n=function(t,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(f[h]=a[h])},n(t,c)};return function(t,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(t,c);function f(){this.constructor=t}t.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})(),Cl=(function(){function n(t,c){this.name=t,this.track=c}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(t){var c={};c[this.name]=t;var f={advanced:[c]};return this.track.applyConstraints(f)},n.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var c=t[this.name];return c}return null},n})(),Iu=(function(n){ki(t,n);function t(c,f){return n.call(this,c,f)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(c){var f={};f[this.name]=c;var a={advanced:[f]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var c=this.track.getCapabilities(),f=c[this.name];return{min:f.min,max:f.max,step:f.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(Cl);(function(n){ki(t,n);function t(c){return n.call(this,"zoom",c)||this}return t})(Iu);(function(n){ki(t,n);function t(c){return n.call(this,"torch",c)||this}return t})(Cl);var zo;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(zo||(zo={}));var Su=(function(){var n=function(t,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(f[h]=a[h])},n(t,c)};return function(t,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(t,c);function f(){this.constructor=t}t.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}})();(function(n){Su(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(yu);var Yo;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Yo||(Yo={}));var Yn={exports:{}},Tu=Yn.exports,Ko;function Pu(){return Ko||(Ko=1,(function(n,t){(function(f,a){n.exports=a()})(typeof self<"u"?self:Tu,function(){return(function(c){var f={};function a(h){if(f[h])return f[h].exports;var g=f[h]={i:h,l:!1,exports:{}};return c[h].call(g.exports,g,g.exports,a),g.l=!0,g.exports}return a.m=c,a.c=f,a.d=function(h,g,C){a.o(h,g)||Object.defineProperty(h,g,{configurable:!1,enumerable:!0,get:C})},a.n=function(h){var g=h&&h.__esModule?function(){return h.default}:function(){return h};return a.d(g,"a",g),g},a.o=function(h,g){return Object.prototype.hasOwnProperty.call(h,g)},a.p="",a(a.s=3)})([(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=(function(){function g(C,w){this.width=w,this.height=C.length/w,this.data=C}return g.createEmpty=function(C,w){return new g(new Uint8ClampedArray(C*w),C)},g.prototype.get=function(C,w){return C<0||C>=this.width||w<0||w>=this.height?!1:!!this.data[w*this.width+C]},g.prototype.set=function(C,w,A){this.data[w*this.width+C]=A?1:0},g.prototype.setRegion=function(C,w,A,D,b){for(var S=w;S<w+D;S++)for(var P=C;P<C+A;P++)this.set(P,S,!!b)},g})();f.BitMatrix=h}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(2);function g(w,A){return w^A}f.addOrSubtractGF=g;var C=(function(){function w(A,D,b){this.primitive=A,this.size=D,this.generatorBase=b,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var S=1,P=0;P<this.size;P++)this.expTable[P]=S,S=S*2,S>=this.size&&(S=(S^this.primitive)&this.size-1);for(var P=0;P<this.size-1;P++)this.logTable[this.expTable[P]]=P;this.zero=new h.default(this,Uint8ClampedArray.from([0])),this.one=new h.default(this,Uint8ClampedArray.from([1]))}return w.prototype.multiply=function(A,D){return A===0||D===0?0:this.expTable[(this.logTable[A]+this.logTable[D])%(this.size-1)]},w.prototype.inverse=function(A){if(A===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[A]-1]},w.prototype.buildMonomial=function(A,D){if(A<0)throw new Error("Invalid monomial degree less than 0");if(D===0)return this.zero;var b=new Uint8ClampedArray(A+1);return b[0]=D,new h.default(this,b)},w.prototype.log=function(A){if(A===0)throw new Error("Can't take log(0)");return this.logTable[A]},w.prototype.exp=function(A){return this.expTable[A]},w})();f.default=C}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(1),g=(function(){function C(w,A){if(A.length===0)throw new Error("No coefficients.");this.field=w;var D=A.length;if(D>1&&A[0]===0){for(var b=1;b<D&&A[b]===0;)b++;if(b===D)this.coefficients=w.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(D-b);for(var S=0;S<this.coefficients.length;S++)this.coefficients[S]=A[b+S]}}else this.coefficients=A}return C.prototype.degree=function(){return this.coefficients.length-1},C.prototype.isZero=function(){return this.coefficients[0]===0},C.prototype.getCoefficient=function(w){return this.coefficients[this.coefficients.length-1-w]},C.prototype.addOrSubtract=function(w){var A;if(this.isZero())return w;if(w.isZero())return this;var D=this.coefficients,b=w.coefficients;D.length>b.length&&(A=[b,D],D=A[0],b=A[1]);for(var S=new Uint8ClampedArray(b.length),P=b.length-D.length,V=0;V<P;V++)S[V]=b[V];for(var V=P;V<b.length;V++)S[V]=h.addOrSubtractGF(D[V-P],b[V]);return new C(this.field,S)},C.prototype.multiply=function(w){if(w===0)return this.field.zero;if(w===1)return this;for(var A=this.coefficients.length,D=new Uint8ClampedArray(A),b=0;b<A;b++)D[b]=this.field.multiply(this.coefficients[b],w);return new C(this.field,D)},C.prototype.multiplyPoly=function(w){if(this.isZero()||w.isZero())return this.field.zero;for(var A=this.coefficients,D=A.length,b=w.coefficients,S=b.length,P=new Uint8ClampedArray(D+S-1),V=0;V<D;V++)for(var z=A[V],$=0;$<S;$++)P[V+$]=h.addOrSubtractGF(P[V+$],this.field.multiply(z,b[$]));return new C(this.field,P)},C.prototype.multiplyByMonomial=function(w,A){if(w<0)throw new Error("Invalid degree less than 0");if(A===0)return this.field.zero;for(var D=this.coefficients.length,b=new Uint8ClampedArray(D+w),S=0;S<D;S++)b[S]=this.field.multiply(this.coefficients[S],A);return new C(this.field,b)},C.prototype.evaluateAt=function(w){var A=0;if(w===0)return this.getCoefficient(0);var D=this.coefficients.length;if(w===1)return this.coefficients.forEach(function(S){A=h.addOrSubtractGF(A,S)}),A;A=this.coefficients[0];for(var b=1;b<D;b++)A=h.addOrSubtractGF(this.field.multiply(w,A),this.coefficients[b]);return A},C})();f.default=g}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(4),g=a(5),C=a(11),w=a(12);function A(S){var P=w.locate(S);if(!P)return null;for(var V=0,z=P;V<z.length;V++){var $=z[V],ne=C.extract(S,$),te=g.decode(ne.matrix);if(te)return{binaryData:te.bytes,data:te.text,chunks:te.chunks,version:te.version,location:{topRightCorner:ne.mappingFunction($.dimension,0),topLeftCorner:ne.mappingFunction(0,0),bottomRightCorner:ne.mappingFunction($.dimension,$.dimension),bottomLeftCorner:ne.mappingFunction(0,$.dimension),topRightFinderPattern:$.topRight,topLeftFinderPattern:$.topLeft,bottomLeftFinderPattern:$.bottomLeft,bottomRightAlignmentPattern:$.alignmentPattern}}}return null}var D={inversionAttempts:"attemptBoth"};function b(S,P,V,z){z===void 0&&(z={});var $=D;Object.keys($||{}).forEach(function(N){$[N]=z[N]||$[N]});var ne=$.inversionAttempts==="attemptBoth"||$.inversionAttempts==="invertFirst",te=$.inversionAttempts==="onlyInvert"||$.inversionAttempts==="invertFirst",U=h.binarize(S,P,V,ne),O=U.binarized,G=U.inverted,H=A(te?G:O);return!H&&($.inversionAttempts==="attemptBoth"||$.inversionAttempts==="invertFirst")&&(H=A(te?O:G)),H}b.default=b,f.default=b}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(0),g=8,C=24;function w(b,S,P){return b<S?S:b>P?P:b}var A=(function(){function b(S,P){this.width=S,this.data=new Uint8ClampedArray(S*P)}return b.prototype.get=function(S,P){return this.data[P*this.width+S]},b.prototype.set=function(S,P,V){this.data[P*this.width+S]=V},b})();function D(b,S,P,V){if(b.length!==S*P*4)throw new Error("Malformed data passed to binarizer.");for(var z=new A(S,P),$=0;$<S;$++)for(var ne=0;ne<P;ne++){var te=b[(ne*S+$)*4+0],U=b[(ne*S+$)*4+1],O=b[(ne*S+$)*4+2];z.set($,ne,.2126*te+.7152*U+.0722*O)}for(var G=Math.ceil(S/g),H=Math.ceil(P/g),N=new A(G,H),re=0;re<H;re++)for(var W=0;W<G;W++){for(var we=0,Ae=1/0,ce=0,ne=0;ne<g;ne++)for(var $=0;$<g;$++){var Be=z.get(W*g+$,re*g+ne);we+=Be,Ae=Math.min(Ae,Be),ce=Math.max(ce,Be)}var Fe=we/Math.pow(g,2);if(ce-Ae<=C&&(Fe=Ae/2,re>0&&W>0)){var j=(N.get(W,re-1)+2*N.get(W-1,re)+N.get(W-1,re-1))/4;Ae<j&&(Fe=j)}N.set(W,re,Fe)}var ye=h.BitMatrix.createEmpty(S,P),xe=null;V&&(xe=h.BitMatrix.createEmpty(S,P));for(var re=0;re<H;re++)for(var W=0;W<G;W++){for(var Se=w(W,2,G-3),Ke=w(re,2,H-3),we=0,Qe=-2;Qe<=2;Qe++)for(var ke=-2;ke<=2;ke++)we+=N.get(Se+Qe,Ke+ke);for(var Le=we/25,Qe=0;Qe<g;Qe++)for(var ke=0;ke<g;ke++){var $=W*g+Qe,ne=re*g+ke,ct=z.get($,ne);ye.set($,ne,ct<=Le),V&&xe.set($,ne,!(ct<=Le))}}return V?{binarized:ye,inverted:xe}:{binarized:ye}}f.binarize=D}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(0),g=a(6),C=a(9),w=a(10);function A(O,G){for(var H=O^G,N=0;H;)N++,H&=H-1;return N}function D(O,G){return G<<1|O}var b=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],S=[function(O){return(O.y+O.x)%2===0},function(O){return O.y%2===0},function(O){return O.x%3===0},function(O){return(O.y+O.x)%3===0},function(O){return(Math.floor(O.y/2)+Math.floor(O.x/3))%2===0},function(O){return O.x*O.y%2+O.x*O.y%3===0},function(O){return(O.y*O.x%2+O.y*O.x%3)%2===0},function(O){return((O.y+O.x)%2+O.y*O.x%3)%2===0}];function P(O){var G=17+4*O.versionNumber,H=h.BitMatrix.createEmpty(G,G);H.setRegion(0,0,9,9,!0),H.setRegion(G-8,0,8,9,!0),H.setRegion(0,G-8,9,8,!0);for(var N=0,re=O.alignmentPatternCenters;N<re.length;N++)for(var W=re[N],we=0,Ae=O.alignmentPatternCenters;we<Ae.length;we++){var ce=Ae[we];W===6&&ce===6||W===6&&ce===G-7||W===G-7&&ce===6||H.setRegion(W-2,ce-2,5,5,!0)}return H.setRegion(6,9,1,G-17,!0),H.setRegion(9,6,G-17,1,!0),O.versionNumber>6&&(H.setRegion(G-11,0,3,6,!0),H.setRegion(0,G-11,6,3,!0)),H}function V(O,G,H){for(var N=S[H.dataMask],re=O.height,W=P(G),we=[],Ae=0,ce=0,Be=!0,Fe=re-1;Fe>0;Fe-=2){Fe===6&&Fe--;for(var j=0;j<re;j++)for(var ye=Be?re-1-j:j,xe=0;xe<2;xe++){var Se=Fe-xe;if(!W.get(Se,ye)){ce++;var Ke=O.get(Se,ye);N({y:ye,x:Se})&&(Ke=!Ke),Ae=D(Ke,Ae),ce===8&&(we.push(Ae),ce=0,Ae=0)}}Be=!Be}return we}function z(O){var G=O.height,H=Math.floor((G-17)/4);if(H<=6)return w.VERSIONS[H-1];for(var N=0,re=5;re>=0;re--)for(var W=G-9;W>=G-11;W--)N=D(O.get(W,re),N);for(var we=0,W=5;W>=0;W--)for(var re=G-9;re>=G-11;re--)we=D(O.get(W,re),we);for(var Ae=1/0,ce,Be=0,Fe=w.VERSIONS;Be<Fe.length;Be++){var j=Fe[Be];if(j.infoBits===N||j.infoBits===we)return j;var ye=A(N,j.infoBits);ye<Ae&&(ce=j,Ae=ye),ye=A(we,j.infoBits),ye<Ae&&(ce=j,Ae=ye)}if(Ae<=3)return ce}function $(O){for(var G=0,H=0;H<=8;H++)H!==6&&(G=D(O.get(H,8),G));for(var N=7;N>=0;N--)N!==6&&(G=D(O.get(8,N),G));for(var re=O.height,W=0,N=re-1;N>=re-7;N--)W=D(O.get(8,N),W);for(var H=re-8;H<re;H++)W=D(O.get(H,8),W);for(var we=1/0,Ae=null,ce=0,Be=b;ce<Be.length;ce++){var Fe=Be[ce],j=Fe.bits,ye=Fe.formatInfo;if(j===G||j===W)return ye;var xe=A(G,j);xe<we&&(Ae=ye,we=xe),G!==W&&(xe=A(W,j),xe<we&&(Ae=ye,we=xe))}return we<=3?Ae:null}function ne(O,G,H){var N=G.errorCorrectionLevels[H],re=[],W=0;if(N.ecBlocks.forEach(function(Ke){for(var Qe=0;Qe<Ke.numBlocks;Qe++)re.push({numDataCodewords:Ke.dataCodewordsPerBlock,codewords:[]}),W+=Ke.dataCodewordsPerBlock+N.ecCodewordsPerBlock}),O.length<W)return null;O=O.slice(0,W);for(var we=N.ecBlocks[0].dataCodewordsPerBlock,Ae=0;Ae<we;Ae++)for(var ce=0,Be=re;ce<Be.length;ce++){var Fe=Be[ce];Fe.codewords.push(O.shift())}if(N.ecBlocks.length>1)for(var j=N.ecBlocks[0].numBlocks,ye=N.ecBlocks[1].numBlocks,Ae=0;Ae<ye;Ae++)re[j+Ae].codewords.push(O.shift());for(;O.length>0;)for(var xe=0,Se=re;xe<Se.length;xe++){var Fe=Se[xe];Fe.codewords.push(O.shift())}return re}function te(O){var G=z(O);if(!G)return null;var H=$(O);if(!H)return null;var N=V(O,G,H),re=ne(N,G,H.errorCorrectionLevel);if(!re)return null;for(var W=re.reduce(function(xe,Se){return xe+Se.numDataCodewords},0),we=new Uint8ClampedArray(W),Ae=0,ce=0,Be=re;ce<Be.length;ce++){var Fe=Be[ce],j=C.decode(Fe.codewords,Fe.codewords.length-Fe.numDataCodewords);if(!j)return null;for(var ye=0;ye<Fe.numDataCodewords;ye++)we[Ae++]=j[ye]}try{return g.decode(we,G.versionNumber)}catch{return null}}function U(O){if(O==null)return null;var G=te(O);if(G)return G;for(var H=0;H<O.width;H++)for(var N=H+1;N<O.height;N++)O.get(H,N)!==O.get(N,H)&&(O.set(H,N,!O.get(H,N)),O.set(N,H,!O.get(N,H)));return te(O)}f.decode=U}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(7),g=a(8),C;(function(z){z.Numeric="numeric",z.Alphanumeric="alphanumeric",z.Byte="byte",z.Kanji="kanji",z.ECI="eci"})(C=f.Mode||(f.Mode={}));var w;(function(z){z[z.Terminator=0]="Terminator",z[z.Numeric=1]="Numeric",z[z.Alphanumeric=2]="Alphanumeric",z[z.Byte=4]="Byte",z[z.Kanji=8]="Kanji",z[z.ECI=7]="ECI"})(w||(w={}));function A(z,$){for(var ne=[],te="",U=[10,12,14][$],O=z.readBits(U);O>=3;){var G=z.readBits(10);if(G>=1e3)throw new Error("Invalid numeric value above 999");var H=Math.floor(G/100),N=Math.floor(G/10)%10,re=G%10;ne.push(48+H,48+N,48+re),te+=H.toString()+N.toString()+re.toString(),O-=3}if(O===2){var G=z.readBits(7);if(G>=100)throw new Error("Invalid numeric value above 99");var H=Math.floor(G/10),N=G%10;ne.push(48+H,48+N),te+=H.toString()+N.toString()}else if(O===1){var G=z.readBits(4);if(G>=10)throw new Error("Invalid numeric value above 9");ne.push(48+G),te+=G.toString()}return{bytes:ne,text:te}}var D=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function b(z,$){for(var ne=[],te="",U=[9,11,13][$],O=z.readBits(U);O>=2;){var G=z.readBits(11),H=Math.floor(G/45),N=G%45;ne.push(D[H].charCodeAt(0),D[N].charCodeAt(0)),te+=D[H]+D[N],O-=2}if(O===1){var H=z.readBits(6);ne.push(D[H].charCodeAt(0)),te+=D[H]}return{bytes:ne,text:te}}function S(z,$){for(var ne=[],te="",U=[8,16,16][$],O=z.readBits(U),G=0;G<O;G++){var H=z.readBits(8);ne.push(H)}try{te+=decodeURIComponent(ne.map(function(N){return"%"+("0"+N.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:ne,text:te}}function P(z,$){for(var ne=[],te="",U=[8,10,12][$],O=z.readBits(U),G=0;G<O;G++){var H=z.readBits(13),N=Math.floor(H/192)<<8|H%192;N<7936?N+=33088:N+=49472,ne.push(N>>8,N&255),te+=String.fromCharCode(g.shiftJISTable[N])}return{bytes:ne,text:te}}function V(z,$){for(var ne,te,U,O,G=new h.BitStream(z),H=$<=9?0:$<=26?1:2,N={text:"",bytes:[],chunks:[],version:$};G.available()>=4;){var re=G.readBits(4);if(re===w.Terminator)return N;if(re===w.ECI)G.readBits(1)===0?N.chunks.push({type:C.ECI,assignmentNumber:G.readBits(7)}):G.readBits(1)===0?N.chunks.push({type:C.ECI,assignmentNumber:G.readBits(14)}):G.readBits(1)===0?N.chunks.push({type:C.ECI,assignmentNumber:G.readBits(21)}):N.chunks.push({type:C.ECI,assignmentNumber:-1});else if(re===w.Numeric){var W=A(G,H);N.text+=W.text,(ne=N.bytes).push.apply(ne,W.bytes),N.chunks.push({type:C.Numeric,text:W.text})}else if(re===w.Alphanumeric){var we=b(G,H);N.text+=we.text,(te=N.bytes).push.apply(te,we.bytes),N.chunks.push({type:C.Alphanumeric,text:we.text})}else if(re===w.Byte){var Ae=S(G,H);N.text+=Ae.text,(U=N.bytes).push.apply(U,Ae.bytes),N.chunks.push({type:C.Byte,bytes:Ae.bytes,text:Ae.text})}else if(re===w.Kanji){var ce=P(G,H);N.text+=ce.text,(O=N.bytes).push.apply(O,ce.bytes),N.chunks.push({type:C.Kanji,bytes:ce.bytes,text:ce.text})}}if(G.available()===0||G.readBits(G.available())===0)return N}f.decode=V}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=(function(){function g(C){this.byteOffset=0,this.bitOffset=0,this.bytes=C}return g.prototype.readBits=function(C){if(C<1||C>32||C>this.available())throw new Error("Cannot read "+C.toString()+" bits");var w=0;if(this.bitOffset>0){var A=8-this.bitOffset,D=C<A?C:A,b=A-D,S=255>>8-D<<b;w=(this.bytes[this.byteOffset]&S)>>b,C-=D,this.bitOffset+=D,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(C>0){for(;C>=8;)w=w<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,C-=8;if(C>0){var b=8-C,S=255>>b<<b;w=w<<C|(this.bytes[this.byteOffset]&S)>>b,this.bitOffset+=C}}return w},g.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},g})();f.BitStream=h}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0}),f.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(1),g=a(2);function C(b,S,P,V){var z;S.degree()<P.degree()&&(z=[P,S],S=z[0],P=z[1]);for(var $=S,ne=P,te=b.zero,U=b.one;ne.degree()>=V/2;){var O=$,G=te;if($=ne,te=U,$.isZero())return null;ne=O;for(var H=b.zero,N=$.getCoefficient($.degree()),re=b.inverse(N);ne.degree()>=$.degree()&&!ne.isZero();){var W=ne.degree()-$.degree(),we=b.multiply(ne.getCoefficient(ne.degree()),re);H=H.addOrSubtract(b.buildMonomial(W,we)),ne=ne.addOrSubtract($.multiplyByMonomial(W,we))}if(U=H.multiplyPoly(te).addOrSubtract(G),ne.degree()>=$.degree())return null}var Ae=U.getCoefficient(0);if(Ae===0)return null;var ce=b.inverse(Ae);return[U.multiply(ce),ne.multiply(ce)]}function w(b,S){var P=S.degree();if(P===1)return[S.getCoefficient(1)];for(var V=new Array(P),z=0,$=1;$<b.size&&z<P;$++)S.evaluateAt($)===0&&(V[z]=b.inverse($),z++);return z!==P?null:V}function A(b,S,P){for(var V=P.length,z=new Array(V),$=0;$<V;$++){for(var ne=b.inverse(P[$]),te=1,U=0;U<V;U++)$!==U&&(te=b.multiply(te,h.addOrSubtractGF(1,b.multiply(P[U],ne))));z[$]=b.multiply(S.evaluateAt(ne),b.inverse(te)),b.generatorBase!==0&&(z[$]=b.multiply(z[$],ne))}return z}function D(b,S){var P=new Uint8ClampedArray(b.length);P.set(b);for(var V=new h.default(285,256,0),z=new g.default(V,P),$=new Uint8ClampedArray(S),ne=!1,te=0;te<S;te++){var U=z.evaluateAt(V.exp(te+V.generatorBase));$[$.length-1-te]=U,U!==0&&(ne=!0)}if(!ne)return P;var O=new g.default(V,$),G=C(V,V.buildMonomial(S,1),O,S);if(G===null)return null;var H=w(V,G[0]);if(H==null)return null;for(var N=A(V,G[1],H),re=0;re<H.length;re++){var W=P.length-1-V.log(H[re]);if(W<0)return null;P[W]=h.addOrSubtractGF(P[W],N[re])}return P}f.decode=D}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0}),f.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=a(0);function g(D,b,S,P){var V=D.x-b.x+S.x-P.x,z=D.y-b.y+S.y-P.y;if(V===0&&z===0)return{a11:b.x-D.x,a12:b.y-D.y,a13:0,a21:S.x-b.x,a22:S.y-b.y,a23:0,a31:D.x,a32:D.y,a33:1};var $=b.x-S.x,ne=P.x-S.x,te=b.y-S.y,U=P.y-S.y,O=$*U-ne*te,G=(V*U-ne*z)/O,H=($*z-V*te)/O;return{a11:b.x-D.x+G*b.x,a12:b.y-D.y+G*b.y,a13:G,a21:P.x-D.x+H*P.x,a22:P.y-D.y+H*P.y,a23:H,a31:D.x,a32:D.y,a33:1}}function C(D,b,S,P){var V=g(D,b,S,P);return{a11:V.a22*V.a33-V.a23*V.a32,a12:V.a13*V.a32-V.a12*V.a33,a13:V.a12*V.a23-V.a13*V.a22,a21:V.a23*V.a31-V.a21*V.a33,a22:V.a11*V.a33-V.a13*V.a31,a23:V.a13*V.a21-V.a11*V.a23,a31:V.a21*V.a32-V.a22*V.a31,a32:V.a12*V.a31-V.a11*V.a32,a33:V.a11*V.a22-V.a12*V.a21}}function w(D,b){return{a11:D.a11*b.a11+D.a21*b.a12+D.a31*b.a13,a12:D.a12*b.a11+D.a22*b.a12+D.a32*b.a13,a13:D.a13*b.a11+D.a23*b.a12+D.a33*b.a13,a21:D.a11*b.a21+D.a21*b.a22+D.a31*b.a23,a22:D.a12*b.a21+D.a22*b.a22+D.a32*b.a23,a23:D.a13*b.a21+D.a23*b.a22+D.a33*b.a23,a31:D.a11*b.a31+D.a21*b.a32+D.a31*b.a33,a32:D.a12*b.a31+D.a22*b.a32+D.a32*b.a33,a33:D.a13*b.a31+D.a23*b.a32+D.a33*b.a33}}function A(D,b){for(var S=C({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),P=g(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),V=w(P,S),z=h.BitMatrix.createEmpty(b.dimension,b.dimension),$=function(H,N){var re=V.a13*H+V.a23*N+V.a33;return{x:(V.a11*H+V.a21*N+V.a31)/re,y:(V.a12*H+V.a22*N+V.a32)/re}},ne=0;ne<b.dimension;ne++)for(var te=0;te<b.dimension;te++){var U=te+.5,O=ne+.5,G=$(U,O);z.set(te,ne,D.get(Math.floor(G.x),Math.floor(G.y)))}return{matrix:z,mappingFunction:$}}f.extract=A}),(function(c,f,a){Object.defineProperty(f,"__esModule",{value:!0});var h=4,g=.5,C=1.5,w=function(U,O){return Math.sqrt(Math.pow(O.x-U.x,2)+Math.pow(O.y-U.y,2))};function A(U){return U.reduce(function(O,G){return O+G})}function D(U,O,G){var H,N,re,W,we=w(U,O),Ae=w(O,G),ce=w(U,G),Be,Fe,j;return Ae>=we&&Ae>=ce?(H=[O,U,G],Be=H[0],Fe=H[1],j=H[2]):ce>=Ae&&ce>=we?(N=[U,O,G],Be=N[0],Fe=N[1],j=N[2]):(re=[U,G,O],Be=re[0],Fe=re[1],j=re[2]),(j.x-Fe.x)*(Be.y-Fe.y)-(j.y-Fe.y)*(Be.x-Fe.x)<0&&(W=[j,Be],Be=W[0],j=W[1]),{bottomLeft:Be,topLeft:Fe,topRight:j}}function b(U,O,G,H){var N=(A(P(U,G,H,5))/7+A(P(U,O,H,5))/7+A(P(G,U,H,5))/7+A(P(O,U,H,5))/7)/4;if(N<1)throw new Error("Invalid module size");var re=Math.round(w(U,O)/N),W=Math.round(w(U,G)/N),we=Math.floor((re+W)/2)+7;switch(we%4){case 0:we++;break;case 2:we--;break}return{dimension:we,moduleSize:N}}function S(U,O,G,H){var N=[{x:Math.floor(U.x),y:Math.floor(U.y)}],re=Math.abs(O.y-U.y)>Math.abs(O.x-U.x),W,we,Ae,ce;re?(W=Math.floor(U.y),we=Math.floor(U.x),Ae=Math.floor(O.y),ce=Math.floor(O.x)):(W=Math.floor(U.x),we=Math.floor(U.y),Ae=Math.floor(O.x),ce=Math.floor(O.y));for(var Be=Math.abs(Ae-W),Fe=Math.abs(ce-we),j=Math.floor(-Be/2),ye=W<Ae?1:-1,xe=we<ce?1:-1,Se=!0,Ke=W,Qe=we;Ke!==Ae+ye;Ke+=ye){var ke=re?Qe:Ke,Le=re?Ke:Qe;if(G.get(ke,Le)!==Se&&(Se=!Se,N.push({x:ke,y:Le}),N.length===H+1))break;if(j+=Fe,j>0){if(Qe===ce)break;Qe+=xe,j-=Be}}for(var ct=[],Te=0;Te<H;Te++)N[Te]&&N[Te+1]?ct.push(w(N[Te],N[Te+1])):ct.push(0);return ct}function P(U,O,G,H){var N,re=O.y-U.y,W=O.x-U.x,we=S(U,O,G,Math.ceil(H/2)),Ae=S(U,{x:U.x-W,y:U.y-re},G,Math.ceil(H/2)),ce=we.shift()+Ae.shift()-1;return(N=Ae.concat(ce)).concat.apply(N,we)}function V(U,O){var G=A(U)/A(O),H=0;return O.forEach(function(N,re){H+=Math.pow(U[re]-N*G,2)}),{averageSize:G,error:H}}function z(U,O,G){try{var H=P(U,{x:-1,y:U.y},G,O.length),N=P(U,{x:U.x,y:-1},G,O.length),re={x:Math.max(0,U.x-U.y)-1,y:Math.max(0,U.y-U.x)-1},W=P(U,re,G,O.length),we={x:Math.min(G.width,U.x+U.y)+1,y:Math.min(G.height,U.y+U.x)+1},Ae=P(U,we,G,O.length),ce=V(H,O),Be=V(N,O),Fe=V(W,O),j=V(Ae,O),ye=Math.sqrt(ce.error*ce.error+Be.error*Be.error+Fe.error*Fe.error+j.error*j.error),xe=(ce.averageSize+Be.averageSize+Fe.averageSize+j.averageSize)/4,Se=(Math.pow(ce.averageSize-xe,2)+Math.pow(Be.averageSize-xe,2)+Math.pow(Fe.averageSize-xe,2)+Math.pow(j.averageSize-xe,2))/xe;return ye+Se}catch{return 1/0}}function $(U,O){for(var G=Math.round(O.x);U.get(G,Math.round(O.y));)G--;for(var H=Math.round(O.x);U.get(H,Math.round(O.y));)H++;for(var N=(G+H)/2,re=Math.round(O.y);U.get(Math.round(N),re);)re--;for(var W=Math.round(O.y);U.get(Math.round(N),W);)W++;var we=(re+W)/2;return{x:N,y:we}}function ne(U){for(var O=[],G=[],H=[],N=[],re=function(ke){for(var Le=0,ct=!1,Te=[0,0,0,0,0],t0=function(se){var ge=U.get(se,ke);if(ge===ct)Le++;else{Te=[Te[1],Te[2],Te[3],Te[4],Le],Le=1,ct=ge;var me=A(Te)/7,Ie=Math.abs(Te[0]-me)<me&&Math.abs(Te[1]-me)<me&&Math.abs(Te[2]-3*me)<3*me&&Math.abs(Te[3]-me)<me&&Math.abs(Te[4]-me)<me&&!ge,He=A(Te.slice(-3))/3,R=Math.abs(Te[2]-He)<He&&Math.abs(Te[3]-He)<He&&Math.abs(Te[4]-He)<He&&ge;if(Ie){var T=se-Te[3]-Te[4],J=T-Te[2],ie={startX:J,endX:T,y:ke},ae=G.filter(function(oe){return J>=oe.bottom.startX&&J<=oe.bottom.endX||T>=oe.bottom.startX&&J<=oe.bottom.endX||J<=oe.bottom.startX&&T>=oe.bottom.endX&&Te[2]/(oe.bottom.endX-oe.bottom.startX)<C&&Te[2]/(oe.bottom.endX-oe.bottom.startX)>g});ae.length>0?ae[0].bottom=ie:G.push({top:ie,bottom:ie})}if(R){var ee=se-Te[4],de=ee-Te[3],ie={startX:de,y:ke,endX:ee},ae=N.filter(function(Y){return de>=Y.bottom.startX&&de<=Y.bottom.endX||ee>=Y.bottom.startX&&de<=Y.bottom.endX||de<=Y.bottom.startX&&ee>=Y.bottom.endX&&Te[2]/(Y.bottom.endX-Y.bottom.startX)<C&&Te[2]/(Y.bottom.endX-Y.bottom.startX)>g});ae.length>0?ae[0].bottom=ie:N.push({top:ie,bottom:ie})}}},De=-1;De<=U.width;De++)t0(De);O.push.apply(O,G.filter(function(se){return se.bottom.y!==ke&&se.bottom.y-se.top.y>=2})),G=G.filter(function(se){return se.bottom.y===ke}),H.push.apply(H,N.filter(function(se){return se.bottom.y!==ke})),N=N.filter(function(se){return se.bottom.y===ke})},W=0;W<=U.height;W++)re(W);O.push.apply(O,G.filter(function(ke){return ke.bottom.y-ke.top.y>=2})),H.push.apply(H,N);var we=O.filter(function(ke){return ke.bottom.y-ke.top.y>=2}).map(function(ke){var Le=(ke.top.startX+ke.top.endX+ke.bottom.startX+ke.bottom.endX)/4,ct=(ke.top.y+ke.bottom.y+1)/2;if(U.get(Math.round(Le),Math.round(ct))){var Te=[ke.top.endX-ke.top.startX,ke.bottom.endX-ke.bottom.startX,ke.bottom.y-ke.top.y+1],t0=A(Te)/Te.length,De=z({x:Math.round(Le),y:Math.round(ct)},[1,1,3,1,1],U);return{score:De,x:Le,y:ct,size:t0}}}).filter(function(ke){return!!ke}).sort(function(ke,Le){return ke.score-Le.score}).map(function(ke,Le,ct){if(Le>h)return null;var Te=ct.filter(function(De,se){return Le!==se}).map(function(De){return{x:De.x,y:De.y,score:De.score+Math.pow(De.size-ke.size,2)/ke.size,size:De.size}}).sort(function(De,se){return De.score-se.score});if(Te.length<2)return null;var t0=ke.score+Te[0].score+Te[1].score;return{points:[ke].concat(Te.slice(0,2)),score:t0}}).filter(function(ke){return!!ke}).sort(function(ke,Le){return ke.score-Le.score});if(we.length===0)return null;var Ae=D(we[0].points[0],we[0].points[1],we[0].points[2]),ce=Ae.topRight,Be=Ae.topLeft,Fe=Ae.bottomLeft,j=te(U,H,ce,Be,Fe),ye=[];j&&ye.push({alignmentPattern:{x:j.alignmentPattern.x,y:j.alignmentPattern.y},bottomLeft:{x:Fe.x,y:Fe.y},dimension:j.dimension,topLeft:{x:Be.x,y:Be.y},topRight:{x:ce.x,y:ce.y}});var xe=$(U,ce),Se=$(U,Be),Ke=$(U,Fe),Qe=te(U,H,xe,Se,Ke);return Qe&&ye.push({alignmentPattern:{x:Qe.alignmentPattern.x,y:Qe.alignmentPattern.y},bottomLeft:{x:Ke.x,y:Ke.y},topLeft:{x:Se.x,y:Se.y},topRight:{x:xe.x,y:xe.y},dimension:Qe.dimension}),ye.length===0?null:ye}f.locate=ne;function te(U,O,G,H,N){var re,W,we;try{re=b(H,G,N,U),W=re.dimension,we=re.moduleSize}catch{return null}var Ae={x:G.x-H.x+N.x,y:G.y-H.y+N.y},ce=(w(H,N)+w(H,G))/2/we,Be=1-3/ce,Fe={x:H.x+Be*(Ae.x-H.x),y:H.y+Be*(Ae.y-H.y)},j=O.map(function(xe){var Se=(xe.top.startX+xe.top.endX+xe.bottom.startX+xe.bottom.endX)/4,Ke=(xe.top.y+xe.bottom.y+1)/2;if(U.get(Math.floor(Se),Math.floor(Ke))){var Qe=[xe.top.endX-xe.top.startX,xe.bottom.endX-xe.bottom.startX,xe.bottom.y-xe.top.y+1];A(Qe)/Qe.length;var ke=z({x:Math.floor(Se),y:Math.floor(Ke)},[1,1,1],U),Le=ke+w({x:Se,y:Ke},Fe);return{x:Se,y:Ke,score:Le}}}).filter(function(xe){return!!xe}).sort(function(xe,Se){return xe.score-Se.score}),ye=ce>=15&&j.length?j[0]:Fe;return{alignmentPattern:ye,dimension:W}}})]).default})})(Yn)),Yn.exports}var Ru=Pu();const Nu=vu(Ru),Ou={name:"QrScanner",props:{clientId:{type:Number,required:!0}},emits:["qr-detected"],data(){return{showScanner:!1,cameraStream:null,isScanning:!1,lastScannedData:null}},beforeUnmount(){this.stopCamera()},methods:{openScanner(){this.showScanner=!0,this.$nextTick(()=>{this.startCamera()})},closeScanner(){this.stopCamera(),this.showScanner=!1},async startCamera(){try{let n={video:{facingMode:"environment"}};try{this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}catch(c){console.log("Back camera not available, trying any camera:",c.message),n={video:!0},this.cameraStream=await navigator.mediaDevices.getUserMedia(n)}this.showScanner=!0,await this.$nextTick();const t=this.$refs.cameraVideo;if(t)t.srcObject=this.cameraStream,console.log("Camera opened successfully for QR scanning");else throw new Error("Video element not found")}catch(n){console.error("Error accessing camera for QR scanning:",n);let t="Unable to access camera for QR scanning.";n.name==="NotAllowedError"?t+=" Camera permission was denied. Please allow camera access and try again.":n.name==="NotFoundError"?t+=" No camera found on this device.":n.name==="NotReadableError"?t+=" Camera is already in use by another application.":n.name==="OverconstrainedError"?t+=" Camera constraints cannot be satisfied.":t+=` ${n.message}`,alert(t),this.closeScanner()}},stopCamera(){this.cameraStream&&(this.cameraStream.getTracks().forEach(n=>n.stop()),this.cameraStream=null)},async captureAndScan(){if(!this.cameraStream){alert("Camera not available");return}this.isScanning=!0;try{const n=this.$refs.cameraVideo,t=this.$refs.cameraCanvas,c=t.getContext("2d");t.width=n.videoWidth,t.height=n.videoHeight,c.drawImage(n,0,0,t.width,t.height);try{console.log("Attempting to scan QR code from captured image...");const f=c.getImageData(0,0,t.width,t.height),a=Nu(f.data,f.width,f.height);a?(console.log("QR code detected with jsQR:",a.data),this.handleQrDetection(a.data)):(console.log("No QR code found in image data"),alert("No QR code found in the captured image. Please ensure the QR code is clearly visible and centered in the camera view, then try again."))}catch(f){console.error("QR scan error:",f),alert("Could not detect QR code. Please ensure the QR code is clearly visible and try again. Error: "+f.message)}finally{this.isScanning=!1}}catch(n){console.error("Error capturing image:",n),alert("Error capturing image for scanning."),this.isScanning=!1}},handleQrDetection(n){if(this.lastScannedData!==n){this.lastScannedData=n;try{const t=this.parseQrData(n);if(t){if(t.clientId!==this.clientId){alert(`QR code is for a different client (ID: ${t.clientId}). This QR code is not valid for your account.`);return}this.stopCamera(),this.closeScanner(),this.$emit("qr-detected",t)}else alert("Invalid QR code format. Expected format: CLIENT:{id}|ITEM:{identifier}|LOCATION:{name} or CLIENT:{id}|ITEM:{identifier}|LOCATION:{name}|URL:{siteurl}")}catch(t){console.error("Error parsing QR data:",t),alert("Error reading QR code. Please try again.")}}},parseQrData(n){const t=n.split("|");if(t.length<3||t.length>4)return null;const c=t[0].trim(),f=t[1].trim(),a=t[2].trim();if(!c.startsWith("CLIENT:")||!f.startsWith("ITEM:")||!a.startsWith("LOCATION:"))return null;const h=parseInt(c.substring(7)),g=f.substring(5),C=a.substring(9);if(isNaN(h)||!g.trim())return null;let w=null;if(t.length===4){const A=t[3].trim();if(A.startsWith("URL:"))w=A.substring(4).trim();else return null}return{clientId:h,itemIdentifier:g.trim(),locationName:C.trim(),siteUrl:w}}}},Mu={class:"qr-scanner"},Lu={class:"modal-header"},Uu={class:"modal-body p-6"},ju={class:"scanner-container"},Vu={ref:"cameraVideo",autoplay:"",playsinline:"",class:"camera-video w-full h-64 bg-black rounded-lg"},Ju={ref:"cameraCanvas",class:"hidden"},Hu={class:"scanner-controls mt-4 flex gap-3 justify-center"},Wu=["disabled"],Gu={class:"modal-footer"};function Xu(n,t,c,f,a,h){return y(),v("div",Mu,[a.showScanner?(y(),v("div",{key:0,class:"modal-overlay",onClick:t[5]||(t[5]=(...g)=>h.closeScanner&&h.closeScanner(...g))},[l("div",{class:"modal-content",onClick:t[4]||(t[4]=Ve(()=>{},["stop"]))},[l("div",Lu,[t[7]||(t[7]=l("h3",{class:"text-xl font-semibold text-gray-900 mb-0"},"Scan QR Code",-1)),l("button",{type:"button",onClick:t[0]||(t[0]=(...g)=>h.closeScanner&&h.closeScanner(...g)),class:"text-gray-500 hover:text-gray-700 text-2xl"},"")]),l("div",Uu,[l("div",ju,[l("video",Vu,null,512),l("canvas",Ju,null,512),l("div",Hu,[l("button",{type:"button",onClick:t[1]||(t[1]=(...g)=>h.captureAndScan&&h.captureAndScan(...g)),class:"btn-filled",disabled:!a.cameraStream},[...t[8]||(t[8]=[l("span",{class:"material-icon-sm mr-2"},"qr_code_scanner",-1),X(" Capture & Scan ",-1)])],8,Wu),l("button",{type:"button",onClick:t[2]||(t[2]=(...g)=>n.stopScanning&&n.stopScanning(...g)),class:"btn-outlined"}," Cancel ")])])]),l("div",Gu,[l("button",{type:"button",onClick:t[3]||(t[3]=(...g)=>h.closeScanner&&h.closeScanner(...g)),class:"btn-outlined"},"Close")])])])):le("",!0),l("button",{type:"button",onClick:t[6]||(t[6]=(...g)=>h.openScanner&&h.openScanner(...g)),class:"btn-outlined btn-small"},[...t[9]||(t[9]=[l("span",{class:"material-icon-sm mr-2"},"qr_code_scanner",-1),X(" Scan QR ",-1)])])])}const zu=u0(Ou,[["render",Xu],["__scopeId","data-v-14f79a17"]]),Yu={name:"ClientDashboard",components:{ImageUpload:Fu,QrScanner:zu},data(){return{users:null,approvedProviders:null,jobs:null,locations:[],availableRoles:[],userRole:null,userId:null,isAdmin:!1,loading:!0,profileCompleteness:0,showAddUserModal:!1,showEditUserModal:!1,showCreateJobModal:!1,showAssignModal:!1,showAddLocationModal:!1,showEditLocationModal:!1,showJobDetailsModal:!1,showEditJobModal:!1,addingUser:!1,updatingUser:!1,creatingJob:!1,jobFilters:{status:"",location_id:"",provider_id:"",archive_status:"active"},newJob:{client_location_id:"",item_identifier:"",fault_description:"",contact_person:""},jobToAssign:null,selectedImages:[],newUser:{username:"",email:"",first_name:"",last_name:"",phone:"",role_id:""},editingUser:{id:null,username:"",email:"",mobile:"",role_id:null,newPassword:""},newLocation:{name:"",address:""},addingLocation:!1,selectedJob:null,selectedImage:null,locationsViewMode:"cards",editingJob:null,originalJobStatus:null,originalProviderId:null,editingImages:[],sectionsExpanded:{users:!1,locations:!1,providers:!1,jobs:!0}}},mounted(){this.checkUserPermissions(),this.loadUsers(),this.loadApprovedProviders(),this.loadAvailableRoles(),this.loadLocations(),this.loadJobs()},watch:{users(){this.calculateProfileCompleteness()},approvedProviders(){this.calculateProfileCompleteness()},locations(){this.calculateProfileCompleteness()}},methods:{checkUserPermissions(){try{const n=localStorage.getItem("token");if(console.log("Token found:",!!n),n){const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));console.log("JWT Payload:",t),console.log("User Role ID:",t.role_id),console.log("User ID:",t.user_id),this.userRole=t.role_id,this.userId=t.user_id,this.isAdmin=t.role_id===2,console.log("isAdmin set to:",this.isAdmin),console.log("userId set to:",this.userId)}else console.log("No token found, setting isAdmin to false"),this.isAdmin=!1,this.userId=null}catch(n){console.error("Failed to decode token:",n),this.isAdmin=!1,this.userId=null}},async loadUsers(){try{const n=await Ye("/backend/api/client-users.php");if(n.ok){const t=await n.json();this.users=t.users}else this.handleError(await n.json())}catch{alert("Failed to load users")}},async loadApprovedProviders(){try{const n=await Ye("/backend/api/client-approved-providers.php");if(n.ok){const t=await n.json();this.approvedProviders=t.approved_providers}else console.error("Failed to load approved providers")}catch{console.error("Failed to load approved providers")}},async loadAvailableRoles(){this.availableRoles=[{id:1,name:"Reporting Employee"},{id:2,name:"Site Budget Controller"}]},async addUser(){this.addingUser=!0;try{const n=await Ye("/backend/api/client-users.php",{method:"POST",body:JSON.stringify({username:this.newUser.username,email:this.newUser.email,first_name:this.newUser.first_name,last_name:this.newUser.last_name,phone:this.newUser.phone,role_id:this.newUser.role_id})});if(n.ok){const t=await n.json();alert(t.message),this.showAddUserModal=!1,this.resetNewUserForm(),this.loadUsers()}else this.handleError(await n.json())}catch{alert("Failed to add user")}finally{this.addingUser=!1}},editUser(n){this.editingUser={id:n.id,username:n.username,email:n.email,mobile:n.mobile||"",role_id:n.role_id,newPassword:""},this.showEditUserModal=!0},async updateUser(){this.updatingUser=!0;try{const n={user_id:this.editingUser.id,email:this.editingUser.email,role_id:this.editingUser.role_id};this.editingUser.newPassword&&(n.password=this.editingUser.newPassword);const t=await Ye("/backend/api/client-users.php",{method:"PUT",body:JSON.stringify(n)});if(t.ok){const c=await t.json();alert(c.message),this.showEditUserModal=!1,this.loadUsers()}else this.handleError(await t.json())}catch{alert("Failed to update user")}finally{this.updatingUser=!1}},async deleteUser(n){if(confirm(`Are you sure you want to delete user "${n.username}"? This action cannot be undone.`))try{const t=await Ye(`/backend/api/client-users.php?user_id=${n.id}`,{method:"DELETE"});if(t.ok){const c=await t.json();alert(c.message),this.loadUsers()}else this.handleError(await t.json())}catch{alert("Failed to delete user")}},canDeleteUser(n){const t=JSON.parse(localStorage.getItem("user")||"{}");return n.id!==t.id},viewProviderJobs(n){this.jobFilters.provider_id=n.service_provider_id,this.loadJobs();const t=this.$el.querySelector(".jobs-section");t&&t.scrollIntoView({behavior:"smooth"})},resetNewUserForm(){this.newUser={username:"",email:"",first_name:"",last_name:"",phone:"",role_id:""}},getRoleClass(n){return{"Reporting Employee":"admin","Site Budget Controller":"controller"}[n]||"user"},formatDate(n){return new Date(n).toLocaleDateString()},signOut(){localStorage.removeItem("token"),this.$router.push("/")},handleError(n){n.error?alert(n.error):alert("An error occurred")},async loadLocations(){try{const n=await Ye("/backend/api/client-locations.php");if(n.ok){const t=await n.json();this.locations=t.locations}else console.error("Failed to load locations")}catch(n){console.error("Failed to load locations:",n)}},async loadJobs(){try{const n=new URLSearchParams;this.jobFilters.status&&n.append("status",this.jobFilters.status),this.jobFilters.location_id&&n.append("location_id",this.jobFilters.location_id),this.jobFilters.provider_id&&n.append("provider_id",this.jobFilters.provider_id),this.userRole===1&&n.append("user_id",this.userId);const t=await Ye(`/backend/api/client-jobs.php?${n}`);if(t.ok){let f=(await t.json()).jobs;this.jobFilters.archive_status==="active"?f=f.filter(a=>!a.archived_by_client):this.jobFilters.archive_status==="archived"&&(f=f.filter(a=>a.archived_by_client)),this.jobs=f}else console.error("Failed to load jobs"),this.jobs=[]}catch(n){console.error("Failed to load jobs:",n),this.jobs=[]}},getStatusClass(n){return{Reported:"reported",Assigned:"assigned","In Progress":"in-progress",Completed:"completed"}[n]||"reported"},canAssignJob(n){return n.job_status==="Reported"},canEditJob(n){return n.archived_by_client?!1:!!(this.userRole===1&&n.job_status==="Reported"&&n.reporting_user_id===this.userId||this.userRole===2&&["Reported","Declined","Quote Requested"].includes(n.job_status))},canEditJobDetails(n){return n.job_status==="Reported"},async viewJobDetails(n){if(this.selectedJob=n,this.showJobDetailsModal=!0,!n.images)try{const t=await Ye(`/backend/api/job-images.php?job_id=${n.id}`);if(t.ok){const c=await t.json();this.selectedJob.images=c.images||[]}}catch(t){console.error("Failed to load job images:",t),this.selectedJob.images=[]}},showAssignModal(n){this.jobToAssign=n,this.showAssignModal=!0;const t=this.approvedProviders.map(f=>`${f.id}: ${f.name}`).join(`
`),c=prompt(`Select a provider to assign this job to:

${t}`);c&&this.assignJob(n.id,parseInt(c))},async assignJob(n,t){try{const c=await Ye("/backend/api/client-jobs.php",{method:"PUT",body:JSON.stringify({job_id:n,assigned_provider_id:t,job_status:"Assigned"})});if(c.ok)alert("Job assigned successfully!"),this.loadJobs();else{const f=await c.json();this.handleError(f)}}catch{alert("Failed to assign job")}},async createJob(){this.creatingJob=!0;try{const n={client_location_id:this.newJob.client_location_id,item_identifier:this.newJob.item_identifier||null,fault_description:this.newJob.fault_description,contact_person:this.newJob.contact_person||null},t=await Ye("/backend/api/client-jobs.php",{method:"POST",body:JSON.stringify(n)});if(t.ok){const f=(await t.json()).job_id;if(this.selectedImages.length>0){console.log("ClientDashboard: Starting image upload for job",f,"with",this.selectedImages.length,"images");try{console.log("ClientDashboard: Calling uploadImages with jobId:",f),await this.$refs.imageUpload.uploadImages(f),console.log("ClientDashboard: Image upload completed successfully")}catch(a){console.error("ClientDashboard: Image upload failed:",a),setTimeout(()=>{alert("Job created successfully, but image upload failed. You can try uploading images again by editing the job.")},100)}}else console.log("ClientDashboard: No images selected, skipping upload");alert("Fault reported successfully!"),this.showCreateJobModal=!1,this.resetNewJobForm(),this.loadJobs()}else{const c=await t.json();this.handleError(c)}}catch{alert("Failed to report fault")}finally{this.creatingJob=!1}},handleImagesChanged(n){this.selectedImages=n},handleEditImagesChanged(n){this.editingImages=n},resetNewJobForm(){this.newJob={client_location_id:"",item_identifier:"",fault_description:"",contact_person:""},this.$refs.imageUpload&&(this.selectedImages=[])},async addLocation(){this.addingLocation=!0;try{const n=await Ye("/backend/api/client-locations.php",{method:"POST",body:JSON.stringify({name:this.newLocation.name.trim(),address:this.newLocation.address?this.newLocation.address.trim():""})});if(n.ok){const t=await n.json();alert(t.message),this.showAddLocationModal=!1,this.resetNewLocationForm(),this.loadLocations()}else{const t=await n.json();this.handleError(t)}}catch{alert("Failed to add location")}finally{this.addingLocation=!1}},resetNewLocationForm(){this.newLocation={name:"",address:""}},async editLocation(n){const t=prompt("Edit location name:",n.name);if(!t||!t.trim()||t.trim()===n.name)return;const c=prompt("Edit location address:",n.address||"");try{const f=await Ye("/backend/api/client-locations.php",{method:"PUT",body:JSON.stringify({location_id:n.id,name:t.trim(),address:c?c.trim():""})});if(f.ok){const a=await f.json();alert(a.message),this.loadLocations()}else{const a=await f.json();this.handleError(a)}}catch{alert("Failed to update location")}},async deleteLocation(n){if(confirm(`Are you sure you want to delete "${n.name}"? This can only be done if there are no associated fault reports.`))try{const t=await Ye(`/backend/api/client-locations.php?location_id=${n.id}`,{method:"DELETE"});if(t.ok){const c=await t.json();alert(c.message),this.loadLocations()}else{const c=await t.json();this.handleError(c)}}catch{alert("Failed to delete location")}},filterJobsByLocation(n){this.jobFilters.location_id=n.id,this.loadJobs()},openImageModal(n){this.selectedImage=n},async editJob(n){if(this.editingJob={...n},this.originalJobStatus=n.job_status,this.originalProviderId=n.assigned_provider_id,this.originalItemIdentifier=n.item_identifier,this.originalFaultDescription=n.fault_description,this.originalContactPerson=n.contact_person,n.images)this.editingJob.images=n.images;else try{const t=await Ye(`/backend/api/job-images.php?job_id=${n.id}`);if(t.ok){const c=await t.json();this.editingJob.images=c.images||[]}else console.error("Failed to load job images"),this.editingJob.images=[]}catch(t){console.error("Failed to load job images:",t),this.editingJob.images=[]}this.loadApprovedProviders().then(()=>{const t=this.approvedProviders.some(c=>c.id==this.editingJob.assigned_provider_id);this.editingJob.assigned_provider_id&&!t&&(this.editingJob.assigned_provider_id=null),this.showEditJobModal=!0})},async updateJob(){if((this.editingJob.job_status==="Assigned"||this.editingJob.job_status==="Quote Requested")&&!this.editingJob.assigned_provider_id){alert("A service provider must be selected to set this status.");return}try{const n={job_id:this.editingJob.id};this.canEditJobDetails(this.editingJob)&&(this.editingJob.item_identifier!==this.originalItemIdentifier&&(n.item_identifier=this.editingJob.item_identifier||null),this.editingJob.fault_description!==this.originalFaultDescription&&(n.fault_description=this.editingJob.fault_description),this.editingJob.contact_person!==this.originalContactPerson&&(n.contact_person=this.editingJob.contact_person||null)),this.editingJob.job_status!==this.originalJobStatus&&(n.job_status=this.editingJob.job_status),this.editingJob.assigned_provider_id!==this.originalProviderId&&(n.assigned_provider_id=this.editingJob.assigned_provider_id||null);const t=Object.keys(n).length>1,c=this.editingImages&&this.editingImages.length>0;if(!t&&!c){alert("No changes to save");return}if(t){const f=await Ye("/backend/api/client-jobs.php",{method:"PUT",body:JSON.stringify(n)});if(!f.ok){const a=await f.json();this.handleError(a);return}}c&&await this.$refs.editImageUpload.uploadImages(this.editingJob.id),alert("Job updated successfully!"),this.showEditJobModal=!1,this.loadJobs()}catch{alert("Failed to update job")}},getCurrentUserName(){try{const n=localStorage.getItem("user");if(n)return JSON.parse(n).username||"User";if(this.users&&this.users.length>0&&this.userId){const t=this.users.find(c=>c.id==this.userId);return t?t.username:"User"}return"User"}catch{return"User"}},calculateProfileCompleteness(){let n=0;const t=3;this.users&&this.users.length>0&&(n+=1),this.locations&&this.locations.length>0&&(n+=1),this.approvedProviders&&this.approvedProviders.length>0&&(n+=1),this.profileCompleteness=Math.round(n/t*100)},handleQrDetected(n){if(console.log("QR data detected:",n),this.newJob.item_identifier=n.itemIdentifier,n.locationName&&this.locations&&this.locations.length>0){const t=this.locations.find(c=>c.name.toLowerCase()===n.locationName.toLowerCase());t?(this.newJob.client_location_id=t.id,alert(`QR code scanned successfully! Item: ${n.itemIdentifier}, Location: ${n.locationName}`)):alert(`QR code scanned successfully! Item: ${n.itemIdentifier}. Location "${n.locationName}" not found in your locations.`)}else alert(`QR code scanned successfully! Item: ${n.itemIdentifier}`)},getClientId(){try{const n=localStorage.getItem("token");if(n)return JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))).entity_id}catch(n){console.error("Failed to get client ID from token:",n)}return null},toggleSection(n){this.sectionsExpanded[n]=!this.sectionsExpanded[n]},async toggleArchiveJob(n){const t=n.archived_by_client?"unarchive":"archive",c=`Are you sure you want to ${t} this job?`;if(confirm(c))try{const f=await Ye("/backend/api/client-jobs.php",{method:"PUT",body:JSON.stringify({job_id:n.id,archived_by_client:!n.archived_by_client})});if(f.ok){const a=this.jobs.findIndex(h=>h.id===n.id);a!==-1&&(this.jobs[a].archived_by_client=!n.archived_by_client,this.jobs[a].updated_at=new Date().toISOString()),alert(`Job ${t}d successfully!`)}else{const a=await f.json();this.handleError(a)}}catch{alert(`Failed to ${t} job`)}}}},Ku={class:"client-dashboard max-w-7xl mx-auto px-6 py-8"},Zu={class:"dashboard-header flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8 p-6 bg-gray-50 rounded-xl border border-gray-200"},qu={class:"header-left"},Qu={class:"text-3xl font-bold text-gray-900 mb-4"},$u={key:0,class:"user-name-mobile lg:hidden"},ef={class:"text-lg font-medium text-gray-700"},tf={key:1,class:"profile-completeness flex items-center gap-4"},sf={class:"completeness-bar w-64 h-3 bg-gray-200 rounded-full overflow-hidden"},nf={class:"completeness-text text-lg font-medium text-gray-900"},rf={class:"header-right"},of={class:"dashboard-content grid gap-8"},xf={key:0,class:"users-section card p-6"},lf={class:"section-title flex items-center gap-3"},af={class:"section-content transition-all duration-300 ease-in-out"},cf={class:"users-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},df={key:0,class:"loading-state col-span-full text-center py-16"},uf={class:"user-header card-header flex justify-between items-center"},ff={class:"user-avatar w-12 h-12 bg-primary-600 rounded-full flex items-center justify-center"},hf={class:"material-icon text-on-primary"},Ef={key:0,class:"user-actions flex gap-2"},gf=["onClick"],Cf=["onClick"],mf={class:"user-content card-content"},Af={class:"user-name text-title-medium text-on-surface mb-2"},pf={class:"user-email text-body-medium text-on-surface-variant mb-3"},Bf={class:"user-role"},bf={class:"user-footer card-footer"},wf={class:"user-date text-label-medium text-on-surface-variant"},Df={key:2,class:"no-users col-span-full text-center py-16"},Ff={key:3,class:"error-state col-span-full text-center py-16"},yf={key:1,class:"locations-section card p-6"},vf={class:"section-title flex items-center gap-3"},_f={class:"header-right flex items-center gap-4"},kf={class:"view-mode-toggle flex border border-gray-300 rounded-lg overflow-hidden"},If={class:"section-content transition-all duration-300 ease-in-out"},Sf={key:0,class:"locations-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Tf={key:0,class:"loading-state col-span-full text-center py-16"},Pf={key:1,class:"default-location col-span-full text-center py-16"},Rf=["onClick"],Nf={class:"location-header card-header flex justify-between items-center"},Of={key:0,class:"location-actions flex gap-2"},Mf=["onClick"],Lf=["onClick"],Uf={class:"location-content card-content"},jf={class:"location-name text-title-medium text-on-surface mb-2"},Vf={class:"location-address text-body-medium text-on-surface-variant mb-4"},Jf={class:"location-stats"},Hf={class:"stat-item"},Wf={class:"stat-number text-2xl font-bold text-on-surface"},Gf={key:1,class:"locations-table-container"},Xf={key:0,class:"loading-state"},zf={key:1,class:"default-location"},Yf={key:2,class:"locations-table-wrapper"},Kf={class:"locations-table"},Zf={key:0,class:"col-actions"},qf=["onClick"],Qf={class:"col-name"},$f={class:"location-name-cell"},e8={class:"location-name-text"},t8={class:"col-address"},s8={class:"col-jobs"},n8={class:"job-count-badge"},r8={key:0,class:"col-actions"},i8={class:"table-actions"},o8=["onClick"],x8=["onClick"],l8={key:2,class:"providers-section card p-6"},a8={class:"section-title flex items-center gap-3"},c8={class:"section-content transition-all duration-300 ease-in-out"},d8={class:"providers-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},u8={key:0,class:"loading-state col-span-full text-center py-16"},f8={class:"provider-header card-header flex justify-between items-center"},h8={class:"provider-logo w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},E8={class:"material-icon text-on-primary"},g8={class:"provider-actions flex gap-2"},C8=["onClick"],m8={class:"provider-content card-content"},A8={class:"provider-name text-title-medium text-on-surface mb-2"},p8={class:"provider-address text-body-medium text-on-surface-variant mb-4"},B8={class:"provider-stats grid grid-cols-3 gap-3"},b8={class:"stat-item text-center"},w8={class:"stat-number text-xl font-bold text-on-surface"},D8={class:"stat-item text-center"},F8={class:"stat-number text-xl font-bold text-on-surface"},y8={class:"stat-item text-center"},v8={class:"stat-number text-xl font-bold text-on-surface"},_8={class:"provider-footer card-footer"},k8={class:"approval-date text-label-medium text-on-surface-variant"},I8={key:2,class:"no-providers col-span-full text-center py-16"},S8={key:3,class:"error-state col-span-full text-center py-16"},T8={class:"jobs-section card p-6"},P8={key:0,class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200"},R8={key:1,class:"section-header flex justify-end mb-6 pb-4 border-b border-neutral-200"},N8={class:"job-filters flex flex-wrap gap-4 mb-6 p-4 bg-neutral-50 rounded-lg"},O8={class:"filter-group min-w-40"},M8={key:0,class:"filter-group min-w-40"},L8={key:1,class:"filter-group min-w-40"},U8=["value"],j8={key:2,class:"filter-group min-w-40"},V8=["value"],J8={class:"jobs-grid grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"},H8={key:0,class:"loading-state col-span-full text-center py-16"},W8={class:"job-header card-header flex justify-between items-center"},G8={class:"job-status"},X8={class:"job-actions flex gap-2"},z8=["onClick"],Y8=["onClick"],K8=["onClick"],Z8={class:"material-icon-sm"},q8={class:"job-content card-content"},Q8={class:"job-title text-title-medium text-on-surface mb-2"},$8={class:"job-description text-body-medium text-on-surface-variant mb-2 line-clamp-2"},e9={class:"job-location text-body-small text-on-surface-variant mb-4"},t9={class:"job-meta grid grid-cols-2 gap-3 text-sm"},s9={class:"meta-item"},n9={class:"meta-value text-body-small text-on-surface font-medium"},r9={class:"meta-item"},i9={class:"meta-value text-body-small text-on-surface font-medium"},o9={class:"meta-item"},x9={class:"meta-value text-body-small text-on-surface font-medium"},l9={class:"meta-item"},a9={class:"meta-value text-body-small text-on-surface font-medium"},c9={class:"job-footer card-footer"},d9={class:"job-date text-label-medium text-on-surface-variant"},u9={key:2,class:"no-jobs col-span-full text-center py-16"},f9={key:3,class:"error-state col-span-full text-center py-16"},h9={class:"modal-header"},E9={class:"form-row"},g9={class:"form-group"},C9={class:"form-group"},m9={class:"form-row"},A9={class:"form-group"},p9={class:"form-group"},B9={class:"form-row"},b9={class:"form-group"},w9={class:"form-group"},D9=["value"],F9={class:"form-actions"},y9=["disabled"],v9={class:"modal-header"},_9={class:"form-row"},k9={class:"form-group"},I9={class:"form-group"},S9={class:"form-row"},T9={class:"form-group"},P9=["value"],R9={class:"form-group"},N9={class:"form-group"},O9={class:"form-actions"},M9=["disabled"],L9={class:"modal-header"},U9={class:"form-row"},j9={class:"form-group"},V9={class:"input-with-button"},J9={class:"form-group"},H9=["value"],W9={key:1,class:"default-location-display"},G9={class:"form-group"},X9={class:"form-group"},z9={class:"form-actions"},Y9=["disabled"],K9={class:"modal-header"},Z9={class:"form-group"},q9={class:"form-group"},Q9={class:"form-actions"},$9=["disabled"],e2={class:"modal-header"},t2={key:0,class:"job-details-content"},s2={class:"job-info-section"},n2={class:"info-grid"},r2={class:"info-item"},i2={class:"info-item"},o2={class:"info-item"},x2={class:"info-item"},l2={key:0,class:"info-item"},a2={class:"info-item"},c2={class:"description-section"},d2={class:"fault-description"},u2={key:0,class:"contact-section"},f2={class:"images-section"},h2={key:0,class:"no-images"},E2={key:1,class:"images-gallery"},g2={class:"gallery-grid"},C2=["src","alt","onClick"],m2={class:"image-overlay"},A2={class:"image-filename"},p2={class:"modal-header"},B2={class:"form-row"},b2={class:"form-group"},w2=["disabled"],D2=["disabled"],F2={key:0,class:"form-help text-red-600"},y2={key:0,class:"form-group"},v2=["value"],_2={key:1,class:"form-group"},k2={class:"readonly-field"},I2={key:0,class:"edit-details-section"},S2={class:"form-row"},T2={class:"form-group"},P2={class:"form-group"},R2={class:"form-group"},N2={class:"form-group"},O2={key:1,class:"readonly-details-section"},M2={class:"readonly-info"},L2={class:"info-row"},U2={class:"info-row"},j2={class:"info-row"},V2={class:"images-section"},J2={key:0,class:"no-images"},H2={key:1,class:"images-gallery"},W2={class:"gallery-grid"},G2=["src","alt","onClick"],X2={class:"image-overlay"},z2={class:"image-filename"},Y2={class:"form-actions"},K2={class:"image-modal-header"},Z2={class:"image-modal-body"},q2=["src","alt"];function Q2(n,t,c,f,a,h){const g=O0("router-link"),C=O0("QrScanner"),w=O0("ImageUpload");return y(),v("div",Ku,[l("div",Zu,[l("div",qu,[l("h1",Qu,I(a.userRole===1?"Report Dashboard":"Client Dashboard"),1),a.userRole===1?(y(),v("div",$u,[l("p",ef,I(h.getCurrentUserName()),1)])):le("",!0),a.userRole===2?(y(),v("div",tf,[l("div",sf,[l("div",{class:"completeness-fill h-full bg-blue-600 transition-all duration-500 ease-out",style:Gs({width:a.profileCompleteness+"%"})},null,4)]),l("span",nf,I(a.profileCompleteness)+"% Complete",1)])):le("",!0)]),l("div",rf,[l("button",{onClick:t[0]||(t[0]=(...A)=>h.signOut&&h.signOut(...A)),class:"btn-filled flex items-center gap-2"},[...t[73]||(t[73]=[l("span",{class:"material-icon-sm"},"logout",-1),X(" Sign Out ",-1)])])])]),l("div",of,[a.userRole===2?(y(),v("div",xf,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[2]||(t[2]=A=>h.toggleSection("users")),style:{cursor:"pointer"}},[l("div",lf,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.users}])},[...t[74]||(t[74]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[75]||(t[75]=l("h2",{class:"text-title-large text-on-surface mb-0"},"User Management",-1))]),a.isAdmin?(y(),v("button",{key:0,onClick:t[1]||(t[1]=Ve(A=>a.showAddUserModal=!0,["stop"])),class:"btn-filled"},[...t[76]||(t[76]=[l("span",{class:"material-icon-sm mr-2"},"person_add",-1),X(" Add New User ",-1)])])):le("",!0)]),he(l("div",af,[l("div",cf,[a.users===null?(y(),v("div",df,[...t[77]||(t[77]=[l("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),l("p",{class:"text-body-large text-on-surface-variant"},"Loading users...",-1)])])):a.users&&a.users.length>0?(y(!0),v(Me,{key:1},ze(a.users,A=>(y(),v("div",{key:A.id,class:"user-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3"},[l("div",uf,[l("div",ff,[l("span",hf,I(A.username.charAt(0).toUpperCase()),1)]),a.isAdmin?(y(),v("div",Ef,[l("button",{onClick:D=>h.editUser(A),class:"btn-outlined btn-small"},[...t[78]||(t[78]=[l("span",{class:"material-icon-sm"},"edit",-1)])],8,gf),h.canDeleteUser(A)?(y(),v("button",{key:0,onClick:D=>h.deleteUser(A),class:"btn-outlined btn-small text-error-600 border-error-600 hover:bg-error-50"},[...t[79]||(t[79]=[l("span",{class:"material-icon-sm"},"delete",-1)])],8,Cf)):le("",!0)])):le("",!0)]),l("div",mf,[l("h3",Af,I(A.username),1),l("p",pf,I(A.email),1),l("div",Bf,[l("span",{class:xt(["role-badge status-badge",h.getRoleClass(A.role_name)])},I(A.role_name),3)])]),l("div",bf,[l("div",wf," Added "+I(h.formatDate(A.created_at)),1)])]))),128)):a.users&&a.users.length===0?(y(),v("div",Df,[...t[80]||(t[80]=[l("div",{class:"no-users-icon material-icon-xl text-neutral-400 mb-4"},"group",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"No users found",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Get started by adding your first user.",-1)])])):(y(),v("div",Ff,[...t[81]||(t[81]=[l("div",{class:"error-icon material-icon-xl text-error-400 mb-4"},"error",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"Failed to load users",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Please try refreshing the page.",-1)])]))])],512),[[J0,a.sectionsExpanded.users]])])):le("",!0),a.userRole===2?(y(),v("div",yf,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[6]||(t[6]=A=>h.toggleSection("locations")),style:{cursor:"pointer"}},[l("div",vf,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.locations}])},[...t[82]||(t[82]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[83]||(t[83]=l("h2",{class:"text-title-large text-on-surface mb-0"},"Locations",-1))]),l("div",_f,[l("div",kf,[l("button",{onClick:t[3]||(t[3]=Ve(A=>a.locationsViewMode="cards",["stop"])),class:xt([{"bg-blue-600 text-white":a.locationsViewMode==="cards","bg-white text-gray-700 hover:bg-gray-50":a.locationsViewMode!=="cards"},"px-4 py-2 text-sm font-medium transition-colors"])},[...t[84]||(t[84]=[l("span",{class:"material-icon-sm mr-1"},"grid_view",-1),X(" Cards ",-1)])],2),l("button",{onClick:t[4]||(t[4]=Ve(A=>a.locationsViewMode="table",["stop"])),class:xt([{"bg-blue-600 text-white":a.locationsViewMode==="table","bg-white text-gray-700 hover:bg-gray-50":a.locationsViewMode!=="table"},"px-4 py-2 text-sm font-medium transition-colors"])},[...t[85]||(t[85]=[l("span",{class:"material-icon-sm mr-1"},"table_chart",-1),X(" Table ",-1)])],2)]),a.isAdmin?(y(),v("button",{key:0,onClick:t[5]||(t[5]=Ve(A=>a.showAddLocationModal=!0,["stop"])),class:"btn-filled"},[...t[86]||(t[86]=[l("span",{class:"material-icon-sm mr-2"},"add",-1),X(" Add Location ",-1)])])):le("",!0)])]),he(l("div",If,[a.locationsViewMode==="cards"?(y(),v("div",Sf,[a.locations===null?(y(),v("div",Tf,[...t[87]||(t[87]=[l("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),l("p",{class:"text-body-large text-on-surface-variant"},"Loading locations...",-1)])])):a.locations&&a.locations.length===0?(y(),v("div",Pf,[...t[88]||(t[88]=[l("div",{class:"material-icon-xl text-neutral-400 mb-4"},"business",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"Default Location",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Using client name as default location. Add specific locations if needed.",-1)])])):a.locations&&a.locations.length>0?(y(!0),v(Me,{key:2},ze(a.locations,A=>(y(),v("div",{key:A.id,class:"location-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3 cursor-pointer",onClick:D=>h.filterJobsByLocation(A)},[l("div",Nf,[t[91]||(t[91]=l("div",{class:"location-icon w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},[l("span",{class:"material-icon text-white"},"location_on")],-1)),a.isAdmin?(y(),v("div",Of,[l("button",{onClick:Ve(D=>h.editLocation(A),["stop"]),class:"btn-outlined btn-small"},[...t[89]||(t[89]=[l("span",{class:"material-icon-sm"},"edit",-1)])],8,Mf),A.job_count===0?(y(),v("button",{key:0,onClick:Ve(D=>h.deleteLocation(A),["stop"]),class:"btn-outlined btn-small text-error-600 border-error-600 hover:bg-error-50"},[...t[90]||(t[90]=[l("span",{class:"material-icon-sm"},"delete",-1)])],8,Lf)):le("",!0)])):le("",!0)]),l("div",Uf,[l("h3",jf,I(A.name),1),l("p",Vf,I(A.address||"No address specified"),1),l("div",Jf,[l("div",Hf,[l("span",Wf,I(A.job_count),1),t[92]||(t[92]=l("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Fault Reports",-1))])])]),t[93]||(t[93]=l("div",{class:"location-footer card-footer"},[l("div",{class:"location-click-hint text-label-medium text-on-surface-variant"},[l("span",{class:"material-icon-sm mr-1"},"filter_list"),X(" Click to filter jobs ")])],-1))],8,Rf))),128)):le("",!0)])):a.locationsViewMode==="table"?(y(),v("div",Gf,[a.locations===null?(y(),v("div",Xf,[...t[94]||(t[94]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading locations...",-1)])])):a.locations&&a.locations.length===0?(y(),v("div",zf,[...t[95]||(t[95]=[l("div",{class:"default-location-icon"},"",-1),l("h3",null,"Default Location",-1),l("p",null,"Using client name as default location. Add specific locations if needed.",-1)])])):a.locations&&a.locations.length>0?(y(),v("div",Yf,[l("table",Kf,[l("thead",null,[l("tr",null,[t[96]||(t[96]=l("th",{class:"col-name"},"Location Name",-1)),t[97]||(t[97]=l("th",{class:"col-address"},"Address",-1)),t[98]||(t[98]=l("th",{class:"col-jobs"},"Fault Reports",-1)),a.isAdmin?(y(),v("th",Zf,"Actions")):le("",!0)])]),l("tbody",null,[(y(!0),v(Me,null,ze(a.locations,A=>(y(),v("tr",{key:A.id,class:"location-row",onClick:D=>h.filterJobsByLocation(A)},[l("td",Qf,[l("div",$f,[t[99]||(t[99]=l("span",{class:"location-icon"},"",-1)),l("span",e8,I(A.name),1)])]),l("td",t8,I(A.address||"No address specified"),1),l("td",s8,[l("span",n8,I(A.job_count),1)]),a.isAdmin?(y(),v("td",r8,[l("div",i8,[l("button",{onClick:Ve(D=>h.editLocation(A),["stop"]),class:"btn-secondary btn-small"}," Edit ",8,o8),A.job_count===0?(y(),v("button",{key:0,onClick:Ve(D=>h.deleteLocation(A),["stop"]),class:"btn-danger btn-small"}," Delete ",8,x8)):le("",!0)])])):le("",!0)],8,qf))),128))])])])):le("",!0)])):le("",!0)],512),[[J0,a.sectionsExpanded.locations]])])):le("",!0),a.userRole===2?(y(),v("div",l8,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[8]||(t[8]=A=>h.toggleSection("providers")),style:{cursor:"pointer"}},[l("div",a8,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.providers}])},[...t[100]||(t[100]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[101]||(t[101]=l("h2",{class:"text-title-large text-on-surface mb-0"},"Approved Service Providers",-1))]),a.isAdmin?(y(),Zx(g,{key:0,to:"/browse-providers",class:"btn-outlined",onClick:t[7]||(t[7]=Ve(()=>{},["stop"]))},{default:D0(()=>[...t[102]||(t[102]=[l("span",{class:"material-icon-sm mr-2"},"search",-1),X(" Browse Providers ",-1)])]),_:1})):le("",!0)]),he(l("div",c8,[l("div",d8,[a.approvedProviders===null?(y(),v("div",u8,[...t[103]||(t[103]=[l("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),l("p",{class:"text-body-large text-on-surface-variant"},"Loading providers...",-1)])])):a.approvedProviders&&a.approvedProviders.length>0?(y(!0),v(Me,{key:1},ze(a.approvedProviders,A=>(y(),v("div",{key:A.id,class:"provider-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3"},[l("div",f8,[l("div",h8,[l("span",E8,I(A.name.charAt(0).toUpperCase()),1)]),l("div",g8,[l("button",{onClick:D=>h.viewProviderJobs(A),class:"btn-outlined btn-small"},[...t[104]||(t[104]=[l("span",{class:"material-icon-sm"},"visibility",-1)])],8,C8)])]),l("div",m8,[l("h3",A8,I(A.name),1),l("p",p8,I(A.address),1),l("div",B8,[l("div",b8,[l("span",w8,I(A.total_jobs),1),t[105]||(t[105]=l("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Total",-1))]),l("div",D8,[l("span",F8,I(A.active_jobs),1),t[106]||(t[106]=l("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Active",-1))]),l("div",y8,[l("span",v8,I(A.completed_jobs),1),t[107]||(t[107]=l("span",{class:"stat-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Completed",-1))])])]),l("div",_8,[l("div",k8,[t[108]||(t[108]=l("span",{class:"material-icon-sm mr-1"},"check_circle",-1)),X(" Approved "+I(h.formatDate(A.approved_at)),1)])])]))),128)):a.approvedProviders&&a.approvedProviders.length===0?(y(),v("div",I8,[...t[109]||(t[109]=[l("div",{class:"material-icon-xl text-neutral-400 mb-4"},"handshake",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"No approved providers",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Browse and approve service providers to get started.",-1)])])):(y(),v("div",S8,[...t[110]||(t[110]=[l("div",{class:"error-icon material-icon-xl text-error-400 mb-4"},"error",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"Failed to load providers",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Please try refreshing the page.",-1)])]))])],512),[[J0,a.sectionsExpanded.providers]])])):le("",!0),l("div",T8,[a.userRole===2?(y(),v("div",P8,[t[112]||(t[112]=l("h2",{class:"text-title-large text-on-surface mb-0"},"Job Management",-1)),l("button",{onClick:t[9]||(t[9]=A=>a.showCreateJobModal=!0),class:"btn-filled"},[...t[111]||(t[111]=[l("span",{class:"material-icon-sm mr-2"},"add",-1),X(" Report New Fault ",-1)])])])):(y(),v("div",R8,[l("button",{onClick:t[10]||(t[10]=A=>a.showCreateJobModal=!0),class:"btn-filled"},[...t[113]||(t[113]=[l("span",{class:"material-icon-sm mr-2"},"add",-1),X(" Report New Fault ",-1)])])])),l("div",N8,[l("div",O8,[t[115]||(t[115]=l("label",{for:"status-filter",class:"form-label mb-1"},"Status:",-1)),he(l("select",{id:"status-filter","onUpdate:modelValue":t[11]||(t[11]=A=>a.jobFilters.status=A),onChange:t[12]||(t[12]=(...A)=>h.loadJobs&&h.loadJobs(...A)),class:"form-input"},[...t[114]||(t[114]=[Xs('<option value="" data-v-29680b0d>All Statuses</option><option value="Reported" data-v-29680b0d>Reported</option><option value="Assigned" data-v-29680b0d>Assigned</option><option value="In Progress" data-v-29680b0d>In Progress</option><option value="Completed" data-v-29680b0d>Completed</option>',5)])],544),[[kt,a.jobFilters.status]])]),a.userRole===2?(y(),v("div",M8,[t[117]||(t[117]=l("label",{for:"archive-filter",class:"form-label mb-1"},"Archive Status:",-1)),he(l("select",{id:"archive-filter","onUpdate:modelValue":t[13]||(t[13]=A=>a.jobFilters.archive_status=A),onChange:t[14]||(t[14]=(...A)=>h.loadJobs&&h.loadJobs(...A)),class:"form-input"},[...t[116]||(t[116]=[l("option",{value:""},"All Jobs",-1),l("option",{value:"active"},"Active Jobs",-1),l("option",{value:"archived"},"Archived Jobs",-1)])],544),[[kt,a.jobFilters.archive_status]])])):le("",!0),a.userRole===2?(y(),v("div",L8,[t[119]||(t[119]=l("label",{for:"location-filter",class:"form-label mb-1"},"Location:",-1)),he(l("select",{id:"location-filter","onUpdate:modelValue":t[15]||(t[15]=A=>a.jobFilters.location_id=A),onChange:t[16]||(t[16]=(...A)=>h.loadJobs&&h.loadJobs(...A)),class:"form-input"},[t[118]||(t[118]=l("option",{value:""},"All Locations",-1)),(y(!0),v(Me,null,ze(a.locations,A=>(y(),v("option",{key:A.id,value:A.id},I(A.name),9,U8))),128))],544),[[kt,a.jobFilters.location_id]])])):le("",!0),a.userRole===2?(y(),v("div",j8,[t[121]||(t[121]=l("label",{for:"provider-filter",class:"form-label mb-1"},"Provider:",-1)),he(l("select",{id:"provider-filter","onUpdate:modelValue":t[17]||(t[17]=A=>a.jobFilters.provider_id=A),onChange:t[18]||(t[18]=(...A)=>h.loadJobs&&h.loadJobs(...A)),class:"form-input"},[t[120]||(t[120]=l("option",{value:""},"All Providers",-1)),(y(!0),v(Me,null,ze(a.approvedProviders,A=>(y(),v("option",{key:A.service_provider_id,value:A.service_provider_id},I(A.name),9,V8))),128))],544),[[kt,a.jobFilters.provider_id]])])):le("",!0)]),l("div",J8,[a.jobs===null?(y(),v("div",H8,[...t[122]||(t[122]=[l("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),l("p",{class:"text-body-large text-on-surface-variant"},"Loading jobs...",-1)])])):a.jobs&&a.jobs.length>0?(y(!0),v(Me,{key:1},ze(a.jobs,A=>(y(),v("div",{key:A.id,class:"job-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3"},[l("div",W8,[l("div",G8,[l("span",{class:xt(["status-badge",h.getStatusClass(A.job_status)])},I(A.job_status),3)]),l("div",X8,[h.canEditJob(A)?(y(),v("button",{key:0,onClick:D=>h.editJob(A),class:"btn-outlined btn-small"},[...t[123]||(t[123]=[l("span",{class:"material-icon-sm"},"edit",-1)])],8,z8)):(y(),v("button",{key:1,onClick:D=>h.viewJobDetails(A),class:"btn-outlined btn-small"},[...t[124]||(t[124]=[l("span",{class:"material-icon-sm"},"visibility",-1)])],8,Y8)),a.userRole===2?(y(),v("button",{key:2,onClick:D=>h.toggleArchiveJob(A),class:xt(["btn-outlined btn-small",{"text-orange-600 border-orange-600":A.archived_by_client}])},[l("span",Z8,I(A.archived_by_client?"unarchive":"archive"),1)],10,K8)):le("",!0)])]),l("div",q8,[l("h3",Q8,I(A.item_identifier||"No Item ID"),1),l("p",$8,I(A.fault_description),1),l("p",e9,[t[125]||(t[125]=l("span",{class:"material-icon-sm mr-1"},"location_on",-1)),X(" "+I(A.location_name),1)]),l("div",t9,[l("div",s9,[t[126]||(t[126]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Reported by:",-1)),l("span",n9,I(A.reporting_user),1)]),l("div",r9,[t[127]||(t[127]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Date:",-1)),l("span",i9,I(h.formatDate(A.created_at)),1)]),l("div",o9,[t[128]||(t[128]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Provider:",-1)),l("span",x9,I(A.assigned_provider_name||"Not assigned"),1)]),l("div",l9,[t[129]||(t[129]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Images:",-1)),l("span",a9,I(A.image_count),1)])])]),l("div",c9,[l("div",d9,[t[130]||(t[130]=l("span",{class:"material-icon-sm mr-1"},"schedule",-1)),X(" Last updated "+I(h.formatDate(A.updated_at)),1)])])]))),128)):a.jobs&&a.jobs.length===0?(y(),v("div",u9,[...t[131]||(t[131]=[l("div",{class:"no-jobs-icon material-icon-xl text-neutral-400 mb-4"},"build",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"No jobs found",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Report your first fault to get started.",-1)])])):(y(),v("div",f9,[...t[132]||(t[132]=[l("div",{class:"error-icon material-icon-xl text-error-400 mb-4"},"error",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"Failed to load jobs",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Please try refreshing the page.",-1)])]))])])]),a.showAddUserModal?(y(),v("div",{key:0,class:"modal-overlay",onClick:t[29]||(t[29]=A=>a.showAddUserModal=!1)},[l("div",{class:"modal-content",onClick:t[28]||(t[28]=Ve(()=>{},["stop"]))},[l("div",h9,[t[133]||(t[133]=l("h3",null,"Add New User",-1)),l("button",{onClick:t[19]||(t[19]=A=>a.showAddUserModal=!1),class:"close-btn"},"")]),l("form",{onSubmit:t[27]||(t[27]=Ve((...A)=>h.addUser&&h.addUser(...A),["prevent"])),class:"user-form"},[l("div",E9,[l("div",g9,[t[134]||(t[134]=l("label",{for:"username"},"Username *",-1)),he(l("input",{type:"text",id:"username","onUpdate:modelValue":t[20]||(t[20]=A=>a.newUser.username=A),required:""},null,512),[[Re,a.newUser.username]])]),l("div",C9,[t[135]||(t[135]=l("label",{for:"email"},"Email Address *",-1)),he(l("input",{type:"email",id:"email","onUpdate:modelValue":t[21]||(t[21]=A=>a.newUser.email=A),required:""},null,512),[[Re,a.newUser.email]])])]),l("div",m9,[l("div",A9,[t[136]||(t[136]=l("label",{for:"first_name"},"First Name *",-1)),he(l("input",{type:"text",id:"first_name","onUpdate:modelValue":t[22]||(t[22]=A=>a.newUser.first_name=A),required:""},null,512),[[Re,a.newUser.first_name]])]),l("div",p9,[t[137]||(t[137]=l("label",{for:"last_name"},"Last Name *",-1)),he(l("input",{type:"text",id:"last_name","onUpdate:modelValue":t[23]||(t[23]=A=>a.newUser.last_name=A),required:""},null,512),[[Re,a.newUser.last_name]])])]),l("div",B9,[l("div",b9,[t[138]||(t[138]=l("label",{for:"phone"},"Phone Number *",-1)),he(l("input",{type:"tel",id:"phone","onUpdate:modelValue":t[24]||(t[24]=A=>a.newUser.phone=A),required:"",placeholder:"+27 12 345 6789"},null,512),[[Re,a.newUser.phone]])]),l("div",w9,[t[140]||(t[140]=l("label",{for:"role"},"Role *",-1)),he(l("select",{id:"role","onUpdate:modelValue":t[25]||(t[25]=A=>a.newUser.role_id=A),required:""},[t[139]||(t[139]=l("option",{value:""},"Select Role",-1)),(y(!0),v(Me,null,ze(a.availableRoles,A=>(y(),v("option",{key:A.id,value:A.id},I(A.name),9,D9))),128))],512),[[kt,a.newUser.role_id]])])]),l("div",F9,[l("button",{type:"button",onClick:t[26]||(t[26]=A=>a.showAddUserModal=!1),class:"btn-secondary"},"Cancel"),l("button",{type:"submit",class:"btn-primary",disabled:a.addingUser},I(a.addingUser?"Adding User...":"Add User"),9,y9)])],32)])])):le("",!0),a.showEditUserModal?(y(),v("div",{key:1,class:"modal-overlay",onClick:t[39]||(t[39]=A=>a.showEditUserModal=!1)},[l("div",{class:"modal-content",onClick:t[38]||(t[38]=Ve(()=>{},["stop"]))},[l("div",v9,[l("h3",null,"Edit User: "+I(a.editingUser.username),1),l("button",{onClick:t[30]||(t[30]=A=>a.showEditUserModal=!1),class:"close-btn"},"")]),l("form",{onSubmit:t[37]||(t[37]=Ve((...A)=>h.updateUser&&h.updateUser(...A),["prevent"])),class:"user-form"},[l("div",_9,[l("div",k9,[t[141]||(t[141]=l("label",{for:"edit-username"},"Username",-1)),he(l("input",{type:"text",id:"edit-username","onUpdate:modelValue":t[31]||(t[31]=A=>a.editingUser.username=A),disabled:""},null,512),[[Re,a.editingUser.username]]),t[142]||(t[142]=l("small",{class:"form-help"},"Username cannot be changed",-1))]),l("div",I9,[t[143]||(t[143]=l("label",{for:"edit-email"},"Email Address *",-1)),he(l("input",{type:"email",id:"edit-email","onUpdate:modelValue":t[32]||(t[32]=A=>a.editingUser.email=A),required:""},null,512),[[Re,a.editingUser.email]])])]),l("div",S9,[l("div",T9,[t[144]||(t[144]=l("label",{for:"edit-role"},"Role *",-1)),he(l("select",{id:"edit-role","onUpdate:modelValue":t[33]||(t[33]=A=>a.editingUser.role_id=A),required:""},[(y(!0),v(Me,null,ze(a.availableRoles,A=>(y(),v("option",{key:A.id,value:A.id},I(A.name),9,P9))),128))],512),[[kt,a.editingUser.role_id]])]),l("div",R9,[t[145]||(t[145]=l("label",{for:"edit-mobile"},"Mobile Number",-1)),he(l("input",{type:"tel",id:"edit-mobile","onUpdate:modelValue":t[34]||(t[34]=A=>a.editingUser.mobile=A),placeholder:"+27 12 345 6789"},null,512),[[Re,a.editingUser.mobile]])])]),l("div",N9,[t[146]||(t[146]=l("label",{for:"edit-password"},"New Password (leave blank to keep current)",-1)),he(l("input",{type:"password",id:"edit-password","onUpdate:modelValue":t[35]||(t[35]=A=>a.editingUser.newPassword=A),minlength:"6"},null,512),[[Re,a.editingUser.newPassword]]),t[147]||(t[147]=l("small",{class:"form-help"},"Minimum 6 characters",-1))]),l("div",O9,[l("button",{type:"button",onClick:t[36]||(t[36]=A=>a.showEditUserModal=!1),class:"btn-secondary"},"Cancel"),l("button",{type:"submit",class:"btn-primary",disabled:a.updatingUser},I(a.updatingUser?"Updating...":"Update User"),9,M9)])],32)])])):le("",!0),a.showCreateJobModal?(y(),v("div",{key:2,class:"modal-overlay",onClick:t[49]||(t[49]=A=>a.showCreateJobModal=!1)},[l("div",{class:"modal-content",onClick:t[48]||(t[48]=Ve(()=>{},["stop"]))},[l("div",L9,[t[148]||(t[148]=l("h3",null,"Report New Fault",-1)),l("button",{onClick:t[40]||(t[40]=A=>a.showCreateJobModal=!1),class:"close-btn"},"")]),l("form",{onSubmit:t[47]||(t[47]=Ve((...A)=>h.createJob&&h.createJob(...A),["prevent"])),class:"job-form"},[l("div",U9,[l("div",j9,[t[149]||(t[149]=l("label",{for:"item-identifier"},"Item Identifier *",-1)),l("div",V9,[he(l("input",{type:"text",id:"item-identifier","onUpdate:modelValue":t[41]||(t[41]=A=>a.newJob.item_identifier=A),required:"",placeholder:"e.g., Computer-001, Printer-ABC or scan QR code"},null,512),[[Re,a.newJob.item_identifier]]),vt(C,{"client-id":h.getClientId(),onQrDetected:h.handleQrDetected,class:"qr-scanner-inline"},null,8,["client-id","onQrDetected"])]),t[150]||(t[150]=l("small",{class:"form-help"},"Required: Unique identifier for the item (scan QR or enter manually)",-1))]),l("div",J9,[t[153]||(t[153]=l("label",{for:"location"},"Location",-1)),a.locations&&a.locations.length>0?he((y(),v("select",{key:0,id:"location","onUpdate:modelValue":t[42]||(t[42]=A=>a.newJob.client_location_id=A)},[t[151]||(t[151]=l("option",{value:""},"Select Location (optional)",-1)),(y(!0),v(Me,null,ze(a.locations,A=>(y(),v("option",{key:A.id,value:A.id},I(A.name),9,H9))),128))],512)),[[kt,a.newJob.client_location_id]]):(y(),v("div",W9,[t[152]||(t[152]=l("span",{class:"default-location-text"},"Default Location (Client Name)",-1)),he(l("input",{type:"hidden","onUpdate:modelValue":t[43]||(t[43]=A=>a.newJob.client_location_id=A),value:""},null,512),[[Re,a.newJob.client_location_id]])])),t[154]||(t[154]=l("small",{class:"form-help"}," Optional: Can be auto-filled from QR code. If no custom locations defined, this fault will be associated with your client name. ",-1))])]),l("div",G9,[t[155]||(t[155]=l("label",{for:"fault-description"},"Fault Description *",-1)),he(l("textarea",{id:"fault-description","onUpdate:modelValue":t[44]||(t[44]=A=>a.newJob.fault_description=A),required:"",rows:"4",placeholder:"Describe the fault in detail..."},null,512),[[Re,a.newJob.fault_description]])]),l("div",X9,[t[156]||(t[156]=l("label",{for:"contact-person"},"Contact Person",-1)),he(l("input",{type:"text",id:"contact-person","onUpdate:modelValue":t[45]||(t[45]=A=>a.newJob.contact_person=A),placeholder:"Person to contact about this fault"},null,512),[[Re,a.newJob.contact_person]]),t[157]||(t[157]=l("small",{class:"form-help"},"Optional: Who should the technician contact?",-1))]),vt(w,{ref:"imageUpload","max-images":10,"max-file-size":10*1024*1024,onImagesChanged:h.handleImagesChanged},null,8,["onImagesChanged"]),l("div",z9,[l("button",{type:"button",onClick:t[46]||(t[46]=A=>a.showCreateJobModal=!1),class:"btn-secondary"},"Cancel"),l("button",{type:"submit",class:"btn-primary",disabled:a.creatingJob},I(a.creatingJob?"Reporting Fault...":"Report Fault"),9,Y9)])],32)])])):le("",!0),a.showAddLocationModal?(y(),v("div",{key:3,class:"modal-overlay",onClick:t[56]||(t[56]=A=>a.showAddLocationModal=!1)},[l("div",{class:"modal-content",onClick:t[55]||(t[55]=Ve(()=>{},["stop"]))},[l("div",K9,[t[158]||(t[158]=l("h3",null,"Add New Location",-1)),l("button",{onClick:t[50]||(t[50]=A=>a.showAddLocationModal=!1),class:"close-btn"},"")]),l("form",{onSubmit:t[54]||(t[54]=Ve((...A)=>h.addLocation&&h.addLocation(...A),["prevent"])),class:"location-form"},[l("div",Z9,[t[159]||(t[159]=l("label",{for:"location-name"},"Location Name *",-1)),he(l("input",{type:"text",id:"location-name","onUpdate:modelValue":t[51]||(t[51]=A=>a.newLocation.name=A),required:"",placeholder:"e.g., Main Office, Warehouse, Branch Office"},null,512),[[Re,a.newLocation.name]])]),l("div",q9,[t[160]||(t[160]=l("label",{for:"location-address"},"Address",-1)),he(l("textarea",{id:"location-address","onUpdate:modelValue":t[52]||(t[52]=A=>a.newLocation.address=A),rows:"3",placeholder:"Street address, city, postal code"},null,512),[[Re,a.newLocation.address]]),t[161]||(t[161]=l("small",{class:"form-help"},"Optional: Physical address of the location",-1))]),l("div",Q9,[l("button",{type:"button",onClick:t[53]||(t[53]=A=>a.showAddLocationModal=!1),class:"btn-secondary"},"Cancel"),l("button",{type:"submit",class:"btn-primary",disabled:a.addingLocation},I(a.addingLocation?"Adding Location...":"Add Location"),9,$9)])],32)])])):le("",!0),a.showJobDetailsModal?(y(),v("div",{key:4,class:"modal-overlay",onClick:t[59]||(t[59]=A=>a.showJobDetailsModal=!1)},[l("div",{class:"modal-content large-modal",onClick:t[58]||(t[58]=Ve(()=>{},["stop"]))},[l("div",e2,[l("h3",null,"Job Details: "+I(a.selectedJob?.item_identifier||"No Item ID"),1),l("button",{onClick:t[57]||(t[57]=A=>a.showJobDetailsModal=!1),class:"close-btn"},"")]),a.selectedJob?(y(),v("div",t2,[l("div",s2,[l("div",n2,[l("div",r2,[t[162]||(t[162]=l("label",null,"Status:",-1)),l("span",{class:xt(["status-badge",h.getStatusClass(a.selectedJob.job_status)])},I(a.selectedJob.job_status),3)]),l("div",i2,[t[163]||(t[163]=l("label",null,"Location:",-1)),l("span",null,I(a.selectedJob.location_name),1)]),l("div",o2,[t[164]||(t[164]=l("label",null,"Reported By:",-1)),l("span",null,I(a.selectedJob.reporting_user),1)]),l("div",x2,[t[165]||(t[165]=l("label",null,"Date Reported:",-1)),l("span",null,I(h.formatDate(a.selectedJob.created_at)),1)]),a.selectedJob.assigned_provider_name?(y(),v("div",l2,[t[166]||(t[166]=l("label",null,"Assigned Provider:",-1)),l("span",null,I(a.selectedJob.assigned_provider_name),1)])):le("",!0),l("div",a2,[t[167]||(t[167]=l("label",null,"Last Updated:",-1)),l("span",null,I(h.formatDate(a.selectedJob.updated_at)),1)])]),l("div",c2,[t[168]||(t[168]=l("label",null,"Fault Description:",-1)),l("p",d2,I(a.selectedJob.fault_description),1)]),a.selectedJob.contact_person?(y(),v("div",u2,[t[169]||(t[169]=l("label",null,"Contact Person:",-1)),l("span",null,I(a.selectedJob.contact_person),1)])):le("",!0)]),l("div",f2,[l("h4",null,"Attached Images ("+I(a.selectedJob.images?.length||0)+")",1),!a.selectedJob.images||a.selectedJob.images.length===0?(y(),v("div",h2,[...t[170]||(t[170]=[l("div",{class:"no-images-icon"},"",-1),l("p",null,"No images attached to this job",-1)])])):(y(),v("div",E2,[l("div",g2,[(y(!0),v(Me,null,ze(a.selectedJob.images,A=>(y(),v("div",{key:A.id,class:"gallery-item"},[l("img",{src:`/backend/uploads/job_images/${A.filename}`,alt:A.original_filename,class:"gallery-image",onClick:D=>h.openImageModal(A)},null,8,C2),l("div",m2,[l("span",A2,I(A.original_filename),1)])]))),128))])]))])])):le("",!0)])])):le("",!0),a.showEditJobModal?(y(),v("div",{key:5,class:"modal-overlay",onClick:t[69]||(t[69]=A=>a.showEditJobModal=!1)},[l("div",{class:"modal-content large-modal",onClick:t[68]||(t[68]=Ve(()=>{},["stop"]))},[l("div",p2,[l("h3",null,"Edit Job: "+I(a.editingJob?.item_identifier||"No Item ID"),1),l("button",{onClick:t[60]||(t[60]=A=>a.showEditJobModal=!1),class:"close-btn"},"")]),a.editingJob?(y(),v("form",{key:0,onSubmit:t[67]||(t[67]=Ve((...A)=>h.updateJob&&h.updateJob(...A),["prevent"])),class:"job-form"},[l("div",B2,[l("div",b2,[t[175]||(t[175]=l("label",{for:"edit-status"},"Status *",-1)),he(l("select",{id:"edit-status","onUpdate:modelValue":t[61]||(t[61]=A=>a.editingJob.job_status=A),required:""},[t[171]||(t[171]=l("option",{value:"Reported"},"Reported",-1)),l("option",{value:"Assigned",disabled:!a.editingJob.assigned_provider_id},"Assigned",8,w2),t[172]||(t[172]=l("option",{value:"In Progress",disabled:""},"In Progress",-1)),t[173]||(t[173]=l("option",{value:"Completed",disabled:""},"Completed",-1)),t[174]||(t[174]=l("option",{value:"Declined",disabled:""},"Declined",-1)),l("option",{value:"Quote Requested",disabled:!a.editingJob.assigned_provider_id},"Quote Requested",8,D2)],512),[[kt,a.editingJob.job_status]]),!a.editingJob.assigned_provider_id&&(a.editingJob.job_status==="Assigned"||a.editingJob.job_status==="Quote Requested")?(y(),v("small",F2," A service provider must be selected to set this status ")):le("",!0)]),a.userRole===2?(y(),v("div",y2,[t[177]||(t[177]=l("label",{for:"edit-provider"},"Assigned Provider",-1)),he(l("select",{id:"edit-provider","onUpdate:modelValue":t[62]||(t[62]=A=>a.editingJob.assigned_provider_id=A)},[t[176]||(t[176]=l("option",{value:""},"No Provider Assigned",-1)),(y(!0),v(Me,null,ze(a.approvedProviders,A=>(y(),v("option",{key:A.service_provider_id,value:A.service_provider_id},I(A.name),9,v2))),128))],512),[[kt,a.editingJob.assigned_provider_id]])])):a.editingJob.assigned_provider_name?(y(),v("div",_2,[t[178]||(t[178]=l("label",null,"Assigned Provider",-1)),l("div",k2,I(a.editingJob.assigned_provider_name),1),t[179]||(t[179]=l("small",{class:"form-help"},"Only Budget Controllers can change provider assignments",-1))])):le("",!0)]),h.canEditJobDetails(a.editingJob)?(y(),v("div",I2,[t[186]||(t[186]=l("h4",null,"Job Details",-1)),l("div",S2,[l("div",T2,[t[180]||(t[180]=l("label",{for:"edit-item-identifier"},"Item Identifier",-1)),he(l("input",{type:"text",id:"edit-item-identifier","onUpdate:modelValue":t[63]||(t[63]=A=>a.editingJob.item_identifier=A),placeholder:"e.g., Computer-001, Printer-ABC"},null,512),[[Re,a.editingJob.item_identifier]]),t[181]||(t[181]=l("small",{class:"form-help"},"Optional: Unique identifier for the item",-1))]),l("div",P2,[t[182]||(t[182]=l("label",{for:"edit-contact-person"},"Contact Person",-1)),he(l("input",{type:"text",id:"edit-contact-person","onUpdate:modelValue":t[64]||(t[64]=A=>a.editingJob.contact_person=A),placeholder:"Person to contact about this fault"},null,512),[[Re,a.editingJob.contact_person]]),t[183]||(t[183]=l("small",{class:"form-help"},"Optional: Who should the technician contact?",-1))])]),l("div",R2,[t[184]||(t[184]=l("label",{for:"edit-fault-description"},"Fault Description *",-1)),he(l("textarea",{id:"edit-fault-description","onUpdate:modelValue":t[65]||(t[65]=A=>a.editingJob.fault_description=A),required:"",rows:"4",placeholder:"Describe the fault in detail..."},null,512),[[Re,a.editingJob.fault_description]])]),l("div",N2,[t[185]||(t[185]=l("label",null,"Attach Additional Images",-1)),vt(w,{ref:"editImageUpload","max-images":10,"max-file-size":10*1024*1024,onImagesChanged:h.handleEditImagesChanged},null,8,["onImagesChanged"])])])):(y(),v("div",O2,[t[190]||(t[190]=l("h4",null,"Job Details (Read Only)",-1)),l("div",M2,[l("div",L2,[t[187]||(t[187]=l("label",null,"Item Identifier:",-1)),l("span",null,I(a.editingJob.item_identifier||"Not specified"),1)]),l("div",U2,[t[188]||(t[188]=l("label",null,"Contact Person:",-1)),l("span",null,I(a.editingJob.contact_person||"Not specified"),1)]),l("div",j2,[t[189]||(t[189]=l("label",null,"Fault Description:",-1)),l("span",null,I(a.editingJob.fault_description),1)])])])),l("div",V2,[l("h4",null,"Attached Images ("+I(a.editingJob.images?.length||0)+")",1),!a.editingJob.images||a.editingJob.images.length===0?(y(),v("div",J2,[...t[191]||(t[191]=[l("div",{class:"no-images-icon"},"",-1),l("p",null,"No images attached to this job",-1)])])):(y(),v("div",H2,[l("div",W2,[(y(!0),v(Me,null,ze(a.editingJob.images,A=>(y(),v("div",{key:A.id,class:"gallery-item"},[l("img",{src:`/backend/uploads/job_images/${A.filename}`,alt:A.original_filename,class:"gallery-image",onClick:D=>h.openImageModal(A)},null,8,G2),l("div",X2,[l("span",z2,I(A.original_filename),1)])]))),128))])]))]),l("div",Y2,[l("button",{type:"button",onClick:t[66]||(t[66]=A=>a.showEditJobModal=!1),class:"btn-secondary"},"Cancel"),t[192]||(t[192]=l("button",{type:"submit",class:"btn-primary"}," Update Job ",-1))])],32)):le("",!0)])])):le("",!0),a.selectedImage?(y(),v("div",{key:6,class:"modal-overlay",onClick:t[72]||(t[72]=A=>a.selectedImage=null)},[l("div",{class:"image-modal-content",onClick:t[71]||(t[71]=Ve(()=>{},["stop"]))},[l("div",K2,[l("h3",null,I(a.selectedImage.original_filename),1),l("button",{onClick:t[70]||(t[70]=A=>a.selectedImage=null),class:"close-btn"},"")]),l("div",Z2,[l("img",{src:`/backend/uploads/job_images/${a.selectedImage.filename}`,alt:a.selectedImage.original_filename,class:"full-size-image"},null,8,q2)])])])):le("",!0)])}const $2=u0(Yu,[["render",Q2],["__scopeId","data-v-29680b0d"]]),eh={name:"ServiceProviderRegistration",data(){return{form:{providerName:"",address:"",username:"",email:"",password:""}}},methods:{async register(){try{const n=await fetch("/backend/api/register-service-provider.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await n.json();n.ok?(alert("Registration successful! Please check your email to verify your account before signing in."),this.$router.push("/")):alert(t.error)}catch{alert("Registration failed. Please try again.")}}}},th={class:"registration"},sh={class:"form-group"},nh={class:"form-group"},rh={class:"form-group"},ih={class:"form-group"},oh={class:"form-group"};function xh(n,t,c,f,a,h){const g=O0("router-link");return y(),v("div",th,[t[14]||(t[14]=l("h2",null,"Service Provider Registration",-1)),l("form",{onSubmit:t[5]||(t[5]=Ve((...C)=>h.register&&h.register(...C),["prevent"]))},[l("div",sh,[t[6]||(t[6]=l("label",{for:"providerName"},"Company Name:",-1)),he(l("input",{type:"text",id:"providerName","onUpdate:modelValue":t[0]||(t[0]=C=>a.form.providerName=C),required:""},null,512),[[Re,a.form.providerName]])]),l("div",nh,[t[7]||(t[7]=l("label",{for:"address"},"Address:",-1)),he(l("textarea",{id:"address","onUpdate:modelValue":t[1]||(t[1]=C=>a.form.address=C),required:""},null,512),[[Re,a.form.address]])]),l("div",rh,[t[8]||(t[8]=l("label",{for:"username"},"Username:",-1)),he(l("input",{type:"text",id:"username","onUpdate:modelValue":t[2]||(t[2]=C=>a.form.username=C),required:""},null,512),[[Re,a.form.username]])]),l("div",ih,[t[9]||(t[9]=l("label",{for:"email"},"Email:",-1)),he(l("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=C=>a.form.email=C),required:""},null,512),[[Re,a.form.email]])]),l("div",oh,[t[10]||(t[10]=l("label",{for:"password"},"Password:",-1)),he(l("input",{type:"password",id:"password","onUpdate:modelValue":t[4]||(t[4]=C=>a.form.password=C),required:""},null,512),[[Re,a.form.password]])]),t[11]||(t[11]=l("button",{type:"submit"},"Register",-1))],32),l("p",null,[t[13]||(t[13]=X("Already have an account? ",-1)),vt(g,{to:"/"},{default:D0(()=>[...t[12]||(t[12]=[X("Sign In",-1)])]),_:1})])])}const lh=u0(eh,[["render",xh],["__scopeId","data-v-6e196bf1"]]),ah={name:"ServiceProviderDashboard",data(){return{profile:{},services:[],regions:[],approvedClients:[],technicians:[],jobs:null,profileCompleteness:0,availableServices:[],availableRegions:[],selectedServices:[],selectedRegions:[],primaryServiceId:null,showProfileModal:!1,showServicesModal:!1,showRegionsModal:!1,showAddTechnicianModal:!1,showEditTechnicianModal:!1,showJobDetailsModal:!1,showEditJobModal:!1,loading:!1,editingTechnician:null,selectedJob:null,selectedImage:null,editingJob:null,originalJobStatus:null,originalProviderId:null,editingImages:[],userRole:null,selectedTechnicianId:null,jobFilters:{status:"",client_id:"",technician_id:""},sectionsExpanded:{profile:!1,services:!1,regions:!1,technicians:!1,clients:!1,jobs:!0},technicianForm:{username:"",email:"",first_name:"",last_name:"",phone:""},editForm:{name:"",address:"",website:"",description:"",manager_name:"",manager_email:"",manager_phone:"",vat_number:"",business_registration_number:""}}},mounted(){this.getUserRole(),this.loadProfile(),this.loadAvailableOptions(),this.loadApprovedClients(),this.loadJobs(),this.userRole===3&&this.loadTechnicians()},methods:{async loadProfile(){try{const n=await Ye("/backend/api/service-provider-profile.php");if(n.ok){const t=await n.json();this.profile=t.profile,this.services=t.services,this.regions=t.regions,this.profileCompleteness=t.profile_completeness,Object.keys(this.editForm).forEach(c=>{this.profile[c]!==void 0&&(this.editForm[c]=this.profile[c])}),this.selectedServices=this.services.map(c=>c.id),this.selectedRegions=this.regions.map(c=>c.id),this.primaryServiceId=this.services.find(c=>c.is_primary)?.id||null}else this.handleError(await n.json())}catch{alert("Failed to load profile")}},async loadAvailableOptions(){try{const n=await Ye("/backend/api/service-providers.php");if(n.ok){const t=await n.json();this.availableServices=t.filters.services,this.availableRegions=t.filters.regions}}catch{console.error("Failed to load available options")}},async updateProfile(){this.loading=!0;try{const n=await Ye("/backend/api/service-provider-profile.php",{method:"PUT",body:JSON.stringify(this.editForm)});if(n.ok){const t=await n.json();this.profile=t.profile,this.services=t.services,this.regions=t.regions,this.profileCompleteness=t.profile_completeness,this.showProfileModal=!1,alert("Profile updated successfully!")}else this.handleError(await n.json())}catch{alert("Failed to update profile")}finally{this.loading=!1}},async updateServices(){this.loading=!0;try{const n=this.selectedServices.map(c=>({id:c,is_primary:c===this.primaryServiceId})),t=await Ye("/backend/api/service-provider-profile.php",{method:"PUT",body:JSON.stringify({services:n})});if(t.ok){const c=await t.json();this.services=c.services,this.showServicesModal=!1,alert("Services updated successfully!")}else this.handleError(await t.json())}catch{alert("Failed to update services")}finally{this.loading=!1}},async updateRegions(){this.loading=!0;try{const n=this.selectedRegions.map(c=>({id:c})),t=await Ye("/backend/api/service-provider-profile.php",{method:"PUT",body:JSON.stringify({regions:n})});if(t.ok){const c=await t.json();this.regions=c.regions,this.showRegionsModal=!1,alert("Regions updated successfully!")}else this.handleError(await t.json())}catch{alert("Failed to update regions")}finally{this.loading=!1}},setPrimaryService(n){this.primaryServiceId=n},isPrimaryService(n){return this.primaryServiceId===n},getServiceName(n){const t=this.availableServices.find(c=>c.id===n);return t?t.name:"Unknown Service"},async loadApprovedClients(){try{const n=await Ye("/backend/api/service-provider-approved-clients.php");if(n.ok){const t=await n.json();this.approvedClients=t.clients}else console.error("Failed to load approved clients")}catch{console.error("Failed to load approved clients")}},viewClientJobs(n){this.$router.push(`/service-provider/client/${n}/jobs`)},viewTechnicianJobs(n){this.$router.push(`/service-provider/technician/${n.id}/jobs`)},formatDate(n){return new Date(n).toLocaleDateString()},getRegionName(n){const t=this.availableRegions.find(c=>c.id===n);return t?t.name:"Unknown Region"},signOut(){localStorage.removeItem("token"),this.$router.push("/")},getUserRole(){const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));this.userRole=t.role_id}catch(t){console.error("Error parsing token:",t),this.userRole=null}},handleError(n){n.error?alert(n.error):alert("An error occurred")},async loadTechnicians(){try{const n=await Ye("/backend/api/technicians.php");if(n.ok){const t=await n.json();this.technicians=t.technicians}else console.error("Failed to load technicians")}catch{console.error("Failed to load technicians")}},openAddTechnicianModal(){this.technicianForm={username:"",email:"",first_name:"",last_name:"",phone:""},this.editingTechnician=null,this.showAddTechnicianModal=!0},closeAddTechnicianModal(){this.showAddTechnicianModal=!1,this.technicianForm={username:"",email:"",first_name:"",last_name:"",phone:""}},async createTechnician(){if(!this.technicianForm.username||!this.technicianForm.email||!this.technicianForm.first_name||!this.technicianForm.last_name){alert("Please fill in all required fields");return}this.loading=!0;try{const n=await Ye("/backend/api/technicians.php",{method:"POST",body:JSON.stringify(this.technicianForm)});if(n.ok){const t=await n.json();this.closeAddTechnicianModal(),this.loadTechnicians(),alert("Technician created successfully!")}else this.handleError(await n.json())}catch{alert("Failed to create technician")}finally{this.loading=!1}},editTechnician(n){this.editingTechnician=n,this.technicianForm={username:n.username,email:n.email,first_name:n.first_name,last_name:n.last_name,phone:n.phone||"",is_active:n.is_active},this.showEditTechnicianModal=!0},closeEditTechnicianModal(){this.showEditTechnicianModal=!1,this.editingTechnician=null,this.technicianForm={username:"",password:"",email:"",first_name:"",last_name:"",phone:""}},async updateTechnician(){if(this.editingTechnician){this.loading=!0;try{const n=await Ye("/backend/api/technicians.php",{method:"PUT",body:JSON.stringify({technician_id:this.editingTechnician.id,...this.technicianForm})});n.ok?(this.closeEditTechnicianModal(),this.loadTechnicians(),alert("Technician updated successfully!")):this.handleError(await n.json())}catch{alert("Failed to update technician")}finally{this.loading=!1}}},async deleteTechnician(n){if(confirm(`Are you sure you want to delete ${n.full_name}?`))try{const t=await Ye(`/backend/api/technicians.php?id=${n.id}`,{method:"DELETE"});t.ok?(this.loadTechnicians(),alert("Technician deleted successfully!")):this.handleError(await t.json())}catch{alert("Failed to delete technician")}},async loadJobs(){try{const n=localStorage.getItem("token"),t=new URLSearchParams;if(this.userRole===4){const f=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));t.append("technician_id",f.user_id)}else this.jobFilters.status&&t.append("status",this.jobFilters.status),this.jobFilters.client_id&&t.append("client_id",this.jobFilters.client_id),this.jobFilters.technician_id&&t.append("technician_id",this.jobFilters.technician_id);const c=await Ye(`/backend/api/service-provider-jobs.php?${t}`);if(c.ok){const f=await c.json();this.jobs=f.jobs}else console.error("Failed to load jobs"),this.jobs=[]}catch(n){console.error("Failed to load jobs:",n),this.jobs=[]}},getStatusClass(n){return{Reported:"reported",Assigned:"assigned","In Progress":"in-progress",Completed:"completed"}[n]||"reported"},async viewJobDetails(n){if(this.selectedJob=n,this.showJobDetailsModal=!0,!n.images)try{const t=await Ye(`/backend/api/job-images.php?job_id=${n.id}`);if(t.ok){const c=await t.json();this.selectedJob.images=c.images||[]}}catch(t){console.error("Failed to load job images:",t),this.selectedJob.images=[]}},editJob(n){if(this.editingJob={...n},this.originalJobStatus=n.job_status,this.originalProviderId=n.assigned_provider_id,this.selectedTechnicianId=n.assigned_technician_id||null,n.images)this.editingJob.images=n.images;else try{Ye(`/backend/api/job-images.php?job_id=${n.id}`).then(c=>{if(c.ok)return c.json()}).then(c=>{this.editingJob.images=c.images||[]}).catch(c=>{console.error("Failed to load job images:",c),this.editingJob.images=[]})}catch(t){console.error("Failed to load job images:",t),this.editingJob.images=[]}this.loadApprovedClients().then(()=>{const t=this.approvedClients.some(c=>c.id==this.editingJob.assigned_provider_id);this.editingJob.assigned_provider_id&&!t&&(this.editingJob.assigned_provider_id=null),this.showEditJobModal=!0})},async updateJob(){if(this.userRole===3&&this.editingJob.job_status==="In Progress"&&!this.selectedTechnicianId){alert('Please select a technician before setting the job to "In Progress"');return}if(this.userRole===3&&this.originalJobStatus==="In Progress"&&this.editingJob.job_status==="In Progress"&&!this.selectedTechnicianId){alert('A technician must be assigned for jobs in "In Progress" status');return}try{const n=localStorage.getItem("token"),t={job_id:this.editingJob.id,status:this.editingJob.job_status};this.canEditJobDetails(this.editingJob)&&(t.item_identifier=this.editingJob.item_identifier||null,t.fault_description=this.editingJob.fault_description,t.contact_person=this.editingJob.contact_person||null),(this.userRole===3||this.userRole===4)&&(t.technician_notes=this.editingJob.technician_notes||null),this.editingJob.job_status!==this.originalJobStatus&&(t.job_status=this.editingJob.job_status),this.editingJob.assigned_provider_id!==this.originalProviderId&&(t.assigned_provider_id=this.editingJob.assigned_provider_id||null),this.editingJob.job_status==="In Progress"&&this.selectedTechnicianId?t.technician_id=this.selectedTechnicianId:this.originalJobStatus==="In Progress"&&this.selectedTechnicianId&&this.selectedTechnicianId!==this.editingJob.assigned_technician_id&&(t.technician_id=this.selectedTechnicianId);const c=Object.keys(t).length>1,f=this.editingImages&&this.editingImages.length>0;if(!c&&!f){alert("No changes to save");return}if(c){const a=await Ye("/backend/api/job-status-update.php",{method:"PUT",body:JSON.stringify(t)});if(!a.ok){const h=await a.json();this.handleError(h);return}}f&&await this.uploadEditJobImages(this.editingJob.id),alert("Job updated successfully!"),this.showEditJobModal=!1,this.loadJobs()}catch{alert("Failed to update job")}},canEditJobDetails(n){return n.job_status==="Reported"},handleEditImagesChanged(n){this.editingImages=n},async uploadEditJobImages(n){for(const t of this.editingImages){const c=new FormData;c.append("job_id",n),c.append("image",t.file);try{const f=await Ye("/backend/api/upload-job-image.php",{method:"POST",body:c});if(f.ok)console.log("Successfully uploaded additional image:",t.name);else{const a=await f.json();console.error("Failed to upload additional image:",t.name,a.error)}}catch(f){console.error("Error uploading additional image:",t.name,f)}}},openImageModal(n){this.selectedImage=n},toggleSection(n){this.sectionsExpanded[n]=!this.sectionsExpanded[n]},getAvailableStatuses(n,t){const c=[];return t===3?n.job_status==="Quote Requested"?c.push("Quote Provided","Declined"):(c.push("In Progress","Quote Provided","Repaired","Payment Requested","Completed"),n.job_status==="Assigned"&&c.unshift("Declined")):t===4?this.originalJobStatus==="In Progress"&&c.push("Repaired","Not repairable"):t===2&&c.push("Assigned","Quote Requested","Quote Accepted","Completion Confirmed"),c}}},ch={class:"min-h-screen bg-gray-50"},dh={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},uh={class:"dashboard-header flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8 p-6 bg-white rounded-xl border border-gray-200"},fh={class:"header-left"},hh={class:"profile-completeness flex items-center gap-4"},Eh={class:"completeness-bar w-64 h-3 bg-gray-200 rounded-full overflow-hidden"},gh={class:"completeness-text text-lg font-medium text-gray-900"},Ch={class:"header-right"},mh={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ah={key:0,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},ph={class:"section-title flex items-center gap-3"},Bh={class:"section-content transition-all duration-300 ease-in-out"},bh={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},wh={class:"space-y-4"},Dh={class:"flex items-center gap-3"},Fh={class:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},yh={class:"material-icon text-white"},vh={class:"text-xl font-semibold text-gray-900"},_h={class:"text-gray-600 flex items-center gap-2"},kh={key:0,class:"bg-gray-50 rounded-lg p-4"},Ih={class:"text-gray-700"},Sh={class:"space-y-4"},Th={key:0,class:"bg-blue-50 rounded-lg p-4"},Ph={class:"space-y-2"},Rh={key:0,class:"text-gray-700 flex items-center gap-2"},Nh={key:1,class:"text-gray-700 flex items-center gap-2"},Oh=["href"],Mh={key:1,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},Lh={class:"section-title flex items-center gap-3"},Uh={class:"section-content transition-all duration-300 ease-in-out"},jh={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Vh={class:"flex items-center justify-between"},Jh={class:"flex items-center gap-3"},Hh={class:"font-semibold text-gray-900"},Wh={class:"text-sm text-gray-600"},Gh={key:0,class:"bg-yellow-100 text-yellow-800 text-xs font-medium px-2 py-1 rounded-full"},Xh={key:2,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},zh={class:"section-title flex items-center gap-3"},Yh={class:"section-content transition-all duration-300 ease-in-out"},Kh={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Zh={class:"flex items-center gap-3"},qh={class:"font-semibold text-gray-900"},Qh={class:"text-sm text-gray-600"},$h={key:3,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},e6={class:"section-title flex items-center gap-3"},t6={class:"section-content transition-all duration-300 ease-in-out"},s6={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},n6={class:"flex justify-between items-center p-4 bg-gray-50 border-b border-gray-200"},r6={class:"flex items-center gap-3"},i6={class:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center"},o6={class:"material-icon text-white"},x6={class:"font-semibold text-gray-900"},l6={class:"flex gap-2"},a6=["onClick"],c6=["onClick"],d6=["onClick"],u6={class:"p-4"},f6={class:"text-sm text-gray-600 flex items-center gap-1 mb-2"},h6={key:0,class:"text-sm text-gray-600 flex items-center gap-1"},E6={class:"px-4 pb-4"},g6={class:"text-xs text-gray-500"},C6={key:0,class:"text-center py-16"},m6={key:4,class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},A6={class:"section-title flex items-center gap-3"},p6={class:"section-content transition-all duration-300 ease-in-out"},B6={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},b6={class:"flex items-start justify-between mb-4"},w6={class:"flex items-center gap-3"},D6={class:"w-12 h-12 bg-orange-600 rounded-full flex items-center justify-center"},F6={class:"material-icon text-white"},y6={class:"font-semibold text-gray-900"},v6={class:"text-sm text-gray-600 flex items-center gap-1"},_6={class:"grid grid-cols-3 gap-2 mb-4"},k6={class:"text-center"},I6={class:"text-lg font-bold text-blue-600"},S6={class:"text-center"},T6={class:"text-lg font-bold text-green-600"},P6={class:"text-center"},R6={class:"text-lg font-bold text-gray-600"},N6={class:"flex gap-2"},O6=["onClick"],M6={class:"mt-3 pt-3 border-t border-gray-200"},L6={class:"text-xs text-gray-500 flex items-center gap-1"},U6={key:0,class:"text-center py-16"},j6={class:"jobs-section card p-6"},V6={class:"section-title flex items-center gap-3"},J6={class:"section-content transition-all duration-300 ease-in-out"},H6={class:"job-filters flex flex-wrap gap-4 mb-6 p-4 bg-neutral-50 rounded-lg"},W6={class:"filter-group min-w-40"},G6={key:0,class:"filter-group min-w-40"},X6=["value"],z6={key:1,class:"filter-group min-w-40"},Y6=["value"],K6={class:"jobs-grid grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"},Z6={key:0,class:"loading-state col-span-full text-center py-16"},q6={class:"job-header card-header flex justify-between items-center"},Q6={class:"job-status"},$6={class:"job-actions flex gap-2"},eE=["onClick"],tE=["onClick","title"],sE={class:"job-content card-content"},nE={class:"job-title text-title-medium text-on-surface mb-2"},rE={class:"job-description text-body-medium text-on-surface-variant mb-2 line-clamp-2"},iE={class:"job-location text-body-small text-on-surface-variant mb-4"},oE={class:"job-meta grid grid-cols-2 gap-3 text-sm"},xE={class:"meta-item"},lE={class:"meta-value text-body-small text-on-surface font-medium"},aE={class:"meta-item"},cE={class:"meta-value text-body-small text-on-surface font-medium"},dE={class:"meta-item"},uE={class:"meta-value text-body-small text-on-surface font-medium"},fE={class:"meta-item"},hE={class:"meta-value text-body-small text-on-surface font-medium"},EE={class:"job-footer card-footer"},gE={class:"job-date text-label-medium text-on-surface-variant"},CE={key:2,class:"no-jobs col-span-full text-center py-16"},mE={key:3,class:"error-state col-span-full text-center py-16"},AE={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},pE={class:"flex justify-between items-center p-6 border-b border-gray-200"},BE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},wE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},DE={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},FE=["disabled"],yE={key:0,class:"material-icon-sm animate-spin"},vE={key:1,class:"material-icon-sm"},_E=["disabled"],kE={key:0,class:"material-icon-sm animate-spin"},IE={key:1,class:"material-icon-sm"},SE={key:1,class:"fixed inset-0 z-50 flex items-center justify-center"},TE={class:"flex justify-between items-center p-6 border-b border-gray-200"},PE={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},RE={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},NE={class:"space-y-4"},OE={class:"space-y-3 max-h-96 overflow-y-auto"},ME=["value"],LE={class:"flex-1"},UE={class:"font-medium text-gray-900"},jE={class:"text-sm text-gray-600"},VE={class:"space-y-4"},JE={key:0,class:"text-center py-8 text-gray-500"},HE={key:1,class:"space-y-3 max-h-96 overflow-y-auto"},WE={class:"flex-1"},GE={class:"font-medium text-gray-900"},XE=["onClick"],zE={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6"},YE=["disabled"],KE={key:0,class:"material-icon-sm animate-spin"},ZE={key:1,class:"material-icon-sm"},qE=["disabled"],QE={key:0,class:"material-icon-sm animate-spin"},$E={key:1,class:"material-icon-sm"},eg={key:2,class:"fixed inset-0 z-50 flex items-center justify-center"},tg={class:"flex justify-between items-center p-6 border-b border-gray-200"},sg={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},ng={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},rg={class:"space-y-4"},ig={class:"space-y-3 max-h-96 overflow-y-auto"},og=["value"],xg={class:"flex-1"},lg={class:"font-medium text-gray-900"},ag={class:"text-sm text-gray-600"},cg={class:"space-y-4"},dg={key:0,class:"text-center py-8 text-gray-500"},ug={key:1,class:"space-y-3 max-h-96 overflow-y-auto"},fg={class:"flex-1"},hg={class:"font-medium text-gray-900"},Eg={class:"flex justify-end gap-3 pt-6 border-t border-gray-200 mt-6"},gg=["disabled"],Cg={key:0,class:"material-icon-sm animate-spin"},mg={key:1,class:"material-icon-sm"},Ag=["disabled"],pg={key:0,class:"material-icon-sm animate-spin"},Bg={key:1,class:"material-icon-sm"},bg={key:3,class:"fixed inset-0 z-50 flex items-center justify-center"},wg={class:"flex justify-between items-center p-6 border-b border-gray-200"},Dg={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fg={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yg={class:"grid grid-cols-1 gap-4"},vg={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},_g=["disabled"],kg={key:0,class:"material-icon-sm animate-spin"},Ig={key:1,class:"material-icon-sm"},Sg=["disabled"],Tg={key:0,class:"material-icon-sm animate-spin"},Pg={key:1,class:"material-icon-sm"},Rg={key:4,class:"fixed inset-0 z-50 flex items-center justify-center"},Ng={class:"flex justify-between items-center p-6 border-b border-gray-200"},Og={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Mg={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Lg={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ug={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},jg=["disabled"],Vg={key:0,class:"material-icon-sm animate-spin"},Jg={key:1,class:"material-icon-sm"},Hg=["disabled"],Wg={key:0,class:"material-icon-sm animate-spin"},Gg={key:1,class:"material-icon-sm"},Xg={class:"modal-header"},zg={class:"flex items-center gap-3"},Yg={key:0,class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] space-y-6"},Kg={class:"job-info-section"},Zg={class:"info-grid"},qg={class:"info-item"},Qg={class:"info-item"},$g={class:"info-item"},e3={class:"info-item"},t3={key:0,class:"info-item"},s3={class:"info-item"},n3={class:"description-section"},r3={class:"fault-description"},i3={key:0,class:"contact-section"},o3={key:0,class:"technician-notes-section"},x3={class:"technician-notes-content"},l3={class:"images-section"},a3={key:0,class:"no-images"},c3={key:1,class:"images-gallery"},d3={class:"gallery-grid"},u3=["src","alt","onClick"],f3={class:"image-overlay"},h3={class:"image-filename"},E3={class:"modal-header"},g3={class:"flex items-center gap-3"},C3={class:"form-row"},m3={class:"form-group"},A3=["value"],p3={key:0,class:"form-group"},B3=["value"],b3={key:1,class:"form-group"},w3=["value"],D3={key:2,class:"form-group"},F3={class:"readonly-field"},y3={key:3,class:"edit-details-section"},v3={class:"form-row"},_3={class:"form-group"},k3={class:"form-group"},I3={class:"form-group"},S3={class:"form-group"},T3={key:4,class:"technician-notes-section"},P3={class:"form-group"},R3={key:5,class:"readonly-details-section"},N3={class:"readonly-info"},O3={class:"info-row"},M3={class:"info-row"},L3={class:"info-row"},U3={class:"images-section"},j3={key:0,class:"no-images"},V3={key:1,class:"images-gallery"},J3={class:"gallery-grid"},H3=["src","alt","onClick"],W3={class:"image-overlay"},G3={class:"image-filename"},X3={class:"form-actions"},z3={class:"image-modal-header"},Y3={class:"image-modal-body"},K3=["src","alt"];function Z3(n,t,c,f,a,h){const g=O0("ImageUpload");return y(),v("div",ch,[l("div",dh,[l("div",uh,[l("div",fh,[t[86]||(t[86]=l("h1",{class:"text-3xl font-bold text-gray-900 mb-4"},"Service Provider Dashboard",-1)),l("div",hh,[l("div",Eh,[l("div",{class:"completeness-fill h-full bg-blue-600 transition-all duration-500 ease-out",style:Gs({width:a.profileCompleteness+"%"})},null,4)]),l("span",gh,I(a.profileCompleteness)+"% Complete",1)])]),l("div",Ch,[l("button",{onClick:t[0]||(t[0]=(...C)=>h.signOut&&h.signOut(...C)),class:"btn-filled flex items-center gap-2"},[...t[87]||(t[87]=[l("span",{class:"material-icon-sm"},"logout",-1),X(" Sign Out ",-1)])])])])]),l("div",mh,[a.userRole===3?(y(),v("div",Ah,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[2]||(t[2]=C=>h.toggleSection("profile")),style:{cursor:"pointer"}},[l("div",ph,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.profile}])},[...t[88]||(t[88]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[89]||(t[89]=l("h2",{class:"text-title-large text-on-surface mb-0 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"business"),X(" Profile Overview ")],-1))]),a.userRole===3?(y(),v("button",{key:0,onClick:t[1]||(t[1]=Ve(C=>a.showProfileModal=!0,["stop"])),class:"btn-filled flex items-center gap-2"},[...t[90]||(t[90]=[l("span",{class:"material-icon-sm"},"edit",-1),X(" Edit Profile ",-1)])])):le("",!0)]),he(l("div",Bh,[l("div",bh,[l("div",wh,[l("div",Dh,[l("div",Fh,[l("span",yh,I(a.profile.name?.charAt(0)||"B"),1)]),l("div",null,[l("h3",vh,I(a.profile.name),1),l("p",_h,[t[91]||(t[91]=l("span",{class:"material-icon-sm"},"location_on",-1)),X(" "+I(a.profile.address),1)])])]),a.profile.description?(y(),v("div",kh,[l("p",Ih,I(a.profile.description),1)])):le("",!0)]),l("div",Sh,[a.profile.manager_name||a.profile.website?(y(),v("div",Th,[t[96]||(t[96]=l("h4",{class:"font-semibold text-gray-900 mb-3 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-blue-600"},"contact_mail"),X(" Contact Information ")],-1)),l("div",Ph,[a.profile.manager_name?(y(),v("p",Rh,[t[92]||(t[92]=l("span",{class:"material-icon-sm text-gray-500"},"person",-1)),t[93]||(t[93]=l("strong",null,"Manager:",-1)),X(" "+I(a.profile.manager_name),1)])):le("",!0),a.profile.website?(y(),v("p",Nh,[t[94]||(t[94]=l("span",{class:"material-icon-sm text-gray-500"},"link",-1)),t[95]||(t[95]=l("strong",null,"Website:",-1)),l("a",{href:a.profile.website,target:"_blank",class:"text-blue-600 hover:text-blue-800 underline"},I(a.profile.website),9,Oh)])):le("",!0)])])):le("",!0)])])],512),[[J0,a.sectionsExpanded.profile]])])):le("",!0),a.userRole===3?(y(),v("div",Mh,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[4]||(t[4]=C=>h.toggleSection("services")),style:{cursor:"pointer"}},[l("div",Lh,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.services}])},[...t[97]||(t[97]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[98]||(t[98]=l("h2",{class:"text-title-large text-on-surface mb-0 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"build"),X(" Services Offered ")],-1))]),a.userRole===3?(y(),v("button",{key:0,onClick:t[3]||(t[3]=Ve(C=>a.showServicesModal=!0,["stop"])),class:"btn-filled flex items-center gap-2"},[...t[99]||(t[99]=[l("span",{class:"material-icon-sm"},"add",-1),X(" Manage Services ",-1)])])):le("",!0)]),he(l("div",Uh,[l("div",jh,[(y(!0),v(Me,null,ze(a.services,C=>(y(),v("div",{key:C.id,class:"relative bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[l("div",Vh,[l("div",Jh,[t[100]||(t[100]=l("div",{class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center"},[l("span",{class:"material-icon-sm text-white"},"build")],-1)),l("div",null,[l("h3",Hh,I(C.name),1),l("p",Wh,I(C.category),1)])]),C.is_primary?(y(),v("span",Gh," Primary ")):le("",!0)])]))),128)),l("button",{onClick:t[5]||(t[5]=C=>a.showServicesModal=!0),class:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-blue-400 hover:bg-blue-50 transition-colors flex flex-col items-center justify-center gap-2 text-gray-500 hover:text-blue-600"},[...t[101]||(t[101]=[l("span",{class:"material-icon text-2xl"},"add_circle",-1),l("span",{class:"font-medium"},"Add Service",-1)])])])],512),[[J0,a.sectionsExpanded.services]])])):le("",!0),a.userRole===3?(y(),v("div",Xh,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[7]||(t[7]=C=>h.toggleSection("regions")),style:{cursor:"pointer"}},[l("div",zh,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.regions}])},[...t[102]||(t[102]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[103]||(t[103]=l("h2",{class:"text-title-large text-on-surface mb-0 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"location_on"),X(" Service Regions ")],-1))]),a.userRole===3?(y(),v("button",{key:0,onClick:t[6]||(t[6]=Ve(C=>a.showRegionsModal=!0,["stop"])),class:"btn-filled flex items-center gap-2"},[...t[104]||(t[104]=[l("span",{class:"material-icon-sm"},"add",-1),X(" Manage Regions ",-1)])])):le("",!0)]),he(l("div",Yh,[l("div",Kh,[(y(!0),v(Me,null,ze(a.regions,C=>(y(),v("div",{key:C.id,class:"relative bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[l("div",Zh,[t[105]||(t[105]=l("div",{class:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center"},[l("span",{class:"material-icon-sm text-white"},"location_on")],-1)),l("div",null,[l("h3",qh,I(C.name),1),l("p",Qh,I(C.code),1)])])]))),128)),l("button",{onClick:t[8]||(t[8]=C=>a.showRegionsModal=!0),class:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-green-400 hover:bg-green-50 transition-colors flex flex-col items-center justify-center gap-2 text-gray-500 hover:text-green-600"},[...t[106]||(t[106]=[l("span",{class:"material-icon text-2xl"},"add_location",-1),l("span",{class:"font-medium"},"Add Region",-1)])])])],512),[[J0,a.sectionsExpanded.regions]])])):le("",!0),a.userRole===3?(y(),v("div",$h,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[10]||(t[10]=C=>h.toggleSection("technicians")),style:{cursor:"pointer"}},[l("div",e6,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.technicians}])},[...t[107]||(t[107]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[108]||(t[108]=l("h2",{class:"text-title-large text-on-surface mb-0 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"engineering"),X(" Technicians ")],-1))]),a.userRole===3?(y(),v("button",{key:0,onClick:t[9]||(t[9]=Ve((...C)=>h.openAddTechnicianModal&&h.openAddTechnicianModal(...C),["stop"])),class:"btn-filled flex items-center gap-2"},[...t[109]||(t[109]=[l("span",{class:"material-icon-sm"},"person_add",-1),X(" Add Technician ",-1)])])):le("",!0)]),he(l("div",t6,[l("div",s6,[(y(!0),v(Me,null,ze(a.technicians,C=>(y(),v("div",{key:C.id,class:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow"},[l("div",n6,[l("div",r6,[l("div",i6,[l("span",o6,I(C.full_name.charAt(0)),1)]),l("div",null,[l("h3",x6,I(C.full_name),1),l("span",{class:xt(["px-2 py-1 rounded-full text-xs font-medium",C.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},I(C.is_active?"Active":"Inactive"),3)])]),l("div",l6,[l("button",{onClick:w=>h.viewTechnicianJobs(C),class:"btn-round",title:"View Jobs"},[...t[110]||(t[110]=[l("span",{class:"material-icon-sm"},"work",-1)])],8,a6),l("button",{onClick:w=>h.editTechnician(C),class:"btn-round",title:"Edit Technician"},[...t[111]||(t[111]=[l("span",{class:"material-icon-sm"},"edit",-1)])],8,c6),l("button",{onClick:w=>h.deleteTechnician(C),class:"btn-round-filled",title:"Delete Technician"},[...t[112]||(t[112]=[l("span",{class:"material-icon-sm"},"delete",-1)])],8,d6)])]),l("div",u6,[l("p",f6,[t[113]||(t[113]=l("span",{class:"material-icon-sm"},"email",-1)),X(" "+I(C.email),1)]),C.phone?(y(),v("p",h6,[t[114]||(t[114]=l("span",{class:"material-icon-sm"},"phone",-1)),X(" "+I(C.phone),1)])):le("",!0)]),l("div",E6,[l("p",g6," Added "+I(h.formatDate(C.created_at)),1)])]))),128)),l("button",{onClick:t[11]||(t[11]=(...C)=>h.openAddTechnicianModal&&h.openAddTechnicianModal(...C)),class:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-purple-400 hover:bg-purple-50 transition-colors flex flex-col items-center justify-center gap-3 text-gray-500 hover:text-purple-600"},[...t[115]||(t[115]=[l("span",{class:"material-icon text-3xl"},"person_add",-1),l("div",{class:"text-center"},[l("div",{class:"font-medium"},"Add Technician"),l("div",{class:"text-sm"},"Create a new technician account")],-1)])])])],512),[[J0,a.sectionsExpanded.technicians]]),a.technicians.length===0?(y(),v("div",C6,[t[117]||(t[117]=l("div",{class:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gray-100 mb-6"},[l("span",{class:"material-icon text-gray-400"},"engineering")],-1)),t[118]||(t[118]=l("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No Technicians Yet",-1)),t[119]||(t[119]=l("p",{class:"text-gray-600 mb-6"},"Add technicians to help manage your jobs and assignments.",-1)),l("button",{onClick:t[12]||(t[12]=(...C)=>h.openAddTechnicianModal&&h.openAddTechnicianModal(...C)),class:"btn-filled flex items-center gap-2 mx-auto"},[...t[116]||(t[116]=[l("span",{class:"material-icon-sm"},"person_add",-1),X(" Add Your First Technician ",-1)])])])):le("",!0)])):le("",!0),a.userRole===3?(y(),v("div",m6,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[13]||(t[13]=C=>h.toggleSection("clients")),style:{cursor:"pointer"}},[l("div",A6,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.clients}])},[...t[120]||(t[120]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[121]||(t[121]=l("h2",{class:"text-title-large text-on-surface mb-0 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"group"),X(" Approved Clients ")],-1))])]),he(l("div",p6,[l("div",B6,[(y(!0),v(Me,null,ze(a.approvedClients,C=>(y(),v("div",{key:C.id,class:"bg-gray-50 border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[l("div",b6,[l("div",w6,[l("div",D6,[l("span",F6,I(C.name.charAt(0)),1)]),l("div",null,[l("h3",y6,I(C.name),1),l("p",v6,[t[122]||(t[122]=l("span",{class:"material-icon-sm"},"location_on",-1)),X(" "+I(C.address),1)])])])]),l("div",_6,[l("div",k6,[l("div",I6,I(C.total_jobs),1),t[123]||(t[123]=l("div",{class:"text-xs text-gray-600"},"Total Jobs",-1))]),l("div",S6,[l("div",T6,I(C.active_jobs),1),t[124]||(t[124]=l("div",{class:"text-xs text-gray-600"},"Active",-1))]),l("div",P6,[l("div",R6,I(C.completed_jobs),1),t[125]||(t[125]=l("div",{class:"text-xs text-gray-600"},"Completed",-1))])]),l("div",N6,[l("button",{onClick:w=>h.viewClientJobs(C.id),class:"btn-filled btn-small flex items-center gap-1 flex-1"},[...t[126]||(t[126]=[l("span",{class:"material-icon-sm"},"work",-1),X(" View Jobs ",-1)])],8,O6)]),l("div",M6,[l("p",L6,[t[127]||(t[127]=l("span",{class:"material-icon-sm"},"event_available",-1)),X(" Approved "+I(h.formatDate(C.approved_at)),1)])])]))),128))]),a.approvedClients.length===0?(y(),v("div",U6,[...t[128]||(t[128]=[l("div",{class:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gray-100 mb-6"},[l("span",{class:"material-icon text-gray-400"},"group")],-1),l("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No Approved Clients Yet",-1),l("p",{class:"text-gray-600"},"Clients will appear here once they approve your services.",-1)])])):le("",!0)],512),[[J0,a.sectionsExpanded.clients]])])):le("",!0),l("div",j6,[l("div",{class:"section-header flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-neutral-200",onClick:t[14]||(t[14]=C=>h.toggleSection("jobs")),style:{cursor:"pointer"}},[l("div",V6,[l("button",{class:xt(["expand-btn",{expanded:a.sectionsExpanded.jobs}])},[...t[129]||(t[129]=[l("span",{class:"material-icon-sm"},"expand_more",-1)])],2),t[130]||(t[130]=l("h2",{class:"text-title-large text-on-surface mb-0"},"Job Management",-1))])]),he(l("div",J6,[l("div",H6,[l("div",W6,[t[132]||(t[132]=l("label",{for:"status-filter",class:"form-label mb-1"},"Status:",-1)),he(l("select",{id:"status-filter","onUpdate:modelValue":t[15]||(t[15]=C=>a.jobFilters.status=C),onChange:t[16]||(t[16]=(...C)=>h.loadJobs&&h.loadJobs(...C)),class:"form-input"},[...t[131]||(t[131]=[Xs('<option value="" data-v-d831b7ff>All Statuses</option><option value="Reported" data-v-d831b7ff>Reported</option><option value="Assigned" data-v-d831b7ff>Assigned</option><option value="Quote Requested" data-v-d831b7ff>Quote Requested</option><option value="Quote Accepted" data-v-d831b7ff>Quote Accepted</option><option value="Completion Confirmed" data-v-d831b7ff>Completion Confirmed</option><option value="Declined" data-v-d831b7ff>Declined</option><option value="In Progress" data-v-d831b7ff>In Progress</option><option value="Quote Provided" data-v-d831b7ff>Quote Provided</option><option value="Repaired" data-v-d831b7ff>Repaired</option><option value="Not repairable" data-v-d831b7ff>Not repairable</option><option value="Payment Requested" data-v-d831b7ff>Payment Requested</option><option value="Completed" data-v-d831b7ff>Completed</option>',13)])],544),[[kt,a.jobFilters.status]])]),a.userRole===3?(y(),v("div",G6,[t[134]||(t[134]=l("label",{for:"client-filter",class:"form-label mb-1"},"Client:",-1)),he(l("select",{id:"client-filter","onUpdate:modelValue":t[17]||(t[17]=C=>a.jobFilters.client_id=C),onChange:t[18]||(t[18]=(...C)=>h.loadJobs&&h.loadJobs(...C)),class:"form-input"},[t[133]||(t[133]=l("option",{value:""},"All Clients",-1)),(y(!0),v(Me,null,ze(a.approvedClients,C=>(y(),v("option",{key:C.id,value:C.id},I(C.name),9,X6))),128))],544),[[kt,a.jobFilters.client_id]])])):le("",!0),a.userRole===3?(y(),v("div",z6,[t[136]||(t[136]=l("label",{for:"technician-filter",class:"form-label mb-1"},"Technician:",-1)),he(l("select",{id:"technician-filter","onUpdate:modelValue":t[19]||(t[19]=C=>a.jobFilters.technician_id=C),onChange:t[20]||(t[20]=(...C)=>h.loadJobs&&h.loadJobs(...C)),class:"form-input"},[t[135]||(t[135]=l("option",{value:""},"All Technicians",-1)),(y(!0),v(Me,null,ze(a.technicians,C=>(y(),v("option",{key:C.id,value:C.id},I(C.full_name),9,Y6))),128))],544),[[kt,a.jobFilters.technician_id]])])):le("",!0)]),l("div",K6,[a.jobs===null?(y(),v("div",Z6,[...t[137]||(t[137]=[l("div",{class:"loading-spinner w-10 h-10 border-4 border-neutral-200 border-t-primary-600 rounded-full animate-spin mx-auto mb-4"},null,-1),l("p",{class:"text-body-large text-on-surface-variant"},"Loading jobs...",-1)])])):a.jobs&&a.jobs.length>0?(y(!0),v(Me,{key:1},ze(a.jobs,C=>(y(),v("div",{key:C.id,class:"job-card card overflow-hidden transition-all duration-200 hover:shadow-elevation-3"},[l("div",q6,[l("div",Q6,[l("span",{class:xt(["status-badge",h.getStatusClass(C.job_status)])},I(C.job_status),3)]),l("div",$6,[a.userRole===3||a.userRole===4&&C.job_status!=="In Progress"?(y(),v("button",{key:0,onClick:w=>h.viewJobDetails(C),class:"btn-outlined btn-small"},[...t[138]||(t[138]=[l("span",{class:"material-icon-sm"},"visibility",-1)])],8,eE)):le("",!0),a.userRole===3||a.userRole===4&&C.job_status==="In Progress"?(y(),v("button",{key:1,onClick:w=>h.editJob(C),class:"btn-outlined btn-small",title:a.userRole===3?"Edit/Allocate Job":"Update Job Status"},[...t[139]||(t[139]=[l("span",{class:"material-icon-sm"},"edit",-1)])],8,tE)):le("",!0)])]),l("div",sE,[l("h3",nE,I(C.item_identifier||"No Item ID"),1),l("p",rE,I(C.fault_description),1),l("p",iE,[t[140]||(t[140]=l("span",{class:"material-icon-sm mr-1"},"location_on",-1)),X(" "+I(C.location_name),1)]),l("div",oE,[l("div",xE,[t[141]||(t[141]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Client:",-1)),l("span",lE,I(C.client_name),1)]),l("div",aE,[t[142]||(t[142]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Date:",-1)),l("span",cE,I(h.formatDate(C.created_at)),1)]),l("div",dE,[t[143]||(t[143]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Provider:",-1)),l("span",uE,I(C.assigned_technician||"Not assigned"),1)]),l("div",fE,[t[144]||(t[144]=l("span",{class:"meta-label text-label-small text-on-surface-variant uppercase tracking-wide"},"Images:",-1)),l("span",hE,I(C.image_count),1)])])]),l("div",EE,[l("div",gE,[t[145]||(t[145]=l("span",{class:"material-icon-sm mr-1"},"schedule",-1)),X(" Last updated "+I(h.formatDate(C.updated_at)),1)])])]))),128)):a.jobs&&a.jobs.length===0?(y(),v("div",CE,[...t[146]||(t[146]=[l("div",{class:"no-jobs-icon material-icon-xl text-neutral-400 mb-4"},"build",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"No jobs found",-1),l("p",{class:"text-body-large text-on-surface-variant"},"No jobs match your current filters.",-1)])])):(y(),v("div",mE,[...t[147]||(t[147]=[l("div",{class:"error-icon material-icon-xl text-error-400 mb-4"},"error",-1),l("h3",{class:"text-title-large text-on-surface mb-2"},"Failed to load jobs",-1),l("p",{class:"text-body-large text-on-surface-variant"},"Please try refreshing the page.",-1)])]))])],512),[[J0,a.sectionsExpanded.jobs]])])]),a.showProfileModal?(y(),v("div",AE,[l("div",{class:"absolute inset-0 bg-black/50",onClick:t[21]||(t[21]=C=>a.showProfileModal=!1)}),l("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:t[34]||(t[34]=Ve(()=>{},["stop"]))},[l("div",pE,[t[148]||(t[148]=l("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"edit"),X(" Edit Profile ")],-1)),l("button",{onClick:t[22]||(t[22]=C=>a.showProfileModal=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},"")]),l("form",{onSubmit:t[33]||(t[33]=Ve((...C)=>h.updateProfile&&h.updateProfile(...C),["prevent"])),class:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-140px)]"},[l("div",BE,[l("div",null,[t[149]||(t[149]=l("label",{for:"name",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"business"),X(" Company Name * ")],-1)),he(l("input",{type:"text",id:"name","onUpdate:modelValue":t[23]||(t[23]=C=>a.editForm.name=C),required:"",class:"form-input",placeholder:"Enter company name"},null,512),[[Re,a.editForm.name]])]),l("div",null,[t[150]||(t[150]=l("label",{for:"website",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"link"),X(" Website ")],-1)),he(l("input",{type:"url",id:"website","onUpdate:modelValue":t[24]||(t[24]=C=>a.editForm.website=C),class:"form-input",placeholder:"https://example.com"},null,512),[[Re,a.editForm.website]])])]),l("div",null,[t[151]||(t[151]=l("label",{for:"address",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"location_on"),X(" Address * ")],-1)),he(l("textarea",{id:"address","onUpdate:modelValue":t[25]||(t[25]=C=>a.editForm.address=C),required:"",rows:"3",class:"form-input resize-none",placeholder:"Enter company address"},null,512),[[Re,a.editForm.address]])]),l("div",null,[t[152]||(t[152]=l("label",{for:"description",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"description"),X(" Description ")],-1)),he(l("textarea",{id:"description","onUpdate:modelValue":t[26]||(t[26]=C=>a.editForm.description=C),rows:"3",class:"form-input resize-none",placeholder:"Describe your company and services"},null,512),[[Re,a.editForm.description]])]),l("div",bE,[l("div",null,[t[153]||(t[153]=l("label",{for:"manager_name",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"person"),X(" Manager Name ")],-1)),he(l("input",{type:"text",id:"manager_name","onUpdate:modelValue":t[27]||(t[27]=C=>a.editForm.manager_name=C),class:"form-input",placeholder:"Enter manager name"},null,512),[[Re,a.editForm.manager_name]])]),l("div",null,[t[154]||(t[154]=l("label",{for:"manager_email",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"email"),X(" Manager Email ")],-1)),he(l("input",{type:"email",id:"manager_email","onUpdate:modelValue":t[28]||(t[28]=C=>a.editForm.manager_email=C),class:"form-input",placeholder:"Enter manager email"},null,512),[[Re,a.editForm.manager_email]])])]),l("div",wE,[l("div",null,[t[155]||(t[155]=l("label",{for:"manager_phone",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"phone"),X(" Manager Phone ")],-1)),he(l("input",{type:"tel",id:"manager_phone","onUpdate:modelValue":t[29]||(t[29]=C=>a.editForm.manager_phone=C),class:"form-input",placeholder:"Enter manager phone"},null,512),[[Re,a.editForm.manager_phone]])]),l("div",null,[t[156]||(t[156]=l("label",{for:"vat_number",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"receipt"),X(" VAT Number ")],-1)),he(l("input",{type:"text",id:"vat_number","onUpdate:modelValue":t[30]||(t[30]=C=>a.editForm.vat_number=C),class:"form-input",placeholder:"Enter VAT number"},null,512),[[Re,a.editForm.vat_number]])])]),l("div",null,[t[157]||(t[157]=l("label",{for:"business_registration_number",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"badge"),X(" Business Registration Number ")],-1)),he(l("input",{type:"text",id:"business_registration_number","onUpdate:modelValue":t[31]||(t[31]=C=>a.editForm.business_registration_number=C),class:"form-input",placeholder:"Enter business registration number"},null,512),[[Re,a.editForm.business_registration_number]])]),l("div",DE,[l("button",{type:"button",onClick:t[32]||(t[32]=C=>a.showProfileModal=!1),class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",yE,"refresh")):(y(),v("span",vE,"close")),X(" "+I(a.loading?"Saving...":"Cancel"),1)],8,FE),l("button",{type:"submit",class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",kE,"refresh")):(y(),v("span",IE,"save")),X(" "+I(a.loading?"Saving...":"Save Changes"),1)],8,_E)])],32)])])):le("",!0),a.showServicesModal?(y(),v("div",SE,[l("div",{class:"absolute inset-0 bg-black/50",onClick:t[35]||(t[35]=C=>a.showServicesModal=!1)}),l("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:t[40]||(t[40]=Ve(()=>{},["stop"]))},[l("div",TE,[t[158]||(t[158]=l("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"build"),X(" Manage Services ")],-1)),l("button",{onClick:t[36]||(t[36]=C=>a.showServicesModal=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},"")]),l("div",PE,[l("div",RE,[l("div",NE,[t[159]||(t[159]=l("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-blue-600"},"list"),X(" Available Services ")],-1)),l("div",OE,[(y(!0),v(Me,null,ze(a.availableServices,C=>(y(),v("div",{key:C.id,class:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[he(l("input",{type:"checkbox",value:C.id,"onUpdate:modelValue":t[37]||(t[37]=w=>a.selectedServices=w),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"},null,8,ME),[[bo,a.selectedServices]]),l("div",LE,[l("div",UE,I(C.name),1),l("div",jE,I(C.category),1)])]))),128))])]),l("div",VE,[t[161]||(t[161]=l("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-green-600"},"check_circle"),X(" Selected Services ")],-1)),a.selectedServices.length===0?(y(),v("div",JE,[...t[160]||(t[160]=[l("span",{class:"material-icon text-4xl text-gray-300"},"inventory_2",-1),l("p",{class:"mt-2"},"No services selected",-1)])])):(y(),v("div",HE,[(y(!0),v(Me,null,ze(a.selectedServices,C=>(y(),v("div",{key:C,class:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg"},[l("div",WE,[l("div",GE,I(h.getServiceName(C)),1)]),l("button",{type:"button",onClick:w=>h.setPrimaryService(C),class:xt(["px-3 py-1 text-xs font-medium rounded-full transition-colors",h.isPrimaryService(C)?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-gray-200 text-gray-700 hover:bg-yellow-100 hover:text-yellow-800"])},I(h.isPrimaryService(C)?"Primary":"Set Primary"),11,XE)]))),128))]))])]),l("div",zE,[l("button",{type:"button",onClick:t[38]||(t[38]=C=>a.showServicesModal=!1),class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",KE,"refresh")):(y(),v("span",ZE,"close")),X(" "+I(a.loading?"Saving...":"Cancel"),1)],8,YE),l("button",{type:"button",onClick:t[39]||(t[39]=(...C)=>h.updateServices&&h.updateServices(...C)),class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",QE,"refresh")):(y(),v("span",$E,"save")),X(" "+I(a.loading?"Saving...":"Save Services"),1)],8,qE)])])])])):le("",!0),a.showRegionsModal?(y(),v("div",eg,[l("div",{class:"absolute inset-0 bg-black/50",onClick:t[41]||(t[41]=C=>a.showRegionsModal=!1)}),l("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",onClick:t[46]||(t[46]=Ve(()=>{},["stop"]))},[l("div",tg,[t[162]||(t[162]=l("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[l("span",{class:"material-icon text-green-600"},"location_on"),X(" Manage Regions ")],-1)),l("button",{onClick:t[42]||(t[42]=C=>a.showRegionsModal=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},"")]),l("div",sg,[l("div",ng,[l("div",rg,[t[163]||(t[163]=l("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-green-600"},"list"),X(" Available Regions ")],-1)),l("div",ig,[(y(!0),v(Me,null,ze(a.availableRegions,C=>(y(),v("div",{key:C.id,class:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[he(l("input",{type:"checkbox",value:C.id,"onUpdate:modelValue":t[43]||(t[43]=w=>a.selectedRegions=w),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500"},null,8,og),[[bo,a.selectedRegions]]),l("div",xg,[l("div",lg,I(C.name),1),l("div",ag,I(C.code),1)])]))),128))])]),l("div",cg,[t[166]||(t[166]=l("h4",{class:"text-lg font-semibold text-gray-900 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-blue-600"},"check_circle"),X(" Selected Regions ")],-1)),a.selectedRegions.length===0?(y(),v("div",dg,[...t[164]||(t[164]=[l("span",{class:"material-icon text-4xl text-gray-300"},"location_off",-1),l("p",{class:"mt-2"},"No regions selected",-1)])])):(y(),v("div",ug,[(y(!0),v(Me,null,ze(a.selectedRegions,C=>(y(),v("div",{key:C,class:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg"},[t[165]||(t[165]=l("div",{class:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center"},[l("span",{class:"material-icon-sm text-white"},"location_on")],-1)),l("div",fg,[l("div",hg,I(h.getRegionName(C)),1)])]))),128))]))])]),l("div",Eg,[l("button",{type:"button",onClick:t[44]||(t[44]=C=>a.showRegionsModal=!1),class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",Cg,"refresh")):(y(),v("span",mg,"close")),X(" "+I(a.loading?"Saving...":"Cancel"),1)],8,gg),l("button",{type:"button",onClick:t[45]||(t[45]=(...C)=>h.updateRegions&&h.updateRegions(...C)),class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",pg,"refresh")):(y(),v("span",Bg,"save")),X(" "+I(a.loading?"Saving...":"Save Regions"),1)],8,Ag)])])])])):le("",!0),a.showAddTechnicianModal?(y(),v("div",bg,[l("div",{class:"absolute inset-0 bg-black/50",onClick:t[47]||(t[47]=(...C)=>h.closeAddTechnicianModal&&h.closeAddTechnicianModal(...C))}),l("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:t[56]||(t[56]=Ve(()=>{},["stop"]))},[l("div",wg,[t[167]||(t[167]=l("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[l("span",{class:"material-icon text-purple-600"},"person_add"),X(" Add New Technician ")],-1)),l("button",{onClick:t[48]||(t[48]=(...C)=>h.closeAddTechnicianModal&&h.closeAddTechnicianModal(...C)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"")]),l("form",{onSubmit:t[55]||(t[55]=Ve((...C)=>h.createTechnician&&h.createTechnician(...C),["prevent"])),class:"p-6 space-y-6"},[l("div",Dg,[l("div",null,[t[168]||(t[168]=l("label",{for:"tech_username",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"person"),X(" Username * ")],-1)),he(l("input",{type:"text",id:"tech_username","onUpdate:modelValue":t[49]||(t[49]=C=>a.technicianForm.username=C),required:"",class:"form-input",placeholder:"Enter username"},null,512),[[Re,a.technicianForm.username]])]),l("div",null,[t[169]||(t[169]=l("label",{for:"tech_email",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"email"),X(" Email Address * ")],-1)),he(l("input",{type:"email",id:"tech_email","onUpdate:modelValue":t[50]||(t[50]=C=>a.technicianForm.email=C),required:"",class:"form-input",placeholder:"Enter email address"},null,512),[[Re,a.technicianForm.email]])])]),l("div",Fg,[l("div",null,[t[170]||(t[170]=l("label",{for:"tech_first_name",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"badge"),X(" First Name * ")],-1)),he(l("input",{type:"text",id:"tech_first_name","onUpdate:modelValue":t[51]||(t[51]=C=>a.technicianForm.first_name=C),required:"",class:"form-input",placeholder:"Enter first name"},null,512),[[Re,a.technicianForm.first_name]])]),l("div",null,[t[171]||(t[171]=l("label",{for:"tech_last_name",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"badge"),X(" Last Name * ")],-1)),he(l("input",{type:"text",id:"tech_last_name","onUpdate:modelValue":t[52]||(t[52]=C=>a.technicianForm.last_name=C),required:"",class:"form-input",placeholder:"Enter last name"},null,512),[[Re,a.technicianForm.last_name]])])]),l("div",yg,[l("div",null,[t[172]||(t[172]=l("label",{for:"tech_phone",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"phone"),X(" Phone Number ")],-1)),he(l("input",{type:"tel",id:"tech_phone","onUpdate:modelValue":t[53]||(t[53]=C=>a.technicianForm.phone=C),class:"form-input",placeholder:"Enter phone number"},null,512),[[Re,a.technicianForm.phone]])])]),l("div",vg,[l("button",{type:"button",onClick:t[54]||(t[54]=(...C)=>h.closeAddTechnicianModal&&h.closeAddTechnicianModal(...C)),class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",kg,"refresh")):(y(),v("span",Ig,"close")),X(" "+I(a.loading?"Creating...":"Cancel"),1)],8,_g),l("button",{type:"submit",class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",Tg,"refresh")):(y(),v("span",Pg,"person_add")),X(" "+I(a.loading?"Creating...":"Create Technician"),1)],8,Sg)])],32)])])):le("",!0),a.showEditTechnicianModal?(y(),v("div",Rg,[l("div",{class:"absolute inset-0 bg-black/50",onClick:t[57]||(t[57]=(...C)=>h.closeEditTechnicianModal&&h.closeEditTechnicianModal(...C))}),l("div",{class:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",onClick:t[67]||(t[67]=Ve(()=>{},["stop"]))},[l("div",Ng,[t[173]||(t[173]=l("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[l("span",{class:"material-icon text-purple-600"},"edit"),X(" Edit Technician ")],-1)),l("button",{onClick:t[58]||(t[58]=(...C)=>h.closeEditTechnicianModal&&h.closeEditTechnicianModal(...C)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"")]),l("form",{onSubmit:t[66]||(t[66]=Ve((...C)=>h.updateTechnician&&h.updateTechnician(...C),["prevent"])),class:"p-6 space-y-6"},[l("div",Og,[l("div",null,[t[174]||(t[174]=l("label",{for:"edit_username",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"person"),X(" Username ")],-1)),he(l("input",{type:"text",id:"edit_username","onUpdate:modelValue":t[59]||(t[59]=C=>a.technicianForm.username=C),readonly:"",class:"form-input bg-gray-50 cursor-not-allowed",placeholder:"Username cannot be changed"},null,512),[[Re,a.technicianForm.username]])]),l("div",null,[t[175]||(t[175]=l("label",{for:"edit_email",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"email"),X(" Email Address ")],-1)),he(l("input",{type:"email",id:"edit_email","onUpdate:modelValue":t[60]||(t[60]=C=>a.technicianForm.email=C),class:"form-input",placeholder:"Enter email address"},null,512),[[Re,a.technicianForm.email]])])]),l("div",Mg,[l("div",null,[t[176]||(t[176]=l("label",{for:"edit_first_name",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"badge"),X(" First Name ")],-1)),he(l("input",{type:"text",id:"edit_first_name","onUpdate:modelValue":t[61]||(t[61]=C=>a.technicianForm.first_name=C),class:"form-input",placeholder:"Enter first name"},null,512),[[Re,a.technicianForm.first_name]])]),l("div",null,[t[177]||(t[177]=l("label",{for:"edit_last_name",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"badge"),X(" Last Name ")],-1)),he(l("input",{type:"text",id:"edit_last_name","onUpdate:modelValue":t[62]||(t[62]=C=>a.technicianForm.last_name=C),class:"form-input",placeholder:"Enter last name"},null,512),[[Re,a.technicianForm.last_name]])])]),l("div",Lg,[l("div",null,[t[178]||(t[178]=l("label",{for:"edit_phone",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"phone"),X(" Phone Number ")],-1)),he(l("input",{type:"tel",id:"edit_phone","onUpdate:modelValue":t[63]||(t[63]=C=>a.technicianForm.phone=C),class:"form-input",placeholder:"Enter phone number"},null,512),[[Re,a.technicianForm.phone]])]),l("div",null,[t[180]||(t[180]=l("label",{for:"edit_status",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"toggle_on"),X(" Status ")],-1)),he(l("select",{id:"edit_status","onUpdate:modelValue":t[64]||(t[64]=C=>a.technicianForm.is_active=C),class:"form-input"},[...t[179]||(t[179]=[l("option",{value:!0},"Active",-1),l("option",{value:!1},"Inactive",-1)])],512),[[kt,a.technicianForm.is_active]])])]),l("div",Ug,[l("button",{type:"button",onClick:t[65]||(t[65]=(...C)=>h.closeEditTechnicianModal&&h.closeEditTechnicianModal(...C)),class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",Vg,"refresh")):(y(),v("span",Jg,"close")),X(" "+I(a.loading?"Updating...":"Cancel"),1)],8,jg),l("button",{type:"submit",class:"btn-filled flex items-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",Wg,"refresh")):(y(),v("span",Gg,"save")),X(" "+I(a.loading?"Updating...":"Update Technician"),1)],8,Hg)])],32)])])):le("",!0),a.showJobDetailsModal?(y(),v("div",{key:5,class:"modal-overlay",onClick:t[70]||(t[70]=C=>a.showJobDetailsModal=!1)},[l("div",{class:"modal-content large-modal",onClick:t[69]||(t[69]=Ve(()=>{},["stop"]))},[l("div",Xg,[l("h3",zg,[t[181]||(t[181]=l("span",{class:"material-icon text-blue-600"},"work",-1)),X(" Job Details: "+I(a.selectedJob?.item_identifier||"No Item ID"),1)]),l("button",{onClick:t[68]||(t[68]=C=>a.showJobDetailsModal=!1),class:"close-btn"},"")]),a.selectedJob?(y(),v("div",Yg,[l("div",Kg,[l("div",Zg,[l("div",qg,[t[182]||(t[182]=l("label",null,"Status:",-1)),l("span",{class:xt(["status-badge",h.getStatusClass(a.selectedJob.job_status)])},I(a.selectedJob.job_status),3)]),l("div",Qg,[t[183]||(t[183]=l("label",null,"Location:",-1)),l("span",null,I(a.selectedJob.location_name),1)]),l("div",$g,[t[184]||(t[184]=l("label",null,"Reported By:",-1)),l("span",null,I(a.selectedJob.reporting_user),1)]),l("div",e3,[t[185]||(t[185]=l("label",null,"Date Reported:",-1)),l("span",null,I(h.formatDate(a.selectedJob.created_at)),1)]),a.selectedJob.assigned_provider_name?(y(),v("div",t3,[t[186]||(t[186]=l("label",null,"Assigned Provider:",-1)),l("span",null,I(a.selectedJob.assigned_provider_name),1)])):le("",!0),l("div",s3,[t[187]||(t[187]=l("label",null,"Last Updated:",-1)),l("span",null,I(h.formatDate(a.selectedJob.updated_at)),1)])]),l("div",n3,[t[188]||(t[188]=l("label",null,"Fault Description:",-1)),l("p",r3,I(a.selectedJob.fault_description),1)]),a.selectedJob.contact_person?(y(),v("div",i3,[t[189]||(t[189]=l("label",null,"Contact Person:",-1)),l("span",null,I(a.selectedJob.contact_person),1)])):le("",!0)]),(a.userRole===3||a.userRole===4)&&a.selectedJob.technician_notes?(y(),v("div",o3,[t[190]||(t[190]=l("h4",null,"Technician Notes",-1)),l("div",x3,[l("p",null,I(a.selectedJob.technician_notes),1)])])):le("",!0),l("div",l3,[l("h4",null,"Attached Images ("+I(a.selectedJob.images?.length||0)+")",1),!a.selectedJob.images||a.selectedJob.images.length===0?(y(),v("div",a3,[...t[191]||(t[191]=[l("div",{class:"no-images-icon"},"",-1),l("p",null,"No images attached to this job",-1)])])):(y(),v("div",c3,[l("div",d3,[(y(!0),v(Me,null,ze(a.selectedJob.images,C=>(y(),v("div",{key:C.id,class:"gallery-item"},[l("img",{src:`/backend/uploads/job_images/${C.filename}`,alt:C.original_filename,class:"gallery-image",onClick:w=>h.openImageModal(C)},null,8,u3),l("div",f3,[l("span",h3,I(C.original_filename),1)])]))),128))])]))])])):le("",!0)])])):le("",!0),a.showEditJobModal?(y(),v("div",{key:6,class:"modal-overlay",onClick:t[82]||(t[82]=C=>a.showEditJobModal=!1)},[l("div",{class:"modal-content large-modal",onClick:t[81]||(t[81]=Ve(()=>{},["stop"]))},[l("div",E3,[l("h3",g3,[t[192]||(t[192]=l("span",{class:"material-icon text-blue-600"},"edit",-1)),X(" Edit Job: "+I(a.editingJob?.item_identifier||"No Item ID"),1)]),l("button",{onClick:t[71]||(t[71]=C=>a.showEditJobModal=!1),class:"close-btn"},"")]),a.editingJob?(y(),v("form",{key:0,onSubmit:t[80]||(t[80]=Ve((...C)=>h.updateJob&&h.updateJob(...C),["prevent"])),class:"job-form"},[l("div",C3,[l("div",m3,[t[193]||(t[193]=l("label",{for:"edit-status"},"Status *",-1)),he(l("select",{id:"edit-status","onUpdate:modelValue":t[72]||(t[72]=C=>a.editingJob.job_status=C),required:""},[(y(!0),v(Me,null,ze(h.getAvailableStatuses(a.editingJob,a.userRole),C=>(y(),v("option",{key:C,value:C},I(C),9,A3))),128))],512),[[kt,a.editingJob.job_status]])])]),(a.editingJob.job_status==="In Progress"||a.originalJobStatus==="In Progress"&&a.editingJob.job_status==="In Progress")&&a.userRole===3?(y(),v("div",p3,[t[195]||(t[195]=l("label",{for:"edit-technician",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"engineering"),X(" Assign Technician * ")],-1)),he(l("select",{id:"edit-technician","onUpdate:modelValue":t[73]||(t[73]=C=>a.selectedTechnicianId=C),class:"form-input"},[t[194]||(t[194]=l("option",{value:""},"Select a technician...",-1)),(y(!0),v(Me,null,ze(a.technicians,C=>(y(),v("option",{key:C.id,value:C.id},I(C.full_name)+" ("+I(C.username)+") ",9,B3))),128))],512),[[kt,a.selectedTechnicianId]]),t[196]||(t[196]=l("small",{class:"form-help"},'A technician must be assigned for jobs in "In Progress" status',-1))])):le("",!0),a.userRole===2?(y(),v("div",b3,[t[198]||(t[198]=l("label",{for:"edit-provider"},"Assigned Provider",-1)),he(l("select",{id:"edit-provider","onUpdate:modelValue":t[74]||(t[74]=C=>a.editingJob.assigned_provider_id=C)},[t[197]||(t[197]=l("option",{value:""},"No Provider Assigned",-1)),(y(!0),v(Me,null,ze(n.approvedProviders,C=>(y(),v("option",{key:C.service_provider_id,value:C.service_provider_id},I(C.name),9,w3))),128))],512),[[kt,a.editingJob.assigned_provider_id]])])):a.editingJob.assigned_provider_name?(y(),v("div",D3,[t[199]||(t[199]=l("label",null,"Assigned Provider",-1)),l("div",F3,I(a.editingJob.assigned_provider_name),1),t[200]||(t[200]=l("small",{class:"form-help"},"Only Budget Controllers can change provider assignments",-1))])):le("",!0),h.canEditJobDetails(a.editingJob)?(y(),v("div",y3,[t[207]||(t[207]=l("h4",null,"Job Details",-1)),l("div",v3,[l("div",_3,[t[201]||(t[201]=l("label",{for:"edit-item-identifier"},"Item Identifier",-1)),he(l("input",{type:"text",id:"edit-item-identifier","onUpdate:modelValue":t[75]||(t[75]=C=>a.editingJob.item_identifier=C),placeholder:"e.g., Computer-001, Printer-ABC"},null,512),[[Re,a.editingJob.item_identifier]]),t[202]||(t[202]=l("small",{class:"form-help"},"Optional: Unique identifier for the item",-1))]),l("div",k3,[t[203]||(t[203]=l("label",{for:"edit-contact-person"},"Contact Person",-1)),he(l("input",{type:"text",id:"edit-contact-person","onUpdate:modelValue":t[76]||(t[76]=C=>a.editingJob.contact_person=C),placeholder:"Person to contact about this fault"},null,512),[[Re,a.editingJob.contact_person]]),t[204]||(t[204]=l("small",{class:"form-help"},"Optional: Who should the technician contact?",-1))])]),l("div",I3,[t[205]||(t[205]=l("label",{for:"edit-fault-description"},"Fault Description *",-1)),he(l("textarea",{id:"edit-fault-description","onUpdate:modelValue":t[77]||(t[77]=C=>a.editingJob.fault_description=C),required:"",rows:"4",placeholder:"Describe the fault in detail..."},null,512),[[Re,a.editingJob.fault_description]])]),l("div",S3,[t[206]||(t[206]=l("label",null,"Attach Additional Images",-1)),vt(g,{ref:"editImageUpload","max-images":10,"max-file-size":10*1024*1024,onImagesChanged:h.handleEditImagesChanged},null,8,["onImagesChanged"])])])):le("",!0),a.userRole===3||a.userRole===4?(y(),v("div",T3,[t[210]||(t[210]=l("h4",null,"Technician Notes",-1)),l("div",P3,[t[208]||(t[208]=l("label",{for:"edit-technician-notes"},"Technician Notes",-1)),he(l("textarea",{id:"edit-technician-notes","onUpdate:modelValue":t[78]||(t[78]=C=>a.editingJob.technician_notes=C),rows:"4",placeholder:"Internal notes for technicians and service providers..."},null,512),[[Re,a.editingJob.technician_notes]]),t[209]||(t[209]=l("small",{class:"form-help"},"These notes are only visible to service providers and technicians",-1))])])):(y(),v("div",R3,[t[214]||(t[214]=l("h4",null,"Job Details (Read Only)",-1)),l("div",N3,[l("div",O3,[t[211]||(t[211]=l("label",null,"Item Identifier:",-1)),l("span",null,I(a.editingJob.item_identifier||"Not specified"),1)]),l("div",M3,[t[212]||(t[212]=l("label",null,"Contact Person:",-1)),l("span",null,I(a.editingJob.contact_person||"Not specified"),1)]),l("div",L3,[t[213]||(t[213]=l("label",null,"Fault Description:",-1)),l("span",null,I(a.editingJob.fault_description),1)])])])),l("div",U3,[l("h4",null,"Attached Images ("+I(a.editingJob.images?.length||0)+")",1),!a.editingJob.images||a.editingJob.images.length===0?(y(),v("div",j3,[...t[215]||(t[215]=[l("div",{class:"no-images-icon"},"",-1),l("p",null,"No images attached to this job",-1)])])):(y(),v("div",V3,[l("div",J3,[(y(!0),v(Me,null,ze(a.editingJob.images,C=>(y(),v("div",{key:C.id,class:"gallery-item"},[l("img",{src:`/backend/uploads/job_images/${C.filename}`,alt:C.original_filename,class:"gallery-image",onClick:w=>h.openImageModal(C)},null,8,H3),l("div",W3,[l("span",G3,I(C.original_filename),1)])]))),128))])]))]),l("div",X3,[l("button",{type:"button",onClick:t[79]||(t[79]=C=>a.showEditJobModal=!1),class:"btn-secondary"},"Cancel"),t[216]||(t[216]=l("button",{type:"submit",class:"btn-primary"}," Update Job ",-1))])],32)):le("",!0)])])):le("",!0),a.selectedImage?(y(),v("div",{key:7,class:"modal-overlay",onClick:t[85]||(t[85]=C=>a.selectedImage=null)},[l("div",{class:"image-modal-content",onClick:t[84]||(t[84]=Ve(()=>{},["stop"]))},[l("div",z3,[l("h3",null,I(a.selectedImage.original_filename),1),l("button",{onClick:t[83]||(t[83]=C=>a.selectedImage=null),class:"close-btn"},"")]),l("div",Y3,[l("img",{src:`/backend/uploads/job_images/${a.selectedImage.filename}`,alt:a.selectedImage.original_filename,class:"full-size-image"},null,8,K3)])])])):le("",!0)])}const q3=u0(ah,[["render",Z3],["__scopeId","data-v-d831b7ff"]]),Q3={name:"ServiceProviderClientJobs",data(){return{client:{},jobs:[],loading:!1,selectedJob:null,statusUpdateJob:null,newStatus:"",statusNotes:"",updatingStatus:!1,userRole:null,technicians:[],selectedTechnicianId:null,jobImages:{}}},computed:{activeJobsCount(){return this.jobs.filter(n=>["Reported","Assigned","In Progress"].includes(n.job_status)).length},completedJobsCount(){return this.jobs.filter(n=>n.job_status==="Completed").length}},mounted(){this.getUserRole();const n=this.$route.params.clientId;n?this.loadClientJobs(n):this.$router.push("/service-provider/dashboard")},methods:{async loadClientJobs(n){this.loading=!0;try{const t=await Ye(`/backend/api/service-provider-client-jobs.php?client_id=${n}`);if(t.ok){const c=await t.json();this.client=c.client,this.jobs=c.jobs}else this.handleError(await t.json())}catch{alert("Failed to load client jobs")}finally{this.loading=!1}},async showJobDetails(n){this.selectedJob={...n},console.log("Loading images for job:",n.id),await this.loadJobImages(n.id),console.log("Images loaded:",this.jobImages[n.id])},closeJobDetails(){this.selectedJob=null},async showStatusModal(n){this.statusUpdateJob={...n},this.newStatus=n.job_status,this.statusNotes="",this.selectedTechnicianId=null,this.userRole===3&&await this.loadTechnicians()},closeStatusModal(){this.statusUpdateJob=null,this.newStatus="",this.statusNotes="",this.selectedTechnicianId=null},canUpdateStatus(n){return n.archived_by_service_provider?!1:["Reported","Assigned","In Progress","On Hold"].includes(n.job_status)},async updateJobStatus(){if(!this.newStatus){alert("Please select a new status");return}if(this.newStatus==="In Progress"&&!this.selectedTechnicianId){alert('Please select a technician before setting the job to "In Progress"');return}this.updatingStatus=!0;try{const n={job_id:this.statusUpdateJob.id,status:this.newStatus,notes:this.statusNotes};this.newStatus==="In Progress"&&this.selectedTechnicianId&&(n.technician_id=this.selectedTechnicianId);const t=await Ye("/backend/api/job-status-update.php",{method:"PUT",body:JSON.stringify(n)});if(t.ok){const c=this.jobs.findIndex(f=>f.id===this.statusUpdateJob.id);if(c!==-1&&(this.jobs[c].job_status=this.newStatus,this.jobs[c].updated_at=new Date().toISOString(),this.newStatus==="In Progress"&&this.selectedTechnicianId)){const f=this.technicians.find(a=>a.id==this.selectedTechnicianId);f&&(this.jobs[c].assigned_technician=f.full_name)}this.closeStatusModal(),alert("Job status updated successfully!")}else this.handleError(await t.json())}catch{alert("Failed to update job status")}finally{this.updatingStatus=!1}},getStatusClass(n){return{Reported:"reported",Assigned:"assigned","In Progress":"in-progress",Completed:"completed","On Hold":"on-hold",Cancelled:"cancelled"}[n]||"unknown"},formatDate(n){const t=new Date(n);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},formatFileSize(n){if(n===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,f)).toFixed(2))+" "+c[f]},openImageModal(n){window.open(n.url,"_blank")},handleError(n){n.error?alert(n.error):alert("An error occurred")},getUserRole(){const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));this.userRole=t.role_id}catch(t){console.error("Error parsing token:",t),this.userRole=null}},async loadTechnicians(){try{const n=await Ye("/backend/api/technicians.php");if(n.ok){const t=await n.json();this.technicians=t.technicians||[]}else console.error("Failed to load technicians"),this.technicians=[]}catch(n){console.error("Error loading technicians:",n),this.technicians=[]}},async loadJobImages(n){try{const t=await Ye(`/backend/api/job-images.php?job_id=${n}`);if(t.ok){const c=await t.json();this.jobImages[n]=c.images||[]}else console.error("Failed to load job images"),this.jobImages[n]=[]}catch(t){console.error("Error loading job images:",t),this.jobImages[n]=[]}},canSelectStatus(n){if(!this.statusUpdateJob)return!1;const t=this.statusUpdateJob.job_status,c=this.userRole===3,f=this.userRole===4;switch(n){case"Declined":return c&&t==="Assigned";case"In Progress":return c&&t==="Assigned";case"Quote Provided":return c;case"Repaired":return(c||f)&&t==="In Progress";case"Payment Requested":return c&&t==="Repaired";default:return!1}},async toggleArchiveJob(n){const t=n.archived_by_service_provider?"unarchive":"archive",c=`Are you sure you want to ${t} this job?`;if(confirm(c))try{const f=await Ye("/backend/api/service-provider-client-jobs.php",{method:"PUT",body:JSON.stringify({job_id:n.id,archived_by_service_provider:!n.archived_by_service_provider})});if(f.ok){const a=this.jobs.findIndex(h=>h.id===n.id);a!==-1&&(this.jobs[a].archived_by_service_provider=!n.archived_by_service_provider,this.jobs[a].updated_at=new Date().toISOString()),alert(`Job ${t}d successfully!`)}else{const a=await f.json();this.handleError(a)}}catch{alert(`Failed to ${t} job`)}}}},$3={class:"min-h-screen bg-gray-50"},e5={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},t5={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},s5={class:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6"},n5={class:"text-3xl font-bold text-gray-900 mb-2"},r5={class:"text-gray-600 flex items-center gap-2"},i5={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},o5={class:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6 pb-4 border-b border-gray-200"},x5={class:"text-2xl font-bold text-gray-900 flex items-center gap-3"},l5={class:"flex gap-4"},a5={class:"text-center"},c5={class:"text-lg font-bold text-gray-900"},d5={class:"text-center"},u5={class:"text-lg font-bold text-blue-600"},f5={class:"text-center"},h5={class:"text-lg font-bold text-green-600"},E5={key:0,class:"text-center py-16"},g5={key:1,class:"text-center py-16"},C5={key:2,class:"space-y-6"},m5={class:"p-6 bg-gray-50 border-b border-gray-200"},A5={class:"flex justify-between items-start"},p5={class:"flex-1"},B5={class:"flex items-center justify-between mb-2"},b5={class:"text-xl font-semibold text-gray-900"},w5={class:"flex items-center gap-4 text-sm text-gray-600"},D5={class:"flex items-center gap-1"},F5={class:"flex items-center gap-1"},y5={class:"p-6"},v5={class:"mb-4"},_5={class:"text-gray-700"},k5={key:0,class:"mb-4"},I5={class:"text-gray-700"},S5={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 pt-4 border-t border-gray-200"},T5={class:"text-sm text-gray-600"},P5={key:0},R5={class:"text-sm text-gray-600"},N5={class:"text-sm text-gray-600"},O5={class:"flex justify-end gap-3"},M5=["onClick"],L5=["onClick"],U5=["onClick"],j5={class:"material-icon-sm"},V5={class:"modal-header"},J5={class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},H5={class:"modal-body"},W5={class:"mb-6"},G5={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},X5={class:"space-y-3"},z5={class:"flex justify-between py-2 border-b border-gray-200"},Y5={class:"text-gray-600"},K5={class:"flex justify-between py-2 border-b border-gray-200"},Z5={class:"text-gray-600"},q5={class:"flex justify-between py-2 border-b border-gray-200"},Q5={class:"text-gray-600"},$5={class:"flex justify-between py-2 border-b border-gray-200"},e4={class:"text-gray-600"},t4={class:"space-y-3"},s4={class:"flex justify-between py-2 border-b border-gray-200"},n4={class:"text-gray-600"},r4={class:"flex justify-between py-2 border-b border-gray-200"},i4={class:"text-gray-600"},o4={key:0,class:"flex justify-between py-2 border-b border-gray-200"},x4={class:"text-gray-600"},l4={class:"mb-6"},a4={class:"bg-gray-50 rounded-lg p-4"},c4={class:"text-gray-700"},d4={key:0,class:"mb-6"},u4={class:"bg-gray-50 rounded-lg p-4"},f4={class:"text-gray-700"},h4={key:1,class:"mb-6"},E4={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},g4={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},C4={class:"aspect-w-16 aspect-h-12 bg-gray-100 rounded-lg overflow-hidden border border-gray-200"},m4=["src","alt","onClick"],A4={class:"mt-2 text-sm text-gray-600"},p4={class:"font-medium truncate"},B4={class:"text-xs"},b4={key:0,class:"space-y-3"},w4={class:"flex-1"},D4={class:"font-medium text-gray-900"},F4={class:"text-sm text-gray-600"},y4={key:0},v4={key:1,class:"text-center py-8 text-gray-500"},_4={class:"modal-footer"},k4={class:"modal-header"},I4={class:"modal-body"},S4={class:"p-4 mb-6 bg-gray-50 rounded-lg"},T4={class:"flex items-center justify-between"},P4={class:"mb-6"},R4={key:0,value:"Declined"},N4={key:1,value:"In Progress"},O4={key:2,value:"Quote Provided"},M4={key:3,value:"Repaired"},L4={key:4,value:"Payment Requested"},U4={key:0,class:"mb-6"},j4=["value"],V4={key:0,class:"text-sm text-red-600 mt-1"},J4={class:"mb-6"},H4={class:"modal-footer"},W4=["disabled"],G4={key:0,class:"material-icon-sm animate-spin mr-2"};function X4(n,t,c,f,a,h){return y(),v("div",$3,[l("div",e5,[l("div",t5,[l("div",s5,[l("div",null,[l("h1",n5,I(a.client.name),1),l("p",r5,[t[13]||(t[13]=l("span",{class:"material-icon-sm text-gray-500"},"location_on",-1)),X(" "+I(a.client.address),1)])]),l("button",{onClick:t[0]||(t[0]=g=>n.$router.go(-1)),class:"btn-filled flex items-center gap-2"},[...t[14]||(t[14]=[l("span",{class:"material-icon-sm"},"arrow_back",-1),X(" Back to Dashboard ",-1)])])])]),l("div",i5,[l("div",o5,[l("h2",x5,[t[15]||(t[15]=l("span",{class:"material-icon text-blue-600"},"work",-1)),X(" Jobs for "+I(a.client.name),1)]),l("div",l5,[l("div",a5,[l("div",c5,I(a.jobs.length),1),t[16]||(t[16]=l("div",{class:"text-xs text-gray-600"},"Total Jobs",-1))]),l("div",d5,[l("div",u5,I(h.activeJobsCount),1),t[17]||(t[17]=l("div",{class:"text-xs text-gray-600"},"Active",-1))]),l("div",f5,[l("div",h5,I(h.completedJobsCount),1),t[18]||(t[18]=l("div",{class:"text-xs text-gray-600"},"Completed",-1))])])]),a.loading?(y(),v("div",E5,[...t[19]||(t[19]=[l("div",{class:"h-16 w-16 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center"},[l("span",{class:"material-icon text-gray-400 animate-spin"},"refresh")],-1),l("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Loading Jobs",-1),l("p",{class:"text-gray-600"},"Please wait while we fetch the job information...",-1)])])):a.jobs.length===0?(y(),v("div",g5,[...t[20]||(t[20]=[l("div",{class:"h-16 w-16 mx-auto mb-6 rounded-full bg-gray-100 flex items-center justify-center"},[l("span",{class:"material-icon text-gray-400"},"work_off")],-1),l("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No Jobs Found",-1),l("p",{class:"text-gray-600"},"No jobs have been assigned to you for this client yet.",-1)])])):(y(),v("div",C5,[(y(!0),v(Me,null,ze(a.jobs,g=>(y(),v("div",{key:g.id,class:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow bg-white"},[l("div",m5,[l("div",A5,[l("div",p5,[l("div",B5,[l("h3",b5,I(g.item_identifier||"No Item ID"),1),l("span",{class:xt(["px-3 py-1 rounded-full text-sm font-medium",g.job_status==="Reported"?"bg-blue-100 text-blue-800":g.job_status==="Assigned"?"bg-pink-100 text-pink-800":g.job_status==="In Progress"?"bg-purple-100 text-purple-800":g.job_status==="Completed"?"bg-gray-100 text-gray-800":g.job_status==="On Hold"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},I(g.job_status),3)]),l("div",w5,[l("span",D5,[t[21]||(t[21]=l("span",{class:"material-icon-sm"},"location_on",-1)),X(" "+I(g.location_name),1)]),l("span",F5,[t[22]||(t[22]=l("span",{class:"material-icon-sm"},"event",-1)),X(" "+I(h.formatDate(g.created_at)),1)])])])])]),l("div",y5,[l("div",v5,[t[23]||(t[23]=l("h4",{class:"text-lg font-medium text-gray-900 mb-2 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-blue-600"},"description"),X(" Fault Description ")],-1)),l("p",_5,I(g.fault_description),1)]),g.technician_notes?(y(),v("div",k5,[t[24]||(t[24]=l("h4",{class:"text-lg font-medium text-gray-900 mb-2 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-green-600"},"engineering"),X(" Technician Notes ")],-1)),l("p",I5,I(g.technician_notes),1)])):le("",!0),l("div",S5,[l("div",null,[t[25]||(t[25]=l("span",{class:"text-sm font-medium text-gray-900"},"Reported by:",-1)),l("div",T5,I(g.reporting_user||"Unknown"),1)]),g.assigned_technician?(y(),v("div",P5,[t[26]||(t[26]=l("span",{class:"text-sm font-medium text-gray-900"},"Assigned Technician:",-1)),l("div",R5,I(g.assigned_technician),1)])):le("",!0),l("div",null,[t[27]||(t[27]=l("span",{class:"text-sm font-medium text-gray-900"},"Last Updated:",-1)),l("div",N5,I(h.formatDate(g.updated_at)),1)])]),l("div",O5,[l("button",{onClick:C=>h.showJobDetails(g),class:"btn-filled flex items-center gap-2"},[...t[28]||(t[28]=[l("span",{class:"material-icon-sm"},"visibility",-1),X(" View Details ",-1)])],8,M5),h.canUpdateStatus(g)?(y(),v("button",{key:0,onClick:C=>h.showStatusModal(g),class:"btn-text flex items-center gap-2"},[...t[29]||(t[29]=[l("span",{class:"material-icon-sm"},"update",-1),X(" Update Status ",-1)])],8,L5)):le("",!0),l("button",{onClick:C=>h.toggleArchiveJob(g),class:xt(["btn-text flex items-center gap-2",{"text-orange-600":g.archived_by_service_provider}])},[l("span",j5,I(g.archived_by_service_provider?"unarchive":"archive"),1),X(" "+I(g.archived_by_service_provider?"Unarchive":"Archive"),1)],10,U5)])])]))),128))]))]),a.selectedJob?(y(),v("div",{key:0,class:"modal-overlay",onClick:t[4]||(t[4]=(...g)=>h.closeJobDetails&&h.closeJobDetails(...g))},[l("div",{class:"modal-content",onClick:t[3]||(t[3]=Ve(()=>{},["stop"]))},[l("div",V5,[l("h3",J5,[t[30]||(t[30]=l("span",{class:"material-icon text-blue-600"},"work",-1)),X(" Job Details - "+I(a.selectedJob.item_identifier||"No Item ID"),1)]),l("button",{onClick:t[1]||(t[1]=(...g)=>h.closeJobDetails&&h.closeJobDetails(...g)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"")]),l("div",H5,[l("div",W5,[l("span",{class:xt(["px-3 py-1 rounded-full text-sm font-medium",a.selectedJob.job_status==="Reported"?"bg-blue-100 text-blue-800":a.selectedJob.job_status==="Assigned"?"bg-pink-100 text-pink-800":a.selectedJob.job_status==="In Progress"?"bg-purple-100 text-purple-800":a.selectedJob.job_status==="Completed"?"bg-gray-100 text-gray-800":a.selectedJob.job_status==="On Hold"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},I(a.selectedJob.job_status),3)]),l("div",G5,[l("div",null,[t[35]||(t[35]=l("h4",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-blue-600"},"info"),X(" Job Information ")],-1)),l("div",X5,[l("div",z5,[t[31]||(t[31]=l("span",{class:"font-medium text-gray-900"},"Location:",-1)),l("span",Y5,I(a.selectedJob.location_name),1)]),l("div",K5,[t[32]||(t[32]=l("span",{class:"font-medium text-gray-900"},"Address:",-1)),l("span",Z5,I(a.selectedJob.location_address),1)]),l("div",q5,[t[33]||(t[33]=l("span",{class:"font-medium text-gray-900"},"Reported:",-1)),l("span",Q5,I(h.formatDate(a.selectedJob.created_at)),1)]),l("div",$5,[t[34]||(t[34]=l("span",{class:"font-medium text-gray-900"},"Last Updated:",-1)),l("span",e4,I(h.formatDate(a.selectedJob.updated_at)),1)])])]),l("div",null,[t[39]||(t[39]=l("h4",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-green-600"},"group"),X(" People Involved ")],-1)),l("div",t4,[l("div",s4,[t[36]||(t[36]=l("span",{class:"font-medium text-gray-900"},"Client:",-1)),l("span",n4,I(a.selectedJob.client_name),1)]),l("div",r4,[t[37]||(t[37]=l("span",{class:"font-medium text-gray-900"},"Reported by:",-1)),l("span",i4,I(a.selectedJob.reporting_user||"Unknown"),1)]),a.selectedJob.assigned_technician?(y(),v("div",o4,[t[38]||(t[38]=l("span",{class:"font-medium text-gray-900"},"Assigned Technician:",-1)),l("span",x4,I(a.selectedJob.assigned_technician),1)])):le("",!0)])])]),l("div",l4,[t[40]||(t[40]=l("h4",{class:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-blue-600"},"description"),X(" Fault Description ")],-1)),l("div",a4,[l("p",c4,I(a.selectedJob.fault_description),1)])]),a.selectedJob.technician_notes?(y(),v("div",d4,[t[41]||(t[41]=l("h4",{class:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-green-600"},"engineering"),X(" Technician Notes ")],-1)),l("div",u4,[l("p",f4,I(a.selectedJob.technician_notes),1)])])):le("",!0),a.jobImages[a.selectedJob.id]&&a.jobImages[a.selectedJob.id].length>0?(y(),v("div",h4,[l("h4",E4,[t[42]||(t[42]=l("span",{class:"material-icon-sm text-orange-600"},"image",-1)),X(" Attached Images ("+I(a.jobImages[a.selectedJob.id].length)+") ",1)]),l("div",g4,[(y(!0),v(Me,null,ze(a.jobImages[a.selectedJob.id],g=>(y(),v("div",{key:g.id,class:"relative group"},[l("div",C4,[l("img",{src:g.url,alt:g.original_filename,class:"w-full h-full object-cover cursor-pointer hover:scale-105 transition-transform",onClick:C=>h.openImageModal(g)},null,8,m4)]),l("div",A4,[l("div",p4,I(g.original_filename),1),l("div",B4,I(h.formatFileSize(g.file_size))+"  "+I(h.formatDate(g.uploaded_at)),1)])]))),128))])])):le("",!0),l("div",null,[t[45]||(t[45]=l("h4",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2"},[l("span",{class:"material-icon-sm text-purple-600"},"history"),X(" Status History ")],-1)),a.selectedJob.status_history&&a.selectedJob.status_history.length>0?(y(),v("div",b4,[(y(!0),v(Me,null,ze(a.selectedJob.status_history,g=>(y(),v("div",{key:g.changed_at,class:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg"},[t[43]||(t[43]=l("div",{class:"w-3 h-3 bg-blue-600 rounded-full mt-2 flex-shrink-0"},null,-1)),l("div",w4,[l("div",D4,I(g.status),1),l("div",F4,[X(I(h.formatDate(g.changed_at))+" ",1),g.changed_by?(y(),v("span",y4,"by "+I(g.changed_by),1)):le("",!0)])])]))),128))])):(y(),v("div",v4,[...t[44]||(t[44]=[l("span",{class:"material-icon text-4xl text-gray-300"},"history",-1),l("p",{class:"mt-2"},"No status history available",-1)])]))])]),l("div",_4,[l("button",{onClick:t[2]||(t[2]=(...g)=>h.closeJobDetails&&h.closeJobDetails(...g)),class:"btn-filled"},"Close")])])])):le("",!0),a.statusUpdateJob?(y(),v("div",{key:1,class:"modal-overlay",onClick:t[12]||(t[12]=(...g)=>h.closeStatusModal&&h.closeStatusModal(...g))},[l("div",{class:"modal-content",onClick:t[11]||(t[11]=Ve(()=>{},["stop"])),style:{"max-width":"500px"}},[l("div",k4,[t[46]||(t[46]=l("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-3"},[l("span",{class:"material-icon text-blue-600"},"update"),X(" Update Job Status ")],-1)),l("button",{onClick:t[5]||(t[5]=(...g)=>h.closeStatusModal&&h.closeStatusModal(...g)),class:"text-gray-400 hover:text-gray-600 text-2xl"},"")]),l("div",I4,[l("div",S4,[l("div",T4,[t[47]||(t[47]=l("span",{class:"font-medium text-gray-900"},"Current Status:",-1)),l("span",{class:xt(["px-3 py-1 rounded-full text-sm font-medium",a.statusUpdateJob.job_status==="Reported"?"bg-blue-100 text-blue-800":a.statusUpdateJob.job_status==="Assigned"?"bg-pink-100 text-pink-800":a.statusUpdateJob.job_status==="In Progress"?"bg-purple-100 text-purple-800":a.statusUpdateJob.job_status==="Completed"?"bg-gray-100 text-gray-800":a.statusUpdateJob.job_status==="On Hold"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},I(a.statusUpdateJob.job_status),3)])]),l("div",P4,[t[48]||(t[48]=l("label",{for:"newStatus",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"flag"),X(" New Status ")],-1)),he(l("select",{id:"newStatus","onUpdate:modelValue":t[6]||(t[6]=g=>a.newStatus=g),class:"form-input"},[h.canSelectStatus("Declined")?(y(),v("option",R4,"Declined")):le("",!0),h.canSelectStatus("In Progress")?(y(),v("option",N4,"In Progress")):le("",!0),h.canSelectStatus("Quote Provided")?(y(),v("option",O4,"Quote Provided")):le("",!0),h.canSelectStatus("Repaired")?(y(),v("option",M4,"Repaired")):le("",!0),h.canSelectStatus("Payment Requested")?(y(),v("option",L4,"Payment Requested")):le("",!0)],512),[[kt,a.newStatus]])]),a.newStatus==="In Progress"?(y(),v("div",U4,[t[50]||(t[50]=l("label",{for:"technician",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"engineering"),X(" Assign Technician * ")],-1)),he(l("select",{id:"technician","onUpdate:modelValue":t[7]||(t[7]=g=>a.selectedTechnicianId=g),class:"form-input"},[t[49]||(t[49]=l("option",{value:""},"Select a technician...",-1)),(y(!0),v(Me,null,ze(a.technicians,g=>(y(),v("option",{key:g.id,value:g.id},I(g.full_name)+" ("+I(g.username)+") ",9,j4))),128))],512),[[kt,a.selectedTechnicianId]]),a.selectedTechnicianId?le("",!0):(y(),v("p",V4,' A technician must be assigned before setting the job to "In Progress" '))])):le("",!0),l("div",J4,[t[51]||(t[51]=l("label",{for:"notes",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"notes"),X(" Notes (Optional) ")],-1)),he(l("textarea",{id:"notes","onUpdate:modelValue":t[8]||(t[8]=g=>a.statusNotes=g),rows:"3",class:"form-input resize-none",placeholder:"Add any notes about this status change..."},null,512),[[Re,a.statusNotes]])])]),l("div",H4,[l("button",{onClick:t[9]||(t[9]=(...g)=>h.closeStatusModal&&h.closeStatusModal(...g)),class:"btn-text"},"Cancel"),l("button",{onClick:t[10]||(t[10]=(...g)=>h.updateJobStatus&&h.updateJobStatus(...g)),class:"btn-filled",disabled:a.updatingStatus},[a.updatingStatus?(y(),v("span",G4,"refresh")):le("",!0),X(" "+I(a.updatingStatus?"Updating...":"Update Status"),1)],8,W4)])])])):le("",!0)])])}const z4=u0(Q3,[["render",X4]]),Y4={name:"ServiceProviderTechnicianJobs",data(){return{technician:{},jobs:[],loading:!1,selectedJob:null,statusUpdateJob:null,newStatus:"",statusNotes:"",updatingStatus:!1,userRole:null,technicians:[],selectedTechnicianId:null,jobImages:{}}},computed:{activeJobsCount(){return this.jobs.filter(n=>["Reported","Assigned","In Progress"].includes(n.job_status)).length},completedJobsCount(){return this.jobs.filter(n=>n.job_status==="Completed").length}},mounted(){this.getUserRole();const n=this.$route.params.technicianId;n?this.loadTechnicianJobs(n):this.$router.push("/service-provider/dashboard")},methods:{async loadTechnicianJobs(n){this.loading=!0;try{const t=await Ye(`/backend/api/technician-jobs.php?technician_id=${n}`);if(t.ok){const c=await t.json();this.technician=c.technician,this.jobs=c.jobs}else this.handleError(await t.json())}catch{alert("Failed to load technician jobs")}finally{this.loading=!1}},async showJobDetails(n){this.selectedJob={...n},await this.loadJobImages(n.id)},closeJobDetails(){this.selectedJob=null},async showStatusModal(n){this.statusUpdateJob={...n},this.newStatus=n.job_status,this.statusNotes="",this.selectedTechnicianId=null,this.userRole===3&&await this.loadTechnicians()},closeStatusModal(){this.statusUpdateJob=null,this.newStatus="",this.statusNotes="",this.selectedTechnicianId=null},canUpdateStatus(n){return["Reported","Assigned","In Progress","On Hold"].includes(n.job_status)},async updateJobStatus(){if(!this.newStatus){alert("Please select a new status");return}if(this.newStatus==="In Progress"&&!this.selectedTechnicianId){alert('Please select a technician before setting the job to "In Progress"');return}this.updatingStatus=!0;try{const n={job_id:this.statusUpdateJob.id,status:this.newStatus,notes:this.statusNotes};this.newStatus==="In Progress"&&this.selectedTechnicianId&&(n.technician_id=this.selectedTechnicianId);const t=await Ye("/backend/api/job-status-update.php",{method:"PUT",body:JSON.stringify(n)});if(t.ok){const c=this.jobs.findIndex(f=>f.id===this.statusUpdateJob.id);if(c!==-1&&(this.jobs[c].job_status=this.newStatus,this.jobs[c].updated_at=new Date().toISOString(),this.newStatus==="In Progress"&&this.selectedTechnicianId)){const f=this.technicians.find(a=>a.id==this.selectedTechnicianId);f&&(this.jobs[c].assigned_technician=f.full_name)}this.closeStatusModal(),alert("Job status updated successfully!")}else this.handleError(await t.json())}catch{alert("Failed to update job status")}finally{this.updatingStatus=!1}},getStatusClass(n){return{Reported:"reported",Assigned:"assigned","In Progress":"in-progress",Completed:"completed","On Hold":"on-hold",Cancelled:"cancelled"}[n]||"unknown"},formatDate(n){const t=new Date(n);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},formatFileSize(n){if(n===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],f=Math.floor(Math.log(n)/Math.log(t));return parseFloat((n/Math.pow(t,f)).toFixed(2))+" "+c[f]},openImageModal(n){window.open(n.url,"_blank")},handleError(n){n.error?alert(n.error):alert("An error occurred")},getUserRole(){const n=localStorage.getItem("token");if(n)try{const t=JSON.parse(atob(n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));this.userRole=t.role_id}catch(t){console.error("Error parsing token:",t),this.userRole=null}},async loadTechnicians(){try{const n=await Ye("/backend/api/technicians.php");if(n.ok){const t=await n.json();this.technicians=t.technicians||[]}else console.error("Failed to load technicians"),this.technicians=[]}catch(n){console.error("Error loading technicians:",n),this.technicians=[]}},async loadJobImages(n){try{const t=await Ye(`/backend/api/job-images.php?job_id=${n}`);if(t.ok){const c=await t.json();this.jobImages[n]=c.images||[]}else console.error("Failed to load job images"),this.jobImages[n]=[]}catch(t){console.error("Error loading job images:",t),this.jobImages[n]=[]}},canSelectStatus(n){if(!this.statusUpdateJob)return!1;const t=this.statusUpdateJob.job_status,c=this.userRole===3,f=this.userRole===4;switch(n){case"Declined":return c&&t==="Assigned";case"In Progress":return c&&t==="Assigned";case"Quote Provided":return c;case"Repaired":return(c||f)&&t==="In Progress";case"Payment Requested":return c&&t==="Repaired";default:return!1}}}},K4={class:"technician-jobs"},Z4={class:"page-header"},q4={class:"header-content"},Q4={class:"technician-info"},$4={class:"technician-email"},eC={key:0,class:"technician-phone"},tC={class:"back-button"},sC={class:"jobs-section"},nC={class:"section-header"},rC={class:"jobs-summary"},iC={class:"summary-item"},oC={class:"summary-item active"},xC={class:"summary-item completed"},lC={key:0,class:"loading-state"},aC={key:1,class:"no-jobs"},cC={key:2,class:"jobs-list"},dC={class:"job-header"},uC={class:"job-title"},fC={class:"job-meta"},hC={class:"client"},EC={class:"location"},gC={class:"date"},CC={class:"job-content"},mC={class:"fault-description"},AC={key:0,class:"technician-notes"},pC={class:"job-details"},BC={class:"detail-item"},bC={class:"detail-item"},wC={class:"detail-item"},DC={class:"job-actions"},FC=["onClick"],yC=["onClick"],vC={class:"modal-header"},_C={class:"job-details-content"},kC={class:"job-info-grid"},IC={class:"info-section"},SC={class:"info-grid"},TC={class:"info-item"},PC={class:"info-item"},RC={class:"info-item"},NC={class:"info-item"},OC={class:"info-item"},MC={class:"info-item"},LC={class:"info-section"},UC={class:"info-grid"},jC={class:"info-item"},VC={class:"info-item"},JC={class:"info-item"},HC={class:"job-description-section"},WC={key:0,class:"job-notes-section"},GC={key:1,class:"job-images-section"},XC={class:"images-grid"},zC={class:"image-container"},YC=["src","alt","onClick"],KC={class:"image-info"},ZC={class:"image-name"},qC={class:"image-meta"},QC={class:"status-history-section"},$C={key:0,class:"status-timeline"},e7={class:"timeline-content"},t7={class:"status-change"},s7={class:"status-meta"},n7={key:0},r7={key:1,class:"no-history"},i7={class:"modal-header"},o7={class:"status-form"},x7={class:"current-status"},l7={class:"form-group"},a7={key:0,value:"Declined"},c7={key:1,value:"In Progress"},d7={key:2,value:"Quote Provided"},u7={key:3,value:"Repaired"},f7={key:4,value:"Payment Requested"},h7={key:0,class:"form-group"},E7=["value"],g7={key:0,class:"text-sm text-red-600 mt-1"},C7={class:"form-group"},m7={class:"form-actions"},A7=["disabled"];function p7(n,t,c,f,a,h){return y(),v("div",K4,[l("div",Z4,[l("div",q4,[l("div",Q4,[l("h1",null,I(a.technician.full_name),1),l("p",$4,I(a.technician.email),1),a.technician.phone?(y(),v("p",eC,I(a.technician.phone),1)):le("",!0)]),l("div",tC,[l("button",{onClick:t[0]||(t[0]=g=>n.$router.go(-1)),class:"btn-secondary"},"  Back to Dashboard ")])])]),l("div",sC,[l("div",nC,[l("h2",null,"Jobs Assigned to "+I(a.technician.full_name),1),l("div",rC,[l("span",iC," Total: "+I(a.jobs.length),1),l("span",oC," Active: "+I(h.activeJobsCount),1),l("span",xC," Completed: "+I(h.completedJobsCount),1)])]),a.loading?(y(),v("div",lC,[...t[12]||(t[12]=[l("div",{class:"loading-spinner"},null,-1),l("p",null,"Loading technician jobs...",-1)])])):a.jobs.length===0?(y(),v("div",aC,[t[13]||(t[13]=l("div",{class:"no-jobs-icon"},"",-1)),t[14]||(t[14]=l("h3",null,"No jobs assigned",-1)),l("p",null,I(a.technician.full_name)+" doesn't have any jobs assigned yet.",1)])):(y(),v("div",cC,[(y(!0),v(Me,null,ze(a.jobs,g=>(y(),v("div",{key:g.id,class:"job-card"},[l("div",dC,[l("div",uC,[l("h3",null,I(g.item_identifier||"No Item ID"),1),l("span",{class:xt(["status-badge",h.getStatusClass(g.job_status)])},I(g.job_status),3)]),l("div",fC,[l("span",hC,I(g.client_name),1),l("span",EC,I(g.location_name),1),l("span",gC,I(h.formatDate(g.created_at)),1)])]),l("div",CC,[l("div",mC,[t[15]||(t[15]=l("h4",null,"Fault Description",-1)),l("p",null,I(g.fault_description),1)]),g.technician_notes?(y(),v("div",AC,[t[16]||(t[16]=l("h4",null,"Technician Notes",-1)),l("p",null,I(g.technician_notes),1)])):le("",!0),l("div",pC,[l("div",BC,[t[17]||(t[17]=l("strong",null,"Service Provider:",-1)),X(" "+I(g.service_provider_name),1)]),l("div",bC,[t[18]||(t[18]=l("strong",null,"Reported by:",-1)),X(" "+I(g.reporting_user||"Unknown"),1)]),l("div",wC,[t[19]||(t[19]=l("strong",null,"Last Updated:",-1)),X(" "+I(h.formatDate(g.updated_at)),1)])])]),l("div",DC,[l("button",{onClick:C=>h.showJobDetails(g),class:"btn-primary"}," View Details ",8,FC),h.canUpdateStatus(g)?(y(),v("button",{key:0,onClick:C=>h.showStatusModal(g),class:"btn-secondary"}," Update Status ",8,yC)):le("",!0)])]))),128))]))]),a.selectedJob?(y(),v("div",{key:0,class:"modal-overlay",onClick:t[3]||(t[3]=(...g)=>h.closeJobDetails&&h.closeJobDetails(...g))},[l("div",{class:"modal-content job-details-modal",onClick:t[2]||(t[2]=Ve(()=>{},["stop"]))},[l("div",vC,[l("h3",null,"Job Details - "+I(a.selectedJob.item_identifier||"No Item ID"),1),l("button",{onClick:t[1]||(t[1]=(...g)=>h.closeJobDetails&&h.closeJobDetails(...g)),class:"close-btn"},"")]),l("div",_C,[l("div",kC,[l("div",IC,[t[26]||(t[26]=l("h4",null,"Job Information",-1)),l("div",SC,[l("div",TC,[t[20]||(t[20]=l("strong",null,"Status:",-1)),l("span",{class:xt(["status-badge",h.getStatusClass(a.selectedJob.job_status)])},I(a.selectedJob.job_status),3)]),l("div",PC,[t[21]||(t[21]=l("strong",null,"Client:",-1)),X(" "+I(a.selectedJob.client_name),1)]),l("div",RC,[t[22]||(t[22]=l("strong",null,"Location:",-1)),X(" "+I(a.selectedJob.location_name),1)]),l("div",NC,[t[23]||(t[23]=l("strong",null,"Address:",-1)),X(" "+I(a.selectedJob.location_address),1)]),l("div",OC,[t[24]||(t[24]=l("strong",null,"Reported:",-1)),X(" "+I(h.formatDate(a.selectedJob.created_at)),1)]),l("div",MC,[t[25]||(t[25]=l("strong",null,"Last Updated:",-1)),X(" "+I(h.formatDate(a.selectedJob.updated_at)),1)])])]),l("div",LC,[t[30]||(t[30]=l("h4",null,"Assignment Details",-1)),l("div",UC,[l("div",jC,[t[27]||(t[27]=l("strong",null,"Technician:",-1)),X(" "+I(a.technician.full_name),1)]),l("div",VC,[t[28]||(t[28]=l("strong",null,"Service Provider:",-1)),X(" "+I(a.selectedJob.service_provider_name),1)]),l("div",JC,[t[29]||(t[29]=l("strong",null,"Reported by:",-1)),X(" "+I(a.selectedJob.reporting_user||"Unknown"),1)])])])]),l("div",HC,[t[31]||(t[31]=l("h4",null,"Fault Description",-1)),l("p",null,I(a.selectedJob.fault_description),1)]),a.selectedJob.technician_notes?(y(),v("div",WC,[t[32]||(t[32]=l("h4",null,"Technician Notes",-1)),l("p",null,I(a.selectedJob.technician_notes),1)])):le("",!0),a.jobImages[a.selectedJob.id]&&a.jobImages[a.selectedJob.id].length>0?(y(),v("div",GC,[l("h4",null,"Attached Images ("+I(a.jobImages[a.selectedJob.id].length)+")",1),l("div",XC,[(y(!0),v(Me,null,ze(a.jobImages[a.selectedJob.id],g=>(y(),v("div",{key:g.id,class:"image-item"},[l("div",zC,[l("img",{src:g.url,alt:g.original_filename,class:"job-image",onClick:C=>h.openImageModal(g)},null,8,YC)]),l("div",KC,[l("div",ZC,I(g.original_filename),1),l("div",qC,I(h.formatFileSize(g.file_size))+"  "+I(h.formatDate(g.uploaded_at)),1)])]))),128))])])):le("",!0),l("div",QC,[t[34]||(t[34]=l("h4",null,"Status History",-1)),a.selectedJob.status_history&&a.selectedJob.status_history.length>0?(y(),v("div",$C,[(y(!0),v(Me,null,ze(a.selectedJob.status_history,g=>(y(),v("div",{key:g.changed_at,class:"timeline-item"},[t[33]||(t[33]=l("div",{class:"timeline-marker"},null,-1)),l("div",e7,[l("div",t7,I(g.status),1),l("div",s7,[X(I(h.formatDate(g.changed_at))+" ",1),g.changed_by?(y(),v("span",n7,"by "+I(g.changed_by),1)):le("",!0)])])]))),128))])):(y(),v("div",r7," No status history available "))])])])])):le("",!0),a.statusUpdateJob?(y(),v("div",{key:1,class:"modal-overlay",onClick:t[11]||(t[11]=(...g)=>h.closeStatusModal&&h.closeStatusModal(...g))},[l("div",{class:"modal-content status-modal",onClick:t[10]||(t[10]=Ve(()=>{},["stop"]))},[l("div",i7,[t[35]||(t[35]=l("h3",null,"Update Job Status",-1)),l("button",{onClick:t[4]||(t[4]=(...g)=>h.closeStatusModal&&h.closeStatusModal(...g)),class:"close-btn"},"")]),l("div",o7,[l("div",x7,[t[36]||(t[36]=l("strong",null,"Current Status:",-1)),l("span",{class:xt(["status-badge",h.getStatusClass(a.statusUpdateJob.job_status)])},I(a.statusUpdateJob.job_status),3)]),l("div",l7,[t[37]||(t[37]=l("label",{for:"newStatus"},"New Status",-1)),he(l("select",{id:"newStatus","onUpdate:modelValue":t[5]||(t[5]=g=>a.newStatus=g),class:"status-select"},[h.canSelectStatus("Declined")?(y(),v("option",a7,"Declined")):le("",!0),h.canSelectStatus("In Progress")?(y(),v("option",c7,"In Progress")):le("",!0),h.canSelectStatus("Quote Provided")?(y(),v("option",d7,"Quote Provided")):le("",!0),h.canSelectStatus("Repaired")?(y(),v("option",u7,"Repaired")):le("",!0),h.canSelectStatus("Payment Requested")?(y(),v("option",f7,"Payment Requested")):le("",!0)],512),[[kt,a.newStatus]])]),a.newStatus==="In Progress"?(y(),v("div",h7,[t[39]||(t[39]=l("label",{for:"technician",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"engineering"),X(" Assign Technician * ")],-1)),he(l("select",{id:"technician","onUpdate:modelValue":t[6]||(t[6]=g=>a.selectedTechnicianId=g),class:"status-select"},[t[38]||(t[38]=l("option",{value:""},"Select a technician...",-1)),(y(!0),v(Me,null,ze(a.technicians,g=>(y(),v("option",{key:g.id,value:g.id},I(g.full_name)+" ("+I(g.username)+") ",9,E7))),128))],512),[[kt,a.selectedTechnicianId]]),a.selectedTechnicianId?le("",!0):(y(),v("p",g7,' A technician must be assigned before setting the job to "In Progress" '))])):le("",!0),l("div",C7,[t[40]||(t[40]=l("label",{for:"notes"},"Notes (Optional)",-1)),he(l("textarea",{id:"notes","onUpdate:modelValue":t[7]||(t[7]=g=>a.statusNotes=g),rows:"3",placeholder:"Add any notes about this status change..."},null,512),[[Re,a.statusNotes]])]),l("div",m7,[l("button",{onClick:t[8]||(t[8]=(...g)=>h.closeStatusModal&&h.closeStatusModal(...g)),class:"btn-secondary"},"Cancel"),l("button",{onClick:t[9]||(t[9]=(...g)=>h.updateJobStatus&&h.updateJobStatus(...g)),class:"btn-primary",disabled:a.updatingStatus},I(a.updatingStatus?"Updating...":"Update Status"),9,A7)])])])])):le("",!0)])}const B7=u0(Y4,[["render",p7],["__scopeId","data-v-f2ea9cc3"]]),b7={name:"ClientServiceProviderBrowser",data(){return{providers:[],availableServices:[],availableRegions:[],loading:!1,currentPage:1,totalPages:1,totalCount:0,viewMode:"grid",selectedProvider:null,approvingProvider:null,removingProvider:null,filters:{search:"",selectedService:"",selectedRegion:"",sortBy:"name",sortOrder:"ASC"},searchTimeout:null}},computed:{hasActiveFilters(){return this.filters.search||this.filters.selectedService||this.filters.selectedRegion},visiblePages(){const n=[],t=this.totalPages,c=this.currentPage;if(t<=7)for(let f=1;f<=t;f++)n.push(f);else c<=4?n.push(1,2,3,4,5,"...",t):c>=t-3?n.push(1,"...",t-4,t-3,t-2,t-1,t):n.push(1,"...",c-1,c,c+1,"...",t);return n}},mounted(){this.loadProviders()},methods:{async loadProviders(){this.loading=!0;try{const n=new URLSearchParams({page:this.currentPage,limit:12,search:this.filters.search,services:this.filters.selectedService,regions:this.filters.selectedRegion,sort:this.filters.sortBy,order:this.filters.sortOrder}),t=await Ye(`/backend/api/service-providers.php?${n}`);if(t.ok){const c=await t.json();this.providers=c.providers,this.availableServices=c.filters.services,this.availableRegions=c.filters.regions,this.totalCount=c.pagination.total_count,this.totalPages=c.pagination.total_pages}else this.handleError(await t.json())}catch{alert("Failed to load service providers")}finally{this.loading=!1}},debouncedSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.currentPage=1,this.loadProviders()},500)},applyFilters(){this.currentPage=1,this.loadProviders()},clearSearch(){this.filters.search="",this.applyFilters()},clearServiceFilter(){this.filters.selectedService="",this.applyFilters()},clearRegionFilter(){this.filters.selectedRegion="",this.applyFilters()},clearAllFilters(){this.filters.search="",this.filters.selectedService="",this.filters.selectedRegion="",this.filters.sortBy="name",this.filters.sortOrder="ASC",this.currentPage=1,this.loadProviders()},goToPage(n){n>=1&&n<=this.totalPages&&(this.currentPage=n,this.loadProviders())},async addToApproved(n){this.approvingProvider=n;try{const t=await Ye("/backend/api/client-approved-providers.php",{method:"POST",body:JSON.stringify({service_provider_id:n})});if(t.ok){const c=await t.json();alert(c.message);const f=this.providers.find(a=>a.id===n);f&&(f.is_approved=!0,f.approval_details=c)}else this.handleError(await t.json())}catch{alert("Failed to add provider to approved list")}finally{this.approvingProvider=null}},async removeFromApproved(n){this.removingProvider=n;try{const t=await Ye(`/backend/api/client-approved-providers.php?provider_id=${n}`,{method:"DELETE"});if(t.ok){const c=await t.json();alert(c.message);const f=this.providers.find(a=>a.id===n);f&&(f.is_approved=!1,f.approval_details=null)}else this.handleError(await t.json())}catch{alert("Failed to remove provider from approved list")}finally{this.removingProvider=null}},showProviderDetails(n){this.selectedProvider={...n}},closeProviderDetails(){this.selectedProvider=null},getServiceName(n){const t=this.availableServices.find(c=>c.id===n);return t?t.name:"Unknown Service"},getRegionName(n){const t=this.availableRegions.find(c=>c.id===n);return t?t.name:"Unknown Region"},truncateText(n,t){return n.length<=t?n:n.substring(0,t)+"..."},formatDate(n){return new Date(n).toLocaleDateString()},handleError(n){n.error?alert(n.error):alert("An error occurred")}}},w7={class:"min-h-screen bg-gray-50"},D7={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},F7={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8"},y7={class:"space-y-6"},v7={class:"relative"},_7={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},k7=["value"],I7=["value"],S7={key:0,class:"pt-4 border-t border-gray-200"},T7={class:"flex flex-wrap gap-2 mt-2"},P7={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800"},R7={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800"},N7={key:2,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800"},O7={class:"bg-white rounded-xl shadow-lg border border-gray-200 p-6"},M7={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-6 pb-4 border-b border-gray-200"},L7={class:"text-sm text-gray-600"},U7={key:0,class:"flex items-center gap-2"},j7={key:1},V7={class:"flex gap-2"},J7={key:0,class:"text-center py-16"},H7={key:1,class:"text-center py-16"},W7={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},G7={class:"card-header flex justify-between items-center"},X7={class:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center"},z7={class:"material-icon text-white"},Y7={class:"flex gap-2"},K7=["onClick","disabled"],Z7={key:0,class:"material-icon-sm animate-spin"},q7={key:1,class:"material-icon-sm"},Q7=["onClick","disabled"],$7={key:0,class:"material-icon-sm animate-spin"},em={key:1,class:"material-icon-sm"},tm={class:"card-content"},sm={class:"text-lg font-semibold text-gray-900 mb-2"},nm={class:"text-gray-600 text-sm mb-3"},rm={key:0,class:"text-gray-700 text-sm mb-4 line-clamp-2"},im={class:"flex gap-4 text-sm text-gray-500 mb-4"},om={class:"flex items-center gap-1"},xm={class:"flex items-center gap-1"},lm={class:"card-footer flex justify-between items-center"},am=["onClick"],cm={class:"text-xs text-gray-500"},dm={key:3,class:"providers-list"},um={class:"provider-list-content"},fm={class:"provider-list-header"},hm={class:"provider-list-actions"},Em=["onClick","disabled"],gm=["onClick","disabled"],Cm=["onClick"],mm={class:"provider-address"},Am={class:"provider-meta"},pm={key:4,class:"pagination"},Bm=["disabled"],bm={key:0,class:"page-ellipsis"},wm=["onClick"],Dm=["disabled"],Fm={class:"modal-header"},ym={class:"provider-details-content"},vm={class:"provider-details-main"},_m={class:"provider-info-section"},km={class:"info-grid"},Im={class:"info-item"},Sm={key:0,class:"info-item"},Tm=["href"],Pm={key:1,class:"info-item full-width"},Rm={class:"provider-services-section"},Nm={class:"services-tags"},Om={key:0,class:"primary-indicator"},Mm={class:"provider-regions-section"},Lm={class:"regions-tags"},Um={class:"provider-details-actions"},jm=["disabled"],Vm=["disabled"];function Jm(n,t,c,f,a,h){return y(),v("div",w7,[l("div",D7,[t[60]||(t[60]=Xs('<div class="text-center mb-12" data-v-aa844aaf><div class="mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-blue-100 mb-6" data-v-aa844aaf><span class="material-icon text-blue-600" data-v-aa844aaf>search</span></div><h1 class="text-4xl font-bold text-gray-900 mb-4" data-v-aa844aaf>Find Service Providers</h1><p class="text-xl text-gray-600 max-w-2xl mx-auto" data-v-aa844aaf> Discover and connect with qualified service providers in your area </p></div>',1)),l("div",F7,[l("div",y7,[l("div",v7,[t[24]||(t[24]=l("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[l("span",{class:"material-icon-sm text-gray-400"},"search")],-1)),he(l("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=g=>a.filters.search=g),placeholder:"Search by name, description, or location...",onInput:t[1]||(t[1]=(...g)=>h.debouncedSearch&&h.debouncedSearch(...g)),class:"form-input pl-10 w-full"},null,544),[[Re,a.filters.search]])]),l("div",_7,[l("div",null,[t[26]||(t[26]=l("label",{class:"form-label flex items-center gap-2 mb-2"},[l("span",{class:"material-icon-sm text-gray-500"},"build"),X(" Services ")],-1)),he(l("select",{"onUpdate:modelValue":t[2]||(t[2]=g=>a.filters.selectedService=g),onChange:t[3]||(t[3]=(...g)=>h.applyFilters&&h.applyFilters(...g)),class:"form-input"},[t[25]||(t[25]=l("option",{value:""},"All Services",-1)),(y(!0),v(Me,null,ze(a.availableServices,g=>(y(),v("option",{key:g.id,value:g.id},I(g.name),9,k7))),128))],544),[[kt,a.filters.selectedService]])]),l("div",null,[t[28]||(t[28]=l("label",{class:"form-label flex items-center gap-2 mb-2"},[l("span",{class:"material-icon-sm text-gray-500"},"location_on"),X(" Regions ")],-1)),he(l("select",{"onUpdate:modelValue":t[4]||(t[4]=g=>a.filters.selectedRegion=g),onChange:t[5]||(t[5]=(...g)=>h.applyFilters&&h.applyFilters(...g)),class:"form-input"},[t[27]||(t[27]=l("option",{value:""},"All Regions",-1)),(y(!0),v(Me,null,ze(a.availableRegions,g=>(y(),v("option",{key:g.id,value:g.id},I(g.name),9,I7))),128))],544),[[kt,a.filters.selectedRegion]])]),l("div",null,[t[30]||(t[30]=l("label",{class:"form-label flex items-center gap-2 mb-2"},[l("span",{class:"material-icon-sm text-gray-500"},"sort"),X(" Sort By ")],-1)),he(l("select",{"onUpdate:modelValue":t[6]||(t[6]=g=>a.filters.sortBy=g),onChange:t[7]||(t[7]=(...g)=>h.applyFilters&&h.applyFilters(...g)),class:"form-input"},[...t[29]||(t[29]=[l("option",{value:"name"},"Name",-1),l("option",{value:"created_at"},"Newest",-1),l("option",{value:"updated_at"},"Recently Updated",-1)])],544),[[kt,a.filters.sortBy]])]),l("div",null,[t[32]||(t[32]=l("label",{class:"form-label flex items-center gap-2 mb-2"},[l("span",{class:"material-icon-sm text-gray-500"},"arrow_upward"),X(" Order ")],-1)),he(l("select",{"onUpdate:modelValue":t[8]||(t[8]=g=>a.filters.sortOrder=g),onChange:t[9]||(t[9]=(...g)=>h.applyFilters&&h.applyFilters(...g)),class:"form-input"},[...t[31]||(t[31]=[l("option",{value:"ASC"},"Ascending",-1),l("option",{value:"DESC"},"Descending",-1)])],544),[[kt,a.filters.sortOrder]])])]),h.hasActiveFilters?(y(),v("div",S7,[t[40]||(t[40]=l("span",{class:"text-sm font-medium text-gray-700 mr-3"},"Active Filters:",-1)),l("div",T7,[a.filters.search?(y(),v("span",P7,[t[34]||(t[34]=l("span",{class:"material-icon-sm mr-1"},"search",-1)),X(' "'+I(a.filters.search)+'" ',1),l("button",{onClick:t[10]||(t[10]=(...g)=>h.clearSearch&&h.clearSearch(...g)),class:"ml-2 text-blue-600 hover:text-blue-800"},[...t[33]||(t[33]=[l("span",{class:"material-icon-sm"},"close",-1)])])])):le("",!0),a.filters.selectedService?(y(),v("span",R7,[t[36]||(t[36]=l("span",{class:"material-icon-sm mr-1"},"build",-1)),X(" "+I(h.getServiceName(a.filters.selectedService))+" ",1),l("button",{onClick:t[11]||(t[11]=(...g)=>h.clearServiceFilter&&h.clearServiceFilter(...g)),class:"ml-2 text-green-600 hover:text-green-800"},[...t[35]||(t[35]=[l("span",{class:"material-icon-sm"},"close",-1)])])])):le("",!0),a.filters.selectedRegion?(y(),v("span",N7,[t[38]||(t[38]=l("span",{class:"material-icon-sm mr-1"},"location_on",-1)),X(" "+I(h.getRegionName(a.filters.selectedRegion))+" ",1),l("button",{onClick:t[12]||(t[12]=(...g)=>h.clearRegionFilter&&h.clearRegionFilter(...g)),class:"ml-2 text-purple-600 hover:text-purple-800"},[...t[37]||(t[37]=[l("span",{class:"material-icon-sm"},"close",-1)])])])):le("",!0),l("button",{onClick:t[13]||(t[13]=(...g)=>h.clearAllFilters&&h.clearAllFilters(...g)),class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 text-red-800 hover:bg-red-200 transition-colors"},[...t[39]||(t[39]=[l("span",{class:"material-icon-sm mr-1"},"clear_all",-1),X(" Clear All ",-1)])])])])):le("",!0)])]),l("div",O7,[l("div",M7,[l("div",L7,[a.loading?(y(),v("span",U7,[...t[41]||(t[41]=[l("div",{class:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"},null,-1),X(" Loading... ",-1)])])):(y(),v("span",j7,I(a.totalCount)+" service providers found",1))]),l("div",V7,[l("button",{onClick:t[14]||(t[14]=g=>a.viewMode="grid"),class:xt(["px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",a.viewMode==="grid"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},[...t[42]||(t[42]=[l("span",{class:"material-icon-sm"},"grid_view",-1),X(" Grid ",-1)])],2),l("button",{onClick:t[15]||(t[15]=g=>a.viewMode="list"),class:xt(["px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",a.viewMode==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},[...t[43]||(t[43]=[l("span",{class:"material-icon-sm"},"list",-1),X(" List ",-1)])],2)])]),a.loading?(y(),v("div",J7,[...t[44]||(t[44]=[l("div",{class:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent mx-auto mb-4"},null,-1),l("p",{class:"text-gray-600"},"Loading service providers...",-1)])])):a.providers.length===0?(y(),v("div",H7,[t[46]||(t[46]=l("div",{class:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gray-100 mb-6"},[l("span",{class:"material-icon text-gray-400"},"search_off")],-1)),t[47]||(t[47]=l("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No service providers found",-1)),t[48]||(t[48]=l("p",{class:"text-gray-600 mb-6"},"Try adjusting your search criteria or filters",-1)),l("button",{onClick:t[16]||(t[16]=(...g)=>h.clearAllFilters&&h.clearAllFilters(...g)),class:"btn-filled flex items-center gap-2 mx-auto"},[...t[45]||(t[45]=[l("span",{class:"material-icon-sm"},"refresh",-1),X(" Clear Filters ",-1)])])])):a.viewMode==="grid"?(y(),v("div",W7,[(y(!0),v(Me,null,ze(a.providers,g=>(y(),v("div",{key:g.id,class:"card hover:shadow-lg transition-shadow"},[l("div",G7,[l("div",X7,[l("span",z7,I(g.name.charAt(0)),1)]),l("div",Y7,[g.is_approved?(y(),v("button",{key:1,onClick:C=>h.removeFromApproved(g.id),class:"btn-outlined btn-small flex items-center gap-1",disabled:a.removingProvider===g.id},[a.removingProvider===g.id?(y(),v("span",$7,"refresh")):(y(),v("span",em,"check")),X(" "+I(a.removingProvider===g.id?"Removing...":"Added"),1)],8,Q7)):(y(),v("button",{key:0,onClick:C=>h.addToApproved(g.id),class:"btn-filled btn-small flex items-center gap-1",disabled:a.approvingProvider===g.id},[a.approvingProvider===g.id?(y(),v("span",Z7,"refresh")):(y(),v("span",q7,"add")),X(" "+I(a.approvingProvider===g.id?"Adding...":"Add"),1)],8,K7))])]),l("div",tm,[l("h3",sm,I(g.name),1),l("p",nm,I(g.address),1),g.description?(y(),v("p",rm,I(h.truncateText(g.description,100)),1)):le("",!0),l("div",im,[l("div",om,[t[49]||(t[49]=l("span",{class:"material-icon-sm"},"build",-1)),X(" "+I(g.services_count)+" services ",1)]),l("div",xm,[t[50]||(t[50]=l("span",{class:"material-icon-sm"},"location_on",-1)),X(" "+I(g.regions_count)+" regions ",1)])])]),l("div",lm,[l("button",{onClick:C=>h.showProviderDetails(g),class:"btn-text btn-small flex items-center gap-1"},[...t[51]||(t[51]=[l("span",{class:"material-icon-sm"},"visibility",-1),X(" View Details ",-1)])],8,am),l("div",cm," Updated "+I(h.formatDate(g.updated_at)),1)])]))),128))])):(y(),v("div",dm,[(y(!0),v(Me,null,ze(a.providers,g=>(y(),v("div",{key:g.id,class:"provider-list-item"},[l("div",um,[l("div",fm,[l("h3",null,I(g.name),1),l("div",hm,[g.is_approved?(y(),v("button",{key:1,onClick:C=>h.removeFromApproved(g.id),class:"remove-btn-small",disabled:a.removingProvider===g.id},I(a.removingProvider===g.id?"Removing...":" Added"),9,gm)):(y(),v("button",{key:0,onClick:C=>h.addToApproved(g.id),class:"approve-btn-small",disabled:a.approvingProvider===g.id},I(a.approvingProvider===g.id?"Adding...":"+ Add"),9,Em)),l("button",{onClick:C=>h.showProviderDetails(g),class:"details-btn-small"}," Details ",8,Cm)])]),l("p",mm,I(g.address),1),l("div",Am,[l("span",null,I(g.services_count)+" services",1),t[52]||(t[52]=X("  ",-1)),l("span",null,I(g.regions_count)+" regions",1),t[53]||(t[53]=X("  ",-1)),l("span",null,"Updated "+I(h.formatDate(g.updated_at)),1)])])]))),128))])),a.totalPages>1?(y(),v("div",pm,[l("button",{onClick:t[17]||(t[17]=g=>h.goToPage(a.currentPage-1)),disabled:a.currentPage===1,class:"page-btn"}," Previous ",8,Bm),(y(!0),v(Me,null,ze(h.visiblePages,g=>(y(),v("span",{key:g,class:"page-numbers"},[g==="..."?(y(),v("button",bm,I(g),1)):(y(),v("button",{key:1,onClick:C=>h.goToPage(g),class:xt(["page-btn",{active:g===a.currentPage}])},I(g),11,wm))]))),128)),l("button",{onClick:t[18]||(t[18]=g=>h.goToPage(a.currentPage+1)),disabled:a.currentPage===a.totalPages,class:"page-btn"}," Next ",8,Dm)])):le("",!0)]),a.selectedProvider?(y(),v("div",{key:0,class:"modal-overlay",onClick:t[23]||(t[23]=(...g)=>h.closeProviderDetails&&h.closeProviderDetails(...g))},[l("div",{class:"modal-content provider-details-modal",onClick:t[22]||(t[22]=Ve(()=>{},["stop"]))},[l("div",Fm,[l("h3",null,I(a.selectedProvider.name),1),l("button",{onClick:t[19]||(t[19]=(...g)=>h.closeProviderDetails&&h.closeProviderDetails(...g)),class:"close-btn"},"")]),l("div",ym,[l("div",vm,[l("div",_m,[t[57]||(t[57]=l("h4",null,"Company Information",-1)),l("div",km,[l("div",Im,[t[54]||(t[54]=l("strong",null,"Address:",-1)),X(" "+I(a.selectedProvider.address),1)]),a.selectedProvider.website?(y(),v("div",Sm,[t[55]||(t[55]=l("strong",null,"Website:",-1)),l("a",{href:a.selectedProvider.website,target:"_blank"},I(a.selectedProvider.website),9,Tm)])):le("",!0),a.selectedProvider.description?(y(),v("div",Pm,[t[56]||(t[56]=l("strong",null,"Description:",-1)),X(" "+I(a.selectedProvider.description),1)])):le("",!0)])]),l("div",Rm,[t[58]||(t[58]=l("h4",null,"Services Offered",-1)),l("div",Nm,[(y(!0),v(Me,null,ze(a.selectedProvider.services,g=>(y(),v("span",{key:g.id,class:xt(["service-tag",{primary:g.is_primary}])},[X(I(g.name)+" ",1),g.is_primary?(y(),v("span",Om,"")):le("",!0)],2))),128))])]),l("div",Mm,[t[59]||(t[59]=l("h4",null,"Service Regions",-1)),l("div",Lm,[(y(!0),v(Me,null,ze(a.selectedProvider.regions,g=>(y(),v("span",{key:g.id,class:"region-tag"},I(g.name),1))),128))])])]),l("div",Um,[a.selectedProvider.is_approved?(y(),v("button",{key:1,onClick:t[21]||(t[21]=g=>h.removeFromApproved(a.selectedProvider.id)),class:"remove-btn-large",disabled:a.removingProvider===a.selectedProvider.id},I(a.removingProvider===a.selectedProvider.id?"Removing...":" Remove from Approved List"),9,Vm)):(y(),v("button",{key:0,onClick:t[20]||(t[20]=g=>h.addToApproved(a.selectedProvider.id)),class:"approve-btn-large",disabled:a.approvingProvider===a.selectedProvider.id},I(a.approvingProvider===a.selectedProvider.id?"Adding to Approved...":"+ Add to Approved List"),9,jm))])])])])):le("",!0)])])}const Hm=u0(b7,[["render",Jm],["__scopeId","data-v-aa844aaf"]]),Wm={name:"ForgotPassword",data(){return{loading:!1,emailSent:!1,form:{email:""}}},methods:{async requestReset(){this.loading=!0;try{const n=await fetch("/backend/api/request-password-reset.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)}),t=await n.json();n.ok?this.emailSent=!0:alert(t.error||"Failed to send reset email")}catch{alert("Request failed. Please try again.")}finally{this.loading=!1}}}},Gm={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},Xm={class:"max-w-md w-full space-y-8"},zm={key:0,class:"card"},Ym={class:"text-center"},Km={class:"text-sm text-gray-600 mb-6"},Zm={key:1,class:"card"},qm=["disabled"],Qm={key:0,class:"material-icon-sm animate-spin"},$m={key:1,class:"material-icon-sm"},eA={class:"mt-6 text-center"};function tA(n,t,c,f,a,h){const g=O0("router-link");return y(),v("div",Gm,[l("div",Xm,[t[9]||(t[9]=Xs('<div class="text-center"><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-blue-100"><span class="material-icon text-blue-600">lock_reset</span></div><h2 class="mt-6 text-3xl font-bold text-gray-900">Reset your password</h2><p class="mt-2 text-sm text-gray-600"> Enter your email address and we&#39;ll send you a link to reset your password. </p></div>',1)),a.emailSent?(y(),v("div",zm,[l("div",Ym,[t[5]||(t[5]=l("div",{class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-100 mb-4"},[l("span",{class:"material-icon text-green-600"},"check_circle")],-1)),t[6]||(t[6]=l("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Check your email",-1)),l("p",Km,[t[2]||(t[2]=X(" We've sent a password reset link to ",-1)),l("strong",null,I(a.form.email),1),t[3]||(t[3]=X(". Please check your email and follow the instructions. ",-1))]),vt(g,{to:"/",class:"btn-filled w-full flex items-center justify-center gap-2"},{default:D0(()=>[...t[4]||(t[4]=[l("span",{class:"material-icon-sm"},"arrow_back",-1),X(" Back to Sign In ",-1)])]),_:1})])])):(y(),v("div",Zm,[l("form",{onSubmit:t[1]||(t[1]=Ve((...C)=>h.requestReset&&h.requestReset(...C),["prevent"])),class:"space-y-6"},[l("div",null,[t[7]||(t[7]=l("label",{for:"email",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"email"),X(" Email Address ")],-1)),he(l("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=C=>a.form.email=C),required:"",class:"form-input",placeholder:"Enter your email address"},null,512),[[Re,a.form.email]])]),l("div",null,[l("button",{type:"submit",class:"btn-filled w-full flex items-center justify-center gap-2",disabled:a.loading},[a.loading?(y(),v("span",Qm,"refresh")):(y(),v("span",$m,"send")),X(" "+I(a.loading?"Sending...":"Send Reset Link"),1)],8,qm)])],32),l("div",eA,[vt(g,{to:"/",class:"text-sm text-blue-600 hover:text-blue-500 transition-colors"},{default:D0(()=>[...t[8]||(t[8]=[X("  Back to Sign In ",-1)])]),_:1})])]))])])}const sA=u0(Wm,[["render",tA]]),nA={name:"ResetPassword",data(){return{loading:!1,passwordReset:!1,token:"",form:{password:"",confirmPassword:""}}},mounted(){this.token=this.$route.query.token||"",this.token||(alert("Invalid reset link. Please request a new password reset."),this.$router.push("/forgot-password"))},methods:{async resetPassword(){if(this.form.password!==this.form.confirmPassword){alert("Passwords do not match");return}this.loading=!0;try{const n=await Ye("/backend/api/verify-email.php",{method:"POST",body:JSON.stringify({token:this.token,action:"reset",password:this.form.password})});if(n.ok)this.passwordReset=!0;else{const t=await n.json();alert(t.error||"Failed to reset password")}}catch{alert("Request failed. Please try again.")}finally{this.loading=!1}}}},rA={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},iA={class:"max-w-md w-full space-y-8"},oA={key:0,class:"card"},xA={class:"text-center"},lA={key:1,class:"card"},aA={key:0,class:"text-sm text-red-600"},cA=["disabled"],dA={key:0,class:"material-icon-sm animate-spin"},uA={key:1,class:"material-icon-sm"},fA={class:"mt-6 text-center"};function hA(n,t,c,f,a,h){const g=O0("router-link");return y(),v("div",rA,[l("div",iA,[t[10]||(t[10]=Xs('<div class="text-center"><div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-100"><span class="material-icon text-green-600">lock_reset</span></div><h2 class="mt-6 text-3xl font-bold text-gray-900">Set new password</h2><p class="mt-2 text-sm text-gray-600"> Enter your new password below. </p></div>',1)),a.passwordReset?(y(),v("div",oA,[l("div",xA,[t[4]||(t[4]=l("div",{class:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-green-100 mb-4"},[l("span",{class:"material-icon text-green-600"},"check_circle")],-1)),t[5]||(t[5]=l("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Password reset successful!",-1)),t[6]||(t[6]=l("p",{class:"text-sm text-gray-600 mb-6"}," Your password has been updated. You can now sign in with your new password. ",-1)),vt(g,{to:"/",class:"btn-filled w-full flex items-center justify-center gap-2"},{default:D0(()=>[...t[3]||(t[3]=[l("span",{class:"material-icon-sm"},"login",-1),X(" Sign In Now ",-1)])]),_:1})])])):(y(),v("div",lA,[l("form",{onSubmit:t[2]||(t[2]=Ve((...C)=>h.resetPassword&&h.resetPassword(...C),["prevent"])),class:"space-y-6"},[l("div",null,[t[7]||(t[7]=l("label",{for:"password",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"lock"),X(" New Password ")],-1)),he(l("input",{type:"password",id:"password","onUpdate:modelValue":t[0]||(t[0]=C=>a.form.password=C),required:"",minlength:"6",class:"form-input",placeholder:"Enter new password (min 6 characters)"},null,512),[[Re,a.form.password]])]),l("div",null,[t[8]||(t[8]=l("label",{for:"confirmPassword",class:"form-label flex items-center gap-2"},[l("span",{class:"material-icon-sm text-gray-500"},"lock"),X(" Confirm New Password ")],-1)),he(l("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[1]||(t[1]=C=>a.form.confirmPassword=C),required:"",minlength:"6",class:"form-input",placeholder:"Confirm new password"},null,512),[[Re,a.form.confirmPassword]])]),a.form.password&&a.form.confirmPassword&&a.form.password!==a.form.confirmPassword?(y(),v("div",aA," Passwords do not match ")):le("",!0),l("div",null,[l("button",{type:"submit",class:"btn-filled w-full flex items-center justify-center gap-2",disabled:a.loading||!a.form.password||!a.form.confirmPassword||a.form.password!==a.form.confirmPassword},[a.loading?(y(),v("span",dA,"refresh")):(y(),v("span",uA,"save")),X(" "+I(a.loading?"Updating...":"Update Password"),1)],8,cA)])],32),l("div",fA,[vt(g,{to:"/",class:"text-sm text-blue-600 hover:text-blue-500 transition-colors"},{default:D0(()=>[...t[9]||(t[9]=[X("  Back to Sign In ",-1)])]),_:1})])]))])])}const EA=u0(nA,[["render",hA]]),gA=[{path:"/",name:"Home",component:Jd},{path:"/client-registration",name:"ClientRegistration",component:$d},{path:"/client-dashboard",name:"ClientDashboard",component:$2,meta:{requiresAuth:!0,userType:"client"}},{path:"/service-provider-registration",name:"ServiceProviderRegistration",component:lh},{path:"/service-provider-dashboard",name:"ServiceProviderDashboard",component:q3,meta:{requiresAuth:!0,userType:"service_provider"}},{path:"/service-provider/client/:clientId/jobs",name:"ServiceProviderClientJobs",component:z4,meta:{requiresAuth:!0,userType:"service_provider"},props:!0},{path:"/service-provider/technician/:technicianId/jobs",name:"ServiceProviderTechnicianJobs",component:B7,meta:{requiresAuth:!0,userType:"service_provider"},props:!0},{path:"/browse-providers",name:"ClientServiceProviderBrowser",component:Hm,meta:{requiresAuth:!0,userType:"client"}},{path:"/forgot-password",name:"ForgotPassword",component:sA},{path:"/reset-password",name:"ResetPassword",component:EA},{path:"/verify-email",name:"VerifyEmail",component:()=>Dc(()=>import("./VerifyEmail-DMlHC0Lx.js"),[])}],ml=yd({history:td(),routes:gA});ml.beforeEach((n,t,c)=>{const f=localStorage.getItem("token"),a=n.matched.some(g=>g.meta.requiresAuth),h=n.matched.find(g=>g.meta.userType)?.meta.userType;if(a&&!f){c("/");return}if(a&&f&&h)try{const g=JSON.parse(atob(f.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));if(g.entity_type!==h){g.entity_type==="client"?c("/client-dashboard"):g.entity_type==="service_provider"?c("/service-provider-dashboard"):(localStorage.removeItem("token"),c("/"));return}}catch{localStorage.removeItem("token"),c("/");return}c()});Ec(Bc).use(ml).mount("#app");export{u0 as _,l as a,Xs as b,v as c,vt as d,X as e,y as o,O0 as r,I as t,D0 as w};
